(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _inicio_inicio_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inicio/inicio.component */ "./src/app/inicio/inicio.component.ts");
/* harmony import */ var _basic_components_mi_cuenta_mi_cuenta_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./basic-components/mi-cuenta/mi-cuenta.component */ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.ts");
/* harmony import */ var _usuarios_components_usuarios_usuarios_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./usuarios-components/usuarios/usuarios.component */ "./src/app/usuarios-components/usuarios/usuarios.component.ts");
/* harmony import */ var _plantas_components_plantas_plantas_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./plantas-components/plantas/plantas.component */ "./src/app/plantas-components/plantas/plantas.component.ts");
/* harmony import */ var _lineas_components_lineas_lineas_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lineas-components/lineas/lineas.component */ "./src/app/lineas-components/lineas/lineas.component.ts");
/* harmony import */ var _lineas_components_lineasbyid_lineasbyid_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./lineas-components/lineasbyid/lineasbyid.component */ "./src/app/lineas-components/lineasbyid/lineasbyid.component.ts");
/* harmony import */ var _equipos_components_equipos_equipos_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./equipos-components/equipos/equipos.component */ "./src/app/equipos-components/equipos/equipos.component.ts");
/* harmony import */ var _servicios_component_servicios_servicios_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./servicios-component/servicios/servicios.component */ "./src/app/servicios-component/servicios/servicios.component.ts");
/* harmony import */ var _usuarios_components_view_user_view_user_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./usuarios-components/view-user/view-user.component */ "./src/app/usuarios-components/view-user/view-user.component.ts");
/* harmony import */ var _usuarios_components_add_user_add_user_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./usuarios-components/add-user/add-user.component */ "./src/app/usuarios-components/add-user/add-user.component.ts");
/* harmony import */ var _plantas_components_view_plantas_view_plantas_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./plantas-components/view-plantas/view-plantas.component */ "./src/app/plantas-components/view-plantas/view-plantas.component.ts");
/* harmony import */ var _plantas_components_add_planta_add_planta_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./plantas-components/add-planta/add-planta.component */ "./src/app/plantas-components/add-planta/add-planta.component.ts");
/* harmony import */ var _lineas_components_newline_newline_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./lineas-components/newline/newline.component */ "./src/app/lineas-components/newline/newline.component.ts");
/* harmony import */ var _lineas_components_viewline_viewline_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./lineas-components/viewline/viewline.component */ "./src/app/lineas-components/viewline/viewline.component.ts");
/* harmony import */ var _equipos_components_addemg_addemg_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./equipos-components/addemg/addemg.component */ "./src/app/equipos-components/addemg/addemg.component.ts");
/* harmony import */ var _equipos_components_viewemg_viewemg_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./equipos-components/viewemg/viewemg.component */ "./src/app/equipos-components/viewemg/viewemg.component.ts");
/* harmony import */ var _servicios_component_addservicio_addservicio_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./servicios-component/addservicio/addservicio.component */ "./src/app/servicios-component/addservicio/addservicio.component.ts");
/* harmony import */ var _servicios_component_viewservicio_viewservicio_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./servicios-component/viewservicio/viewservicio.component */ "./src/app/servicios-component/viewservicio/viewservicio.component.ts");
/* harmony import */ var _clientes_components_mis_plantas_mis_plantas_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./clientes-components/mis-plantas/mis-plantas.component */ "./src/app/clientes-components/mis-plantas/mis-plantas.component.ts");
/* harmony import */ var _clientes_components_mis_lineas_mis_lineas_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./clientes-components/mis-lineas/mis-lineas.component */ "./src/app/clientes-components/mis-lineas/mis-lineas.component.ts");
/* harmony import */ var _clientes_components_mis_equipos_mis_equipos_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./clientes-components/mis-equipos/mis-equipos.component */ "./src/app/clientes-components/mis-equipos/mis-equipos.component.ts");
/* harmony import */ var _clientes_components_mis_servicios_mis_servicios_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./clientes-components/mis-servicios/mis-servicios.component */ "./src/app/clientes-components/mis-servicios/mis-servicios.component.ts");
/* harmony import */ var _clientes_components_solicitar_servicio_solicitar_servicio_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./clientes-components/solicitar-servicio/solicitar-servicio.component */ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.ts");
/* harmony import */ var _tecnicos_components_mis_servicios_tec_mis_servicios_tec_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./tecnicos-components/mis-servicios-tec/mis-servicios-tec.component */ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.ts");
/* harmony import */ var _tecnicos_components_addservicio_tec_addservicio_tec_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./tecnicos-components/addservicio-tec/addservicio-tec.component */ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.ts");
/* harmony import */ var _tecnicos_components_iniciar_servicio_iniciar_servicio_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./tecnicos-components/iniciar-servicio/iniciar-servicio.component */ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.ts");
/* harmony import */ var _configuration_configuration_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./configuration/configuration.component */ "./src/app/configuration/configuration.component.ts");
/* harmony import */ var _contratos_components_contratos_contratos_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./contratos-components/contratos/contratos.component */ "./src/app/contratos-components/contratos/contratos.component.ts");
/* harmony import */ var _contratos_components_addcontratos_addcontratos_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./contratos-components/addcontratos/addcontratos.component */ "./src/app/contratos-components/addcontratos/addcontratos.component.ts");
/* harmony import */ var _contratos_components_viewcontrato_viewcontrato_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./contratos-components/viewcontrato/viewcontrato.component */ "./src/app/contratos-components/viewcontrato/viewcontrato.component.ts");
/* harmony import */ var _usuarios_components_add_empresa_add_empresa_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./usuarios-components/add-empresa/add-empresa.component */ "./src/app/usuarios-components/add-empresa/add-empresa.component.ts");
/* harmony import */ var _clientes_components_ver_mi_planta_ver_mi_planta_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./clientes-components/ver-mi-planta/ver-mi-planta.component */ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.ts");
/* harmony import */ var _clientes_components_ver_mi_linea_ver_mi_linea_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./clientes-components/ver-mi-linea/ver-mi-linea.component */ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.ts");
/* harmony import */ var _clientes_components_ver_mi_equipo_ver_mi_equipo_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./clientes-components/ver-mi-equipo/ver-mi-equipo.component */ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.ts");
/* harmony import */ var _clientes_components_nuevo_mi_equipo_nuevo_mi_equipo_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component */ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.ts");
/* harmony import */ var _clientes_components_nuevo_mi_linea_nuevo_mi_linea_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./clientes-components/nuevo-mi-linea/nuevo-mi-linea.component */ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.ts");
/* harmony import */ var _clientes_components_nuevo_mi_planta_nuevo_mi_planta_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./clientes-components/nuevo-mi-planta/nuevo-mi-planta.component */ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.ts");
/* harmony import */ var _clientes_components_mislineasbyid_mislineasbyid_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./clientes-components/mislineasbyid/mislineasbyid.component */ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.ts");
/* harmony import */ var _clientes_components_ver_mi_servicio_ver_mi_servicio_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./clientes-components/ver-mi-servicio/ver-mi-servicio.component */ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.ts");



































//Vistas clientes








var routes = [
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_3__["LoginComponent"] },
    { path: 'inicio', component: _inicio_inicio_component__WEBPACK_IMPORTED_MODULE_4__["InicioComponent"] },
    { path: 'usuarios', component: _usuarios_components_usuarios_usuarios_component__WEBPACK_IMPORTED_MODULE_6__["UsuariosComponent"] },
    { path: 'usuarios/nuevaempresa', component: _usuarios_components_add_empresa_add_empresa_component__WEBPACK_IMPORTED_MODULE_34__["AddEmpresaComponent"] },
    { path: 'usuarios/nuevo', component: _usuarios_components_add_user_add_user_component__WEBPACK_IMPORTED_MODULE_13__["AddUserComponent"] },
    { path: 'usuarios/:id', component: _usuarios_components_view_user_view_user_component__WEBPACK_IMPORTED_MODULE_12__["ViewUserComponent"] },
    { path: 'equipos/plantas', component: _plantas_components_plantas_plantas_component__WEBPACK_IMPORTED_MODULE_7__["PlantasComponent"] },
    { path: 'equipos/plantas/:id', component: _plantas_components_view_plantas_view_plantas_component__WEBPACK_IMPORTED_MODULE_14__["ViewPlantasComponent"] },
    { path: 'equipos/plantas/nueva/:id', component: _plantas_components_add_planta_add_planta_component__WEBPACK_IMPORTED_MODULE_15__["AddPlantaComponent"] },
    { path: 'equipos/lineas', component: _lineas_components_lineas_lineas_component__WEBPACK_IMPORTED_MODULE_8__["LineasComponent"] },
    { path: 'equipos/lineas/:id', component: _lineas_components_lineasbyid_lineasbyid_component__WEBPACK_IMPORTED_MODULE_9__["LineasbyidComponent"] },
    { path: 'equipos/lineas/nueva/:id', component: _lineas_components_newline_newline_component__WEBPACK_IMPORTED_MODULE_16__["NewlineComponent"] },
    { path: 'equipos/lineas/:id_p/:id_l', component: _lineas_components_viewline_viewline_component__WEBPACK_IMPORTED_MODULE_17__["ViewlineComponent"] },
    { path: 'equipos/equipos', component: _equipos_components_equipos_equipos_component__WEBPACK_IMPORTED_MODULE_10__["EquiposComponent"] },
    { path: 'equipos/equipos/nuevo', component: _equipos_components_addemg_addemg_component__WEBPACK_IMPORTED_MODULE_18__["AddemgComponent"] },
    { path: 'equipos/equipos/:id', component: _equipos_components_viewemg_viewemg_component__WEBPACK_IMPORTED_MODULE_19__["ViewemgComponent"] },
    { path: 'servicios', component: _servicios_component_servicios_servicios_component__WEBPACK_IMPORTED_MODULE_11__["ServiciosComponent"] },
    { path: 'servicios/nuevo', component: _servicios_component_addservicio_addservicio_component__WEBPACK_IMPORTED_MODULE_20__["AddservicioComponent"] },
    { path: 'servicios/:id', component: _servicios_component_viewservicio_viewservicio_component__WEBPACK_IMPORTED_MODULE_21__["ViewservicioComponent"] },
    { path: 'configuracion', component: _configuration_configuration_component__WEBPACK_IMPORTED_MODULE_30__["ConfigurationComponent"] },
    { path: 'contratos', component: _contratos_components_contratos_contratos_component__WEBPACK_IMPORTED_MODULE_31__["ContratosComponent"] },
    { path: 'contratos/nuevo', component: _contratos_components_addcontratos_addcontratos_component__WEBPACK_IMPORTED_MODULE_32__["AddcontratosComponent"] },
    { path: 'contratos/:id', component: _contratos_components_viewcontrato_viewcontrato_component__WEBPACK_IMPORTED_MODULE_33__["ViewcontratoComponent"] },
    //Cliente
    { path: 'misplantas', component: _clientes_components_mis_plantas_mis_plantas_component__WEBPACK_IMPORTED_MODULE_22__["MisPlantasComponent"] },
    { path: 'misplantas/nueva', component: _clientes_components_nuevo_mi_planta_nuevo_mi_planta_component__WEBPACK_IMPORTED_MODULE_40__["NuevoMiPlantaComponent"] },
    { path: 'misplantas/:id', component: _clientes_components_ver_mi_planta_ver_mi_planta_component__WEBPACK_IMPORTED_MODULE_35__["VerMiPlantaComponent"] },
    { path: 'mislineas', component: _clientes_components_mis_lineas_mis_lineas_component__WEBPACK_IMPORTED_MODULE_23__["MisLineasComponent"] },
    { path: 'mislineas/:id', component: _clientes_components_mislineasbyid_mislineasbyid_component__WEBPACK_IMPORTED_MODULE_41__["MislineasbyidComponent"] },
    { path: 'mislineas/nueva/:id', component: _clientes_components_nuevo_mi_linea_nuevo_mi_linea_component__WEBPACK_IMPORTED_MODULE_39__["NuevoMiLineaComponent"] },
    { path: 'mislineas/:id_p/:id_l', component: _clientes_components_ver_mi_linea_ver_mi_linea_component__WEBPACK_IMPORTED_MODULE_36__["VerMiLineaComponent"] },
    { path: 'misequipos', component: _clientes_components_mis_equipos_mis_equipos_component__WEBPACK_IMPORTED_MODULE_24__["MisEquiposComponent"] },
    { path: 'misequipos/nuevo', component: _clientes_components_nuevo_mi_equipo_nuevo_mi_equipo_component__WEBPACK_IMPORTED_MODULE_38__["NuevoMiEquipoComponent"] },
    { path: 'misequipos/:id', component: _clientes_components_ver_mi_equipo_ver_mi_equipo_component__WEBPACK_IMPORTED_MODULE_37__["VerMiEquipoComponent"] },
    { path: 'misservicios', component: _clientes_components_mis_servicios_mis_servicios_component__WEBPACK_IMPORTED_MODULE_25__["MisServiciosComponent"] },
    { path: 'misservicios/solicitar', component: _clientes_components_solicitar_servicio_solicitar_servicio_component__WEBPACK_IMPORTED_MODULE_26__["SolicitarServicioComponent"] },
    { path: 'misservicios/:id', component: _clientes_components_ver_mi_servicio_ver_mi_servicio_component__WEBPACK_IMPORTED_MODULE_42__["VerMiServicioComponent"] },
    //Tecnicos
    { path: 'misservicios-tec', component: _tecnicos_components_mis_servicios_tec_mis_servicios_tec_component__WEBPACK_IMPORTED_MODULE_27__["MisServiciosTecComponent"] },
    { path: 'misservicios-tec/nuevo', component: _tecnicos_components_addservicio_tec_addservicio_tec_component__WEBPACK_IMPORTED_MODULE_28__["AddservicioTecComponent"] },
    { path: 'misservicios-tec/:id', component: _tecnicos_components_iniciar_servicio_iniciar_servicio_component__WEBPACK_IMPORTED_MODULE_29__["IniciarServicioComponent"] },
    { path: 'micuenta', component: _basic_components_mi_cuenta_mi_cuenta_component__WEBPACK_IMPORTED_MODULE_5__["MiCuentaComponent"] }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--The content below is only a placeholder and can be replaced.-->\r\n<router-outlet></router-outlet>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/auth.service */ "./src/app/services/auth.service.ts");




var AppComponent = /** @class */ (function () {
    function AppComponent(router, auth) {
        this.router = router;
        this.auth = auth;
        this.title = 'mantenimiento-emg';
    }
    AppComponent.prototype.ngOnInit = function () {
        if (this.auth.isLoged()) {
            this.router.navigate(["inicio"]);
        }
        else {
            this.router.navigate(["login"]);
        }
    };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var ng_select2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng-select2 */ "./node_modules/ng-select2/fesm5/ng-select2.js");
/* harmony import */ var _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/progress-spinner */ "./node_modules/@angular/material/esm5/progress-spinner.es5.js");
/* harmony import */ var angular2_signaturepad__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angular2-signaturepad */ "./node_modules/angular2-signaturepad/index.js");
/* harmony import */ var angular2_signaturepad__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(angular2_signaturepad__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _basic_components_footer_footer_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./basic-components/footer/footer.component */ "./src/app/basic-components/footer/footer.component.ts");
/* harmony import */ var _basic_components_navbar_navbar_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./basic-components/navbar/navbar.component */ "./src/app/basic-components/navbar/navbar.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _inicio_inicio_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./inicio/inicio.component */ "./src/app/inicio/inicio.component.ts");
/* harmony import */ var _services_login_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/login.service */ "./src/app/services/login.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _usuarios_components_usuarios_usuarios_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./usuarios-components/usuarios/usuarios.component */ "./src/app/usuarios-components/usuarios/usuarios.component.ts");
/* harmony import */ var _plantas_components_plantas_plantas_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./plantas-components/plantas/plantas.component */ "./src/app/plantas-components/plantas/plantas.component.ts");
/* harmony import */ var _lineas_components_lineas_lineas_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./lineas-components/lineas/lineas.component */ "./src/app/lineas-components/lineas/lineas.component.ts");
/* harmony import */ var _equipos_components_equipos_equipos_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./equipos-components/equipos/equipos.component */ "./src/app/equipos-components/equipos/equipos.component.ts");
/* harmony import */ var _servicios_component_servicios_servicios_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./servicios-component/servicios/servicios.component */ "./src/app/servicios-component/servicios/servicios.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var _services_plantas_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _services_emgs_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _services_servicios_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _services_agreements_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var _services_empresas_service__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var _services_prices_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./services/prices.service */ "./src/app/services/prices.service.ts");
/* harmony import */ var _angular_material___WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/ */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm5/icon.es5.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/esm5/toolbar.es5.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/esm5/table.es5.js");
/* harmony import */ var _usuarios_components_view_user_view_user_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./usuarios-components/view-user/view-user.component */ "./src/app/usuarios-components/view-user/view-user.component.ts");
/* harmony import */ var _usuarios_components_add_user_add_user_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./usuarios-components/add-user/add-user.component */ "./src/app/usuarios-components/add-user/add-user.component.ts");
/* harmony import */ var _plantas_components_view_plantas_view_plantas_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./plantas-components/view-plantas/view-plantas.component */ "./src/app/plantas-components/view-plantas/view-plantas.component.ts");
/* harmony import */ var _plantas_components_add_planta_add_planta_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./plantas-components/add-planta/add-planta.component */ "./src/app/plantas-components/add-planta/add-planta.component.ts");
/* harmony import */ var _lineas_components_newline_newline_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./lineas-components/newline/newline.component */ "./src/app/lineas-components/newline/newline.component.ts");
/* harmony import */ var _lineas_components_viewline_viewline_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./lineas-components/viewline/viewline.component */ "./src/app/lineas-components/viewline/viewline.component.ts");
/* harmony import */ var _equipos_components_addemg_addemg_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./equipos-components/addemg/addemg.component */ "./src/app/equipos-components/addemg/addemg.component.ts");
/* harmony import */ var _equipos_components_viewemg_viewemg_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./equipos-components/viewemg/viewemg.component */ "./src/app/equipos-components/viewemg/viewemg.component.ts");
/* harmony import */ var _servicios_component_addservicio_addservicio_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./servicios-component/addservicio/addservicio.component */ "./src/app/servicios-component/addservicio/addservicio.component.ts");
/* harmony import */ var _servicios_component_viewservicio_viewservicio_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./servicios-component/viewservicio/viewservicio.component */ "./src/app/servicios-component/viewservicio/viewservicio.component.ts");
/* harmony import */ var _basic_components_mi_cuenta_mi_cuenta_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./basic-components/mi-cuenta/mi-cuenta.component */ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.ts");
/* harmony import */ var _lineas_components_lineasbyid_lineasbyid_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./lineas-components/lineasbyid/lineasbyid.component */ "./src/app/lineas-components/lineasbyid/lineasbyid.component.ts");
/* harmony import */ var _clientes_components_mis_plantas_mis_plantas_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./clientes-components/mis-plantas/mis-plantas.component */ "./src/app/clientes-components/mis-plantas/mis-plantas.component.ts");
/* harmony import */ var _clientes_components_mis_lineas_mis_lineas_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./clientes-components/mis-lineas/mis-lineas.component */ "./src/app/clientes-components/mis-lineas/mis-lineas.component.ts");
/* harmony import */ var _clientes_components_mis_equipos_mis_equipos_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./clientes-components/mis-equipos/mis-equipos.component */ "./src/app/clientes-components/mis-equipos/mis-equipos.component.ts");
/* harmony import */ var _clientes_components_mis_servicios_mis_servicios_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./clientes-components/mis-servicios/mis-servicios.component */ "./src/app/clientes-components/mis-servicios/mis-servicios.component.ts");
/* harmony import */ var _clientes_components_solicitar_servicio_solicitar_servicio_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./clientes-components/solicitar-servicio/solicitar-servicio.component */ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.ts");
/* harmony import */ var _tecnicos_components_mis_servicios_tec_mis_servicios_tec_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./tecnicos-components/mis-servicios-tec/mis-servicios-tec.component */ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.ts");
/* harmony import */ var _tecnicos_components_addservicio_tec_addservicio_tec_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./tecnicos-components/addservicio-tec/addservicio-tec.component */ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.ts");
/* harmony import */ var _tecnicos_components_iniciar_servicio_iniciar_servicio_component__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./tecnicos-components/iniciar-servicio/iniciar-servicio.component */ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.ts");
/* harmony import */ var _clientes_components_ver_mi_planta_ver_mi_planta_component__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./clientes-components/ver-mi-planta/ver-mi-planta.component */ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.ts");
/* harmony import */ var _clientes_components_ver_mi_linea_ver_mi_linea_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./clientes-components/ver-mi-linea/ver-mi-linea.component */ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.ts");
/* harmony import */ var _clientes_components_ver_mi_equipo_ver_mi_equipo_component__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./clientes-components/ver-mi-equipo/ver-mi-equipo.component */ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.ts");
/* harmony import */ var _clientes_components_nuevo_mi_equipo_nuevo_mi_equipo_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component */ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.ts");
/* harmony import */ var _clientes_components_nuevo_mi_linea_nuevo_mi_linea_component__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./clientes-components/nuevo-mi-linea/nuevo-mi-linea.component */ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.ts");
/* harmony import */ var _clientes_components_nuevo_mi_planta_nuevo_mi_planta_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./clientes-components/nuevo-mi-planta/nuevo-mi-planta.component */ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.ts");
/* harmony import */ var _clientes_components_mislineasbyid_mislineasbyid_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./clientes-components/mislineasbyid/mislineasbyid.component */ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.ts");
/* harmony import */ var _clientes_components_ver_mi_servicio_ver_mi_servicio_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./clientes-components/ver-mi-servicio/ver-mi-servicio.component */ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.ts");
/* harmony import */ var _configuration_configuration_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./configuration/configuration.component */ "./src/app/configuration/configuration.component.ts");
/* harmony import */ var _contratos_components_contratos_contratos_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./contratos-components/contratos/contratos.component */ "./src/app/contratos-components/contratos/contratos.component.ts");
/* harmony import */ var _contratos_components_addcontratos_addcontratos_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./contratos-components/addcontratos/addcontratos.component */ "./src/app/contratos-components/addcontratos/addcontratos.component.ts");
/* harmony import */ var _contratos_components_viewcontrato_viewcontrato_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./contratos-components/viewcontrato/viewcontrato.component */ "./src/app/contratos-components/viewcontrato/viewcontrato.component.ts");
/* harmony import */ var _usuarios_components_add_empresa_add_empresa_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./usuarios-components/add-empresa/add-empresa.component */ "./src/app/usuarios-components/add-empresa/add-empresa.component.ts");























































//Vistas clientes













// tslint:disable-next-line: no-unused-expression
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"],
                _basic_components_footer_footer_component__WEBPACK_IMPORTED_MODULE_10__["FooterComponent"],
                _basic_components_navbar_navbar_component__WEBPACK_IMPORTED_MODULE_11__["NavbarComponent"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_12__["LoginComponent"],
                _inicio_inicio_component__WEBPACK_IMPORTED_MODULE_13__["InicioComponent"],
                _usuarios_components_usuarios_usuarios_component__WEBPACK_IMPORTED_MODULE_16__["UsuariosComponent"],
                _plantas_components_plantas_plantas_component__WEBPACK_IMPORTED_MODULE_17__["PlantasComponent"],
                _lineas_components_lineas_lineas_component__WEBPACK_IMPORTED_MODULE_18__["LineasComponent"],
                _equipos_components_equipos_equipos_component__WEBPACK_IMPORTED_MODULE_19__["EquiposComponent"],
                _servicios_component_servicios_servicios_component__WEBPACK_IMPORTED_MODULE_20__["ServiciosComponent"],
                _usuarios_components_view_user_view_user_component__WEBPACK_IMPORTED_MODULE_35__["ViewUserComponent"],
                _usuarios_components_add_user_add_user_component__WEBPACK_IMPORTED_MODULE_36__["AddUserComponent"],
                _plantas_components_view_plantas_view_plantas_component__WEBPACK_IMPORTED_MODULE_37__["ViewPlantasComponent"],
                _plantas_components_add_planta_add_planta_component__WEBPACK_IMPORTED_MODULE_38__["AddPlantaComponent"],
                _lineas_components_newline_newline_component__WEBPACK_IMPORTED_MODULE_39__["NewlineComponent"],
                _lineas_components_viewline_viewline_component__WEBPACK_IMPORTED_MODULE_40__["ViewlineComponent"],
                _equipos_components_addemg_addemg_component__WEBPACK_IMPORTED_MODULE_41__["AddemgComponent"],
                _equipos_components_viewemg_viewemg_component__WEBPACK_IMPORTED_MODULE_42__["ViewemgComponent"],
                _servicios_component_addservicio_addservicio_component__WEBPACK_IMPORTED_MODULE_43__["AddservicioComponent"],
                _servicios_component_viewservicio_viewservicio_component__WEBPACK_IMPORTED_MODULE_44__["ViewservicioComponent"],
                _basic_components_mi_cuenta_mi_cuenta_component__WEBPACK_IMPORTED_MODULE_45__["MiCuentaComponent"],
                _lineas_components_lineasbyid_lineasbyid_component__WEBPACK_IMPORTED_MODULE_46__["LineasbyidComponent"],
                _clientes_components_mis_plantas_mis_plantas_component__WEBPACK_IMPORTED_MODULE_47__["MisPlantasComponent"],
                _clientes_components_mis_lineas_mis_lineas_component__WEBPACK_IMPORTED_MODULE_48__["MisLineasComponent"],
                _clientes_components_mis_equipos_mis_equipos_component__WEBPACK_IMPORTED_MODULE_49__["MisEquiposComponent"],
                _clientes_components_mis_servicios_mis_servicios_component__WEBPACK_IMPORTED_MODULE_50__["MisServiciosComponent"],
                _clientes_components_solicitar_servicio_solicitar_servicio_component__WEBPACK_IMPORTED_MODULE_51__["SolicitarServicioComponent"],
                _tecnicos_components_mis_servicios_tec_mis_servicios_tec_component__WEBPACK_IMPORTED_MODULE_52__["MisServiciosTecComponent"],
                _tecnicos_components_iniciar_servicio_iniciar_servicio_component__WEBPACK_IMPORTED_MODULE_54__["IniciarServicioComponent"],
                _clientes_components_ver_mi_planta_ver_mi_planta_component__WEBPACK_IMPORTED_MODULE_55__["VerMiPlantaComponent"],
                _clientes_components_ver_mi_linea_ver_mi_linea_component__WEBPACK_IMPORTED_MODULE_56__["VerMiLineaComponent"],
                _clientes_components_ver_mi_equipo_ver_mi_equipo_component__WEBPACK_IMPORTED_MODULE_57__["VerMiEquipoComponent"],
                _clientes_components_nuevo_mi_equipo_nuevo_mi_equipo_component__WEBPACK_IMPORTED_MODULE_58__["NuevoMiEquipoComponent"],
                _clientes_components_nuevo_mi_linea_nuevo_mi_linea_component__WEBPACK_IMPORTED_MODULE_59__["NuevoMiLineaComponent"],
                _clientes_components_nuevo_mi_planta_nuevo_mi_planta_component__WEBPACK_IMPORTED_MODULE_60__["NuevoMiPlantaComponent"],
                _clientes_components_mislineasbyid_mislineasbyid_component__WEBPACK_IMPORTED_MODULE_61__["MislineasbyidComponent"],
                _clientes_components_ver_mi_servicio_ver_mi_servicio_component__WEBPACK_IMPORTED_MODULE_62__["VerMiServicioComponent"],
                _tecnicos_components_addservicio_tec_addservicio_tec_component__WEBPACK_IMPORTED_MODULE_53__["AddservicioTecComponent"],
                _configuration_configuration_component__WEBPACK_IMPORTED_MODULE_63__["ConfigurationComponent"],
                _contratos_components_contratos_contratos_component__WEBPACK_IMPORTED_MODULE_64__["ContratosComponent"],
                _contratos_components_addcontratos_addcontratos_component__WEBPACK_IMPORTED_MODULE_65__["AddcontratosComponent"],
                _contratos_components_viewcontrato_viewcontrato_component__WEBPACK_IMPORTED_MODULE_66__["ViewcontratoComponent"],
                _usuarios_components_add_empresa_add_empresa_component__WEBPACK_IMPORTED_MODULE_67__["AddEmpresaComponent"]
            ],
            imports: [
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_8__["AppRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_21__["BrowserAnimationsModule"],
                _angular_material___WEBPACK_IMPORTED_MODULE_30__["MatMenuModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_31__["MatButtonModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_32__["MatIconModule"],
                _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_33__["MatToolbarModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_34__["MatTableModule"],
                _angular_material___WEBPACK_IMPORTED_MODULE_30__["MatSnackBarModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                ng_select2__WEBPACK_IMPORTED_MODULE_5__["NgSelect2Module"],
                _angular_material_progress_spinner__WEBPACK_IMPORTED_MODULE_6__["MatProgressSpinnerModule"],
                angular2_signaturepad__WEBPACK_IMPORTED_MODULE_7__["SignaturePadModule"]
            ],
            providers: [
                _services_login_service__WEBPACK_IMPORTED_MODULE_14__["LoginService"],
                _services_auth_service__WEBPACK_IMPORTED_MODULE_15__["AuthService"],
                _services_usuarios_service__WEBPACK_IMPORTED_MODULE_22__["UsuariosService"],
                _services_plantas_service__WEBPACK_IMPORTED_MODULE_23__["PlantasService"],
                _services_emgs_service__WEBPACK_IMPORTED_MODULE_24__["EmgsService"],
                _services_servicios_service__WEBPACK_IMPORTED_MODULE_25__["ServiciosService"],
                _services_configuration_service__WEBPACK_IMPORTED_MODULE_26__["ConfigurationService"],
                _services_agreements_service__WEBPACK_IMPORTED_MODULE_27__["AgreementsService"],
                _services_empresas_service__WEBPACK_IMPORTED_MODULE_28__["EmpresasService"],
                _services_prices_service__WEBPACK_IMPORTED_MODULE_29__["PricesService"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_9__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/basic-components/footer/footer.component.css":
/*!**************************************************************!*\
  !*** ./src/app/basic-components/footer/footer.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jhc2ljLWNvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/basic-components/footer/footer.component.html":
/*!***************************************************************!*\
  !*** ./src/app/basic-components/footer/footer.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<footer class=\"bg-secondary\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 col-sm-12\">\r\n        <p class=\"text-light text-right text-sm-center\">\r\n          ©  {{y}} Tecnoap. All Rights Reserved</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</footer>"

/***/ }),

/***/ "./src/app/basic-components/footer/footer.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/basic-components/footer/footer.component.ts ***!
  \*************************************************************/
/*! exports provided: FooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterComponent", function() { return FooterComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var FooterComponent = /** @class */ (function () {
    function FooterComponent() {
        this.y = new Date().getFullYear();
    }
    FooterComponent.prototype.ngOnInit = function () {
    };
    FooterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-footer',
            template: __webpack_require__(/*! ./footer.component.html */ "./src/app/basic-components/footer/footer.component.html"),
            styles: [__webpack_require__(/*! ./footer.component.css */ "./src/app/basic-components/footer/footer.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FooterComponent);
    return FooterComponent;
}());



/***/ }),

/***/ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.css":
/*!********************************************************************!*\
  !*** ./src/app/basic-components/mi-cuenta/mi-cuenta.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jhc2ljLWNvbXBvbmVudHMvbWktY3VlbnRhL21pLWN1ZW50YS5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/basic-components/mi-cuenta/mi-cuenta.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr> \r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"row\">\r\n              <div class=\"card-body\">\r\n                <div class=\"col\">\r\n                  <h5 class=\"card-title\">Mi información</h5>\r\n                  <hr>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <h5 class=\"card-subtitle\">Datos de inicio de sesión</h5>\r\n                      <br>\r\n                      <h6 class=\"card-subtitle\"><b>Nombre de usuario:</b> {{user}}</h6>\r\n                      <br>\r\n                      <h6 class=\"card-subtitle\"><b>Contraseña:</b> **********</h6>\r\n                      <br>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <h5 class=\"card-subtitle\">Datos de personales</h5>\r\n                      <br>\r\n                      <h6 class=\"card-subtitle\"><b>Nombre:</b> {{name}}</h6>\r\n                      <br>\r\n                      <h6 class=\"card-subtitle\"><b>Correo:</b> {{email}}</h6>\r\n                      <br>\r\n                      <h6 class=\"card-subtitle\"><b>Rol:</b> {{role}}</h6>\r\n                      <br>\r\n                    </div>\r\n                  </div>\r\n                  <hr>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <form *ngIf=\"pform\" style=\"margin-bottom: 15px\">\r\n                        <div class=\"form-group row\">\r\n                          <label for=\"ant\" class=\"col-sm-4 col-form-label col-form-label-sm\">Antigua contraseña</label>\r\n                          <div class=\"col-sm-8\">\r\n                            <input type=\"password\" class=\"form-control form-control-sm\" id=\"ant\" [(ngModel)]=\"antigua\" placeholder=\"Digite su antigua contraseña\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"pasEquals()\">\r\n                            <small class=\"text-danger\" *ngIf=\"msgEq\">La contraseña no coincide</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                          <label for=\"nue\" class=\"col-sm-4 col-form-label col-form-label-sm\">Nueva contraseña</label>\r\n                          <div class=\"col-sm-8\">\r\n                            <input type=\"password\" class=\"form-control form-control-sm\" id=\"nue\" [(ngModel)]=\"nueva\" placeholder=\"Digite la nueva contraseña mayor a 6 digitos\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"pasVal()\">\r\n                            <small class=\"text-danger\" *ngIf=\"msgVal\">La contraseña no es válida (Mínimo 6 carácteres)</small>                            \r\n                          </div>\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn-primary\" [disabled]=\"botCC\" (click)=\"updatePass()\">Cambiar contraseña</button>\r\n                      </form>\r\n                      <form *ngIf=\"aform\" style=\"margin-bottom: 15px\">\r\n                        <div class=\"form-group row\">\r\n                          <label for=\"ant\" class=\"col-sm-4 col-form-label col-form-label-sm\">Nombre de usuario</label>\r\n                          <div class=\"col-sm-8\">\r\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"ant\" placeholder=\"{{user}}\" [(ngModel)]=\"nuser\" [ngModelOptions]=\"{standalone: true}\" (blur)=\"existeUsuario()\">\r\n                            <small class=\"text-danger\" *ngIf=\"existeUser\">ESTE USUARIO YA EXISTE</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                          <label for=\"nue\" class=\"col-sm-4 col-form-label col-form-label-sm\">Nombre</label>\r\n                          <div class=\"col-sm-8\">\r\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"nue\" placeholder=\"{{name}}\" [(ngModel)]=\"nname\" [ngModelOptions]=\"{standalone: true}\">\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"form-group row\">\r\n                          <label for=\"nue\" class=\"col-sm-4 col-form-label col-form-label-sm\">Email</label>\r\n                          <div class=\"col-sm-8\">\r\n                            <input type=\"email\" class=\"form-control form-control-sm\" id=\"nue\" placeholder=\"{{email}}\" [(ngModel)]=\"nemail\" [ngModelOptions]=\"{standalone: true}\">\r\n                          </div>\r\n                        </div>\r\n                        <button type=\"submit\" class=\"btn btn-primary\" (click)=\"updClick()\" [disabled]=\"existeUser\">Actualizar datos</button>\r\n                      </form>                  \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                      <div class=\"col text-center\">\r\n                        <p class=\"text-warning\" *ngIf=\"msgAct\"><b>ACTUALIZANDO</b></p>\r\n                      </div>\r\n                    </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <button type=\"button\" class=\"btn btn-primary w-100\" (click)=\"showAForm()\">Actualizar datos</button>                      \r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <button type=\"button\" class=\"btn btn-warning w-100\" (click)=\"showPForm()\">Cambiar contraseña</button>                      \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/basic-components/mi-cuenta/mi-cuenta.component.ts ***!
  \*******************************************************************/
/*! exports provided: MiCuentaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiCuentaComponent", function() { return MiCuentaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");





var MiCuentaComponent = /** @class */ (function () {
    function MiCuentaComponent(auth, router, userService) {
        this.auth = auth;
        this.router = router;
        this.userService = userService;
        this.pform = false;
        this.aform = false;
        this.botCC = true;
        this.msgEq = false;
        this.msgVal = false;
        this.msgAct = false;
        this.existeUser = false;
        this.nuser = "";
        this.nname = "";
        this.nemail = "";
        this.antigua = "";
        this.nueva = "";
    }
    MiCuentaComponent.prototype.ngOnInit = function () {
        this.getStrings();
    };
    MiCuentaComponent.prototype.showPForm = function () {
        this.aform = false;
        this.pform = !this.pform;
    };
    MiCuentaComponent.prototype.showAForm = function () {
        this.pform = false;
        this.aform = !this.aform;
    };
    MiCuentaComponent.prototype.regresar = function () {
        this.router.navigateByUrl('inicio');
    };
    MiCuentaComponent.prototype.getStrings = function () {
        this._id = this.auth.getId();
        this.user = this.auth.getUsername();
        this.pass = this.auth.getPassword();
        this.name = this.auth.getName();
        this.email = this.auth.getEmail();
        this.role = this.getRole(this.auth.getRole());
    };
    MiCuentaComponent.prototype.getRole = function (r) {
        switch (r) {
            case 0:
                return "Administrador";
            case 1:
                return "Técnico";
            case 2:
                return "Cliente";
            default:
                break;
        }
    };
    MiCuentaComponent.prototype.updatePass = function () {
        var _this = this;
        var temp = {
            _id: this._id,
            password: this.nueva
        };
        this.userService.updatePass(temp).subscribe(function (res) {
            _this.msgAct = true;
            setTimeout(function () {
                _this.auth.closeSession();
                _this.router.navigate(['login']);
            }, 1000);
        }, function (err) {
            console.log(err);
        });
    };
    MiCuentaComponent.prototype.updClick = function () {
        if (this.nuser == "") {
            this.nuser = this.user;
        }
        if (this.nname == "") {
            this.nname = this.name;
        }
        if (this.nemail == "") {
            this.nemail = this.email;
        }
        this.updateData(this.nuser, this.nname, this.nemail);
    };
    MiCuentaComponent.prototype.updateData = function (u, n, e) {
        var _this = this;
        var temp = {
            _id: this._id,
            username: u,
            info: {
                name: n,
                email: e
            }
        };
        this.userService.updateUser(temp).subscribe(function (res) {
            _this.msgAct = true;
            setTimeout(function () {
                _this.auth.closeSession();
                _this.router.navigate(['login']);
            }, 1000);
        }, function (err) {
            console.log(err);
        });
    };
    MiCuentaComponent.prototype.existeUsuario = function () {
        var _this = this;
        this.userService.userExists(this.nuser).subscribe(function (res) {
            console.log(res);
            if (res.detail != null) {
                _this.existeUser = true;
            }
            else {
                _this.existeUser = false;
            }
        }, function (err) {
            console.error(err);
        });
    };
    MiCuentaComponent.prototype.pasEquals = function () {
        if (this.antigua != this.pass) {
            this.msgEq = true;
        }
        else {
            this.msgEq = false;
        }
    };
    MiCuentaComponent.prototype.pasVal = function () {
        if (this.nueva.length <= 5) {
            this.msgVal = true;
        }
        else {
            this.msgVal = false;
            this.botCC = false;
        }
    };
    MiCuentaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mi-cuenta',
            template: __webpack_require__(/*! ./mi-cuenta.component.html */ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.html"),
            styles: [__webpack_require__(/*! ./mi-cuenta.component.css */ "./src/app/basic-components/mi-cuenta/mi-cuenta.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__["UsuariosService"]])
    ], MiCuentaComponent);
    return MiCuentaComponent;
}());



/***/ }),

/***/ "./src/app/basic-components/navbar/navbar.component.css":
/*!**************************************************************!*\
  !*** ./src/app/basic-components/navbar/navbar.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".navbar{\r\n    justify-content: space-between;\r\n}\r\n\r\nspan{\r\n    padding-left: 1rem;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFzaWMtY29tcG9uZW50cy9uYXZiYXIvbmF2YmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9iYXNpYy1jb21wb25lbnRzL25hdmJhci9uYXZiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXZiYXJ7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbnNwYW57XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDFyZW07XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/basic-components/navbar/navbar.component.html":
/*!***************************************************************!*\
  !*** ./src/app/basic-components/navbar/navbar.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar class=\"bg-secondary navbar\">\r\n  <div class=\"container\">\r\n      <div><a [routerLink]=\"['/inicio']\" class=\"text-light\"><span><img src=\"./assets/arquitecto.png\" height=\"30px\" width=\"30px\"></span> Mantenimiento EMG{{nombre}}</a></div>\r\n      <div *ngIf=\"adm\">\r\n        <span style=\"margin-left:80px\"></span>\r\n        <span>\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('usuarios')\">\r\n            Usuarios\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <mat-menu #equMenu=\"matMenu\">\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('equipos/plantas')\">Plantas</button>\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('equipos/lineas')\">Líneas</button>\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('equipos/equipos')\">Equipos</button>\r\n          </mat-menu>\r\n          <button mat-button [matMenuTriggerFor]=\"equMenu\" class=\"text-light\">\r\n            Equipos\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('servicios')\">\r\n            Servicios\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('contratos')\">\r\n            Contratos\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <mat-menu #userInfo=\"matMenu\">\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('micuenta')\">Mi cuenta</button>\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('configuracion')\">Configuración</button>\r\n            <button mat-menu-item class=\"text-danger\" (click)=\"closeSesion()\">Salir</button>\r\n          </mat-menu>\r\n          <button mat-button [matMenuTriggerFor]=\"userInfo\" class=\"text-light\">\r\n            Bienvenido {{role}}\r\n          </button>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"tec\">\r\n        <span *ngIf=\"false\">\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('usuarios')\">\r\n            Usuarios\r\n          </button>\r\n        </span>\r\n        <span *ngIf=\"true\">\r\n            <mat-menu #equMenu=\"matMenu\">\r\n              <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('equipos/plantas')\">Plantas</button>\r\n              <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('equipos/lineas')\">Líneas</button>\r\n              <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('equipos/equipos')\">Equipos</button>\r\n            </mat-menu>\r\n            <button mat-button [matMenuTriggerFor]=\"equMenu\" class=\"text-light\">\r\n              Equipos\r\n            </button>\r\n        </span>\r\n        <span>\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('misservicios-tec')\">\r\n            Mis servicios\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <mat-menu #userInfo=\"matMenu\">\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('micuenta')\">Mi cuenta</button>\r\n            <button mat-menu-item class=\"text-danger\" (click)=\"closeSesion()\">Salir</button>\r\n          </mat-menu>\r\n          <button mat-button [matMenuTriggerFor]=\"userInfo\" class=\"text-light\">\r\n            Bienvenido {{role}}\r\n          </button>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"cli\">\r\n        <span>\r\n          <mat-menu #meqMenu=\"matMenu\">\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('misplantas')\">Plantas</button>\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('mislineas')\">Líneas</button>\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('misequipos')\">Equipos</button>\r\n          </mat-menu>\r\n          <button mat-button [matMenuTriggerFor]=\"meqMenu\" class=\"text-light\">\r\n            Mis equipos\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('misservicios')\">\r\n            Mis servicios\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <button mat-button class=\"text-light\" (click)=\"routerTo('misservicios/solicitar')\">\r\n            Solicitar servicio\r\n          </button>\r\n        </span>\r\n        <span>\r\n          <mat-menu #userInfo=\"matMenu\">\r\n            <button mat-menu-item class=\"text-dark\" (click)=\"routerTo('micuenta')\">Mi cuenta</button>\r\n            <button mat-menu-item class=\"text-danger\" (click)=\"closeSesion()\">Salir</button>\r\n          </mat-menu>\r\n          <button mat-button [matMenuTriggerFor]=\"userInfo\" class=\"text-light\">\r\n            Bienvenido {{role}}\r\n          </button>\r\n        </span>\r\n      </div>\r\n      <div *ngIf=\"!log\">\r\n        <span>\r\n          <img src=\"assets/emg.png\" alt=\"\" srcset=\"\" style=\"width:100px;\">\r\n        </span>\r\n      </div>\r\n  </div>\r\n\r\n</mat-toolbar>"

/***/ }),

/***/ "./src/app/basic-components/navbar/navbar.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/basic-components/navbar/navbar.component.ts ***!
  \*************************************************************/
/*! exports provided: NavbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavbarComponent", function() { return NavbarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");





var NavbarComponent = /** @class */ (function () {
    function NavbarComponent(router, auth, empresaService) {
        this.router = router;
        this.auth = auth;
        this.empresaService = empresaService;
        this.nombre = "";
        this.role = "";
        this.log = false;
        this.adm = false;
        this.tec = false;
        this.cli = false;
    }
    /*
      Si es administrador
      Usuarios|Equipos|Servicios
      Si es tecnico
       Y tiene privilegios
      
      Si es cliente
       - Mis equipos
    */
    NavbarComponent.prototype.ngOnInit = function () {
        if (this.auth.isLoged()) {
            this.nombre = ' - ' + this.auth.getName().split(' ')[0];
            this.log = true;
            switch (this.auth.getRole()) {
                case 0: {
                    this.adm = true;
                    this.role = "(Administrador)";
                    break;
                }
                case 1: {
                    this.tec = true;
                    this.role = "(Técnico)";
                    break;
                }
                case 2: {
                    this.cli = true;
                    this.role = "(Cliente)";
                    this.getEmpresa();
                    break;
                }
            }
        }
        else {
            this.closeSesion();
        }
    };
    NavbarComponent.prototype.getEmpresa = function () {
        var _this = this;
        this.empresaService.getid(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.nombre = _this.nombre + ("(" + res.detail.name + ")");
        }, function (err) {
            console.error(err);
        });
    };
    NavbarComponent.prototype.havePermisions = function () {
        return this.auth.getPermissions();
    };
    NavbarComponent.prototype.routerTo = function (r) {
        if (r === void 0) { r = "inicio"; }
        this.router.navigateByUrl(r);
    };
    NavbarComponent.prototype.closeSesion = function () {
        this.auth.closeSession();
        this.router.navigate(['login']);
    };
    NavbarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-navbar',
            template: __webpack_require__(/*! ./navbar.component.html */ "./src/app/basic-components/navbar/navbar.component.html"),
            styles: [__webpack_require__(/*! ./navbar.component.css */ "./src/app/basic-components/navbar/navbar.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"], src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"]])
    ], NavbarComponent);
    return NavbarComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/mis-equipos/mis-equipos.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/clientes-components/mis-equipos/mis-equipos.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbWlzLWVxdWlwb3MvbWlzLWVxdWlwb3MuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/clientes-components/mis-equipos/mis-equipos.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/clientes-components/mis-equipos/mis-equipos.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\"> \r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver equipos registrados</h2>\r\n    </div>\r\n    <div class=\"col text-right\">\r\n      <button class=\"btn btn-primary\" (click)=\"goNewEmg()\">Agregar equipo</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-left text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Por planta</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <select class=\"form-control form-control-sm\" id=\"tipo\" [(ngModel)]=\"plant_id\" [ngModelOptions]=\"{standalone: true}\" (change)=\"loadEmgsByPlant()\">\r\n          <option value=\"alls\">Ver todos</option>          \r\n          <option *ngFor=\"let plant of plants\" value=\"{{plant._id}}\">{{plant.name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\"><span class=\"text-danger\">*</span>Seleccionar línea</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <select class=\"form-control form-control-sm\" id=\"tipo\" [(ngModel)]=\"line_id\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"!have_lines\" (change)=\"loadEmgsByPlantAndLines()\">\r\n          <option *ngFor=\"let line of lines\" value=\"{{line._id}}\">{{line.name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Buscar por serial</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Búsqueda por SN\" [(ngModel)]=\"busqBySerial\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaBySerial()\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col\"></div>\r\n    <div class=\"col\"></div>\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Buscar por nombre</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Búsqueda por nombre\" [(ngModel)]=\"busqByName\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaByName()\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\"><small class=\"text-danger\">*Primero debe seleccionar la planta</small></div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n      <div class=\"col\">\r\n          <table class=\"table table-striped\" *ngIf=\"true\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Nombre</th>\r\n                  <th scope=\"col\">Tipo</th>\r\n                  <th scope=\"col\">Modelo</th>\r\n                  <th scope=\"col\">Serial</th>\r\n                  <th scope=\"col\">Descripción</th>\r\n                  <th scope=\"col\">Estatus</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let emg of emgs\">\r\n                  <td scope=\"row\">{{emg.info.name}}</td>\r\n                  <td scope=\"row\">{{emg.info.type}}</td>\r\n                  <td>{{emg.info.model}}</td>\r\n                  <td>{{emg.info.serial}}</td>\r\n                  <td>{{emg.info.description.substring(0,40)}}</td>\r\n                  <td>{{getStatus(emg.status)}}</td>\r\n                  <td>\r\n                    <button mat-mini-fab class=\"bg-primary\" (click)=\"detEmg(emg._id)\">\r\n                        <mat-icon>pageview</mat-icon>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <h4 *ngIf=\"false\">No existen equipos registrados</h4>\r\n      </div>\r\n  </div>\r\n  <hr>  \r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/mis-equipos/mis-equipos.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/clientes-components/mis-equipos/mis-equipos.component.ts ***!
  \**************************************************************************/
/*! exports provided: MisEquiposComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MisEquiposComponent", function() { return MisEquiposComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");






var MisEquiposComponent = /** @class */ (function () {
    function MisEquiposComponent(emgService, router, auth, plantService) {
        this.emgService = emgService;
        this.router = router;
        this.auth = auth;
        this.plantService = plantService;
        this.busqByName = "";
        this.busqBySerial = "";
        this.clientesList = [];
        this.have_lines = false;
        this.getAllEmgs();
        this.loadPlant();
    }
    MisEquiposComponent.prototype.ngOnInit = function () {
    };
    MisEquiposComponent.prototype.getAllEmgs = function () {
        var _this = this;
        this.emgService.getByClient(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    MisEquiposComponent.prototype.setClientList = function (a) {
        var _this = this;
        this.clientesList.push({
            id: 'alls',
            text: 'Ver todos'
        });
        a.forEach(function (c) {
            _this.clientesList.push({
                id: c._id,
                text: c.info.name
            });
        });
    };
    MisEquiposComponent.prototype.loadPlant = function () {
        var _this = this;
        this.plantService.getAllPlantas(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.plants = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    MisEquiposComponent.prototype.loadLines = function () {
        var _this = this;
        this.line_id = "";
        this.plants.forEach(function (el) {
            if (el._id == _this.plant_id) {
                _this.lines = el.lines;
            }
        });
        if (this.lines.length == 0) {
            this.have_lines = false;
        }
        else {
            this.have_lines = true;
        }
    };
    MisEquiposComponent.prototype.loadEmgsByClient = function () {
        var _this = this;
        this.line_id = "";
        this.plant_id = "";
        this.emgs = [];
        if (this.client_id == "" || this.client_id == "alls") {
            this.getAllEmgs();
        }
        else {
            this.emgService.getByClient(this.client_id).subscribe(function (res) {
                _this.emgs = res.detail;
            }, function (err) {
                console.log(err);
            });
        }
    };
    MisEquiposComponent.prototype.loadEmgsByPlant = function () {
        var _this = this;
        this.loadLines();
        if (this.plant_id == "" || this.plant_id == "alls") {
            this.getAllEmgs();
        }
        else {
            this.emgService.getByPlant(this.plant_id).subscribe(function (res) {
                _this.emgs = res.detail;
            }, function (err) {
                console.log(err);
            });
        }
    };
    MisEquiposComponent.prototype.loadEmgsByPlantAndLines = function () {
        var _this = this;
        this.client_id = "";
        this.emgs = [];
        this.emgService.getByPlantAndLine(this.plant_id, this.line_id).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    MisEquiposComponent.prototype.detEmg = function (id) {
        this.router.navigateByUrl('misequipos/' + id);
    };
    MisEquiposComponent.prototype.goNewEmg = function () {
        this.router.navigateByUrl('misequipos/nuevo');
    };
    MisEquiposComponent.prototype.busquedaByName = function () {
        this.client_id = "";
        this.plant_id = "";
        this.line_id = "";
        if (this.busqByName == "") {
            this.getAllEmgs();
        }
        else {
            var regex = new RegExp(this.busqByName.toLowerCase());
            var temp = this.emgs;
            this.emgs = temp.filter(function (emg) { return emg.info.name.toLowerCase().match(regex); });
        }
    };
    MisEquiposComponent.prototype.busquedaBySerial = function () {
        this.client_id = "";
        this.plant_id = "";
        this.line_id = "";
        if (this.busqBySerial == "") {
            this.getAllEmgs();
        }
        else {
            var regex = new RegExp(this.busqBySerial.toLowerCase());
            var temp = this.emgs;
            this.emgs = temp.filter(function (emg) { return emg.info.serial.toLowerCase().match(regex); });
        }
    };
    MisEquiposComponent.prototype.getStatus = function (s) {
        if (s == 1) {
            return "Desactivado";
        }
        else {
            return "Activo";
        }
    };
    MisEquiposComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mis-equipos',
            template: __webpack_require__(/*! ./mis-equipos.component.html */ "./src/app/clientes-components/mis-equipos/mis-equipos.component.html"),
            styles: [__webpack_require__(/*! ./mis-equipos.component.css */ "./src/app/clientes-components/mis-equipos/mis-equipos.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_2__["EmgsService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__["PlantasService"]])
    ], MisEquiposComponent);
    return MisEquiposComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/mis-lineas/mis-lineas.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/clientes-components/mis-lineas/mis-lineas.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbWlzLWxpbmVhcy9taXMtbGluZWFzLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/clientes-components/mis-lineas/mis-lineas.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/clientes-components/mis-lineas/mis-lineas.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver linea de producción</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div> \r\n  </div> \r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Ver líneas por planta</h6>\r\n      <small class=\"text-danger\">**Seleccione a la planta**</small> \r\n    </div>\r\n    <div class=\"col-3\">  \r\n      <select id=\"inputState\" class=\"form-control form-control-sm\" [(ngModel)]=\"id_planta\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"sinPlantas\" (change)=\"loadLineas()\">\r\n        <option *ngFor=\"let plt of planta\" value=\"{{plt._id}}\">{{plt.name}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de línea</h6>\r\n    </div>\r\n    <div class=\"col-3\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre de la planta\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 *ngIf=\"sinPlantas\" class=\"text-center txt-danger\">Sin líneas registradas en esta planta</h6>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 text-right\">\r\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewLine()\">\r\n          Nueva línea\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"row text-center\">\r\n      <div class=\"col-12\">\r\n        <table class=\"table table-striped\" *ngIf=\"!vacio()\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Nombre corto</th>\r\n                <th scope=\"col\">Descripción</th>\r\n                <th scope=\"col\">Detalle</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let lns of lines\">\r\n                <td scope=\"row\">{{lns.name}}</td>\r\n                <td>{{lns.shortname}}</td>\r\n                <td>{{lns.desc}}</td>\r\n                <td>\r\n                  <button mat-mini-fab class=\"bg-primary\" (click)=\"plantDet(lns._id)\">\r\n                      <mat-icon>pageview</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n        </table>\r\n        <h2 *ngIf=\"vacio()\">El cliente no tiene líneas registradas en esta planta</h2>\r\n        <br>\r\n        <hr>\r\n        <br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/mis-lineas/mis-lineas.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/clientes-components/mis-lineas/mis-lineas.component.ts ***!
  \************************************************************************/
/*! exports provided: MisLineasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MisLineasComponent", function() { return MisLineasComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");






var MisLineasComponent = /** @class */ (function () {
    function MisLineasComponent(router, plantas, auth, alert) {
        this.router = router;
        this.plantas = plantas;
        this.auth = auth;
        this.alert = alert;
        this.load = false;
        this.busq = "";
        this.sinPlantas = false;
        this.sinLineas = false;
    }
    MisLineasComponent.prototype.ngOnInit = function () {
        this.loadPlants();
        this.alert.alert('Primero seleccionar planta para que mueste las lineas correspondientes a esa planta.');
    };
    MisLineasComponent.prototype.loadPlants = function () {
        var _this = this;
        this.id_planta = '';
        this.plantas.getAllPlantas(this.auth.getEmpresaId()).subscribe(function (data) {
            _this.lines = [];
            _this.planta = data.detail;
            if (_this.planta.length == 0) {
                _this.sinPlantas = true;
            }
            else {
                _this.sinPlantas = false;
            }
        }, function (err) {
            console.log(err);
        });
    };
    MisLineasComponent.prototype.vacio = function () {
        if (this.lines.length == 0) {
            return true;
        }
        else {
            return false;
        }
    };
    MisLineasComponent.prototype.plantDet = function (id) {
        this.router.navigateByUrl('mislineas/' + this.id_planta + "/" + id);
    };
    MisLineasComponent.prototype.goNewLine = function () {
        this.router.navigateByUrl('mislineas/nueva/' + this.id_planta);
    };
    MisLineasComponent.prototype.loadLineas = function () {
        var _this = this;
        this.planta.forEach(function (el) {
            if (el._id == _this.id_planta) {
                _this.lines = el.lines;
                //console.log(el);
            }
            _this.load = true;
        });
    };
    MisLineasComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadLineas();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.lines;
            this.lines = temp.filter(function (lns) { return lns.name.toLowerCase().match(regex); });
        }
    };
    MisLineasComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mis-lineas',
            template: __webpack_require__(/*! ./mis-lineas.component.html */ "./src/app/clientes-components/mis-lineas/mis-lineas.component.html"),
            styles: [__webpack_require__(/*! ./mis-lineas.component.css */ "./src/app/clientes-components/mis-lineas/mis-lineas.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"], src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]])
    ], MisLineasComponent);
    return MisLineasComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/mis-plantas/mis-plantas.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/clientes-components/mis-plantas/mis-plantas.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbWlzLXBsYW50YXMvbWlzLXBsYW50YXMuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/clientes-components/mis-plantas/mis-plantas.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/clientes-components/mis-plantas/mis-plantas.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Plantas registradas</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>  \r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de planta</h6>\r\n    </div>\r\n    <div class=\"col-3 text-right\">\r\n      <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre de la planta\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12 text-right\">\r\n      <button class=\"btn btn-primary\" type=\"button\" (click)=\"newPlant()\">\r\n        Nueva planta\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <br>\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row text-center\"><!--asda-->\r\n      <div class=\"col-12\">\r\n          <table class=\"table table-striped\" *ngIf=\"!vacio()\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Nombre</th>\r\n                  <th scope=\"col\">Nombre corto</th>\r\n                  <th scope=\"col\">Jefe de planta</th>\r\n                  <th scope=\"col\">Email</th>\r\n                  <th scope=\"col\">#Líneas</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let pnt of planta\">\r\n                  <td scope=\"row\">{{pnt.name}}</td>\r\n                  <td>{{pnt.code}}</td>\r\n                  <td>{{pnt.boss.name}}</td>\r\n                  <td>{{pnt.boss.email}}</td>\r\n                  <td>{{pnt.lines.length}}</td>\r\n                  <td>\r\n                      <button mat-mini-fab class=\"bg-primary\" (click)=\"plantDet(pnt._id)\">\r\n                          <mat-icon>pageview</mat-icon>\r\n                      </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <h2 *ngIf=\"vacio()\">No existen plantas con los criterios de búsqueda</h2>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr><hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/mis-plantas/mis-plantas.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/clientes-components/mis-plantas/mis-plantas.component.ts ***!
  \**************************************************************************/
/*! exports provided: MisPlantasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MisPlantasComponent", function() { return MisPlantasComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_plantas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");






var MisPlantasComponent = /** @class */ (function () {
    function MisPlantasComponent(router, plantas, usuarios, auth) {
        this.router = router;
        this.plantas = plantas;
        this.usuarios = usuarios;
        this.auth = auth;
        this.load = false;
    }
    MisPlantasComponent.prototype.ngOnInit = function () {
        this.getClients();
        this.loadAllPlants();
    };
    MisPlantasComponent.prototype.loadAllPlants = function () {
        var _this = this;
        this.plantas.getAllPlantas(this.auth.getEmpresaId()).subscribe(function (data) {
            _this.planta = data.detail;
            _this.load = true;
        }, function (err) {
            console.log(err);
        });
    };
    MisPlantasComponent.prototype.vacio = function () {
        if (this.planta.length == 0) {
            return true;
        }
        else {
            return false;
        }
    };
    MisPlantasComponent.prototype.getClients = function () {
        var _this = this;
        this.usuarios.getAllClients().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    MisPlantasComponent.prototype.plantDet = function (id) {
        this.router.navigateByUrl('misplantas/' + id);
    };
    MisPlantasComponent.prototype.newPlant = function () {
        this.router.navigateByUrl('misplantas/nueva');
    };
    MisPlantasComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadAllPlants();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.planta;
            this.planta = temp.filter(function (pln) { return pln.name.toLowerCase().match(regex); });
        }
    };
    MisPlantasComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mis-plantas',
            template: __webpack_require__(/*! ./mis-plantas.component.html */ "./src/app/clientes-components/mis-plantas/mis-plantas.component.html"),
            styles: [__webpack_require__(/*! ./mis-plantas.component.css */ "./src/app/clientes-components/mis-plantas/mis-plantas.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"], _services_plantas_service__WEBPACK_IMPORTED_MODULE_2__["PlantasService"], _services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__["UsuariosService"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"]])
    ], MisPlantasComponent);
    return MisPlantasComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/mis-servicios/mis-servicios.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/clientes-components/mis-servicios/mis-servicios.component.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbWlzLXNlcnZpY2lvcy9taXMtc2VydmljaW9zLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/clientes-components/mis-servicios/mis-servicios.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/clientes-components/mis-servicios/mis-servicios.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver servicios registrados</h2>\r\n    </div>\r\n    <div class=\"col text-right\">\r\n      <button class=\"btn btn-primary\" (click)=\"gotoNew()\">Programar nuevo servicio</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Por técnico</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_tec\" [ngModelOptions]=\"{standalone: true}\" (change)=\"findByTec()\">\r\n            <option value=\"todos\">Ver todos</option>\r\n            <option *ngFor=\"let tecnico of tecnicos\" value=\"{{tecnico._id}}\">{{tecnico.info.name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Por equipo</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_emg\" [ngModelOptions]=\"{standalone: true}\" (change)=\"findByEmg()\">\r\n            <option value=\"todos\">Ver todos</option>\r\n            <option *ngFor=\"let emg of emgs\" value=\"{{emg._id}}\">{{emg.info.name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Buscar por id</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Id del servicio\" [(ngModel)]=\"busqById\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaById()\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div class=\"row text-center\">\r\n        <div class=\"col-12\">\r\n          <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Id</th>\r\n                  <th scope=\"col\">Equipo</th>\r\n                  <th scope=\"col\">Técnico</th>\r\n                  <th scope=\"col\">Fecha programada</th>\r\n                  <th scope=\"col\">Estatus</th>\r\n                  <th scope=\"col\">Calificiación</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let servicio of servicios\">\r\n                  <td scope=\"row\">{{getId(servicio._id)}}</td>\r\n                  <td>{{getEmg(servicio.emg)}}</td>\r\n                  <td>{{getTecnico(servicio.tecnico)}}</td>\r\n                  <td>{{getDate(servicio.date)}}</td>\r\n                  <td>{{getStatus(servicio.status)}}</td>\r\n                  <td>{{getScore(servicio.score,servicio.status)}}</td>\r\n                  <td>\r\n                    <button mat-mini-fab class=\"bg-primary\" (click)=\"viewService(servicio._id)\">\r\n                        <mat-icon>pageview</mat-icon>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <br>\r\n          <hr>\r\n          <br>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/mis-servicios/mis-servicios.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/clientes-components/mis-servicios/mis-servicios.component.ts ***!
  \******************************************************************************/
/*! exports provided: MisServiciosComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MisServiciosComponent", function() { return MisServiciosComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);








var MisServiciosComponent = /** @class */ (function () {
    function MisServiciosComponent(userServices, emgServices, serviciosService, router, auth) {
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.router = router;
        this.auth = auth;
        this.busqById = "";
        this.id_tec = "";
        this.id_emg = "";
    }
    MisServiciosComponent.prototype.ngOnInit = function () {
        this.loadTecnicos();
        this.loadEmgs();
        this.loadServices();
    };
    MisServiciosComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    MisServiciosComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getByClient(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    MisServiciosComponent.prototype.loadServices = function () {
        var _this = this;
        this.serviciosService.getByClient(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.servicios = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    MisServiciosComponent.prototype.getTecnico = function (id) {
        if (id == null) {
            return "Por asignar";
        }
        else {
            var n = this.tecnicos.find(function (tec) {
                return tec._id == id;
            });
            return n.info.name;
        }
    };
    MisServiciosComponent.prototype.getEmg = function (id) {
        var n = this.emgs.find(function (tec) {
            return tec._id == id;
        });
        return n.info.name;
    };
    /*
   0. Solicitado por cliente(Falta asignar tecnico)
   1. Programado
   2. En proceso
   3. Realizado
   */
    MisServiciosComponent.prototype.getStatus = function (n) {
        switch (n) {
            case 0:
                return "Solicitado";
                break;
            case 1:
                return "Programado";
                break;
            case 2:
                return "En proceso";
                break;
            case 3:
                return "Realizado";
                break;
        }
    };
    MisServiciosComponent.prototype.getId = function (id) {
        return id.substring(id.length - 10, id.length);
    };
    MisServiciosComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_7__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    MisServiciosComponent.prototype.gotoNew = function () {
        this.router.navigateByUrl('misservicios/solicitar');
    };
    MisServiciosComponent.prototype.viewService = function (id) {
        this.router.navigateByUrl('misservicios/' + id);
    };
    MisServiciosComponent.prototype.busquedaById = function () {
        this.id_emg = "";
        this.id_tec = "";
        if (this.busqById == "") {
            this.loadServices();
        }
        else {
            var regex_1 = new RegExp(this.busqById.toLowerCase());
            var temp = this.servicios;
            this.servicios = temp.filter(function (servicio) { return servicio._id.toLowerCase().match(regex_1); });
        }
    };
    MisServiciosComponent.prototype.findByTec = function () {
        var _this = this;
        this.id_emg = "";
        if (this.id_tec == "todos") {
            this.loadServices();
        }
        else {
            this.serviciosService.getByTec(this.id_tec).subscribe(function (res) {
                _this.servicios = res.detail;
            }, function (err) {
                console.error(err);
            });
        }
    };
    MisServiciosComponent.prototype.findByEmg = function () {
        var _this = this;
        this.id_tec = "";
        if (this.id_emg == "todos") {
            this.loadServices();
        }
        else {
            this.serviciosService.getByEmg(this.id_emg).subscribe(function (res) {
                _this.servicios = res.detail;
            }, function (err) {
                console.error(err);
            });
        }
    };
    MisServiciosComponent.prototype.getScore = function (score, status) {
        if (status != 3) {
            return 'No Calificado';
        }
        else {
            switch (score) {
                case 0:
                    return 'Mala';
                case 1:
                    return 'Buena';
                case 2:
                    return 'Excelente';
            }
        }
    };
    MisServiciosComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mis-servicios',
            template: __webpack_require__(/*! ./mis-servicios.component.html */ "./src/app/clientes-components/mis-servicios/mis-servicios.component.html"),
            styles: [__webpack_require__(/*! ./mis-servicios.component.css */ "./src/app/clientes-components/mis-servicios/mis-servicios.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__["UsuariosService"], src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__["EmgsService"],
            src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_4__["ServiciosService"], _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"]])
    ], MisServiciosComponent);
    return MisServiciosComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/clientes-components/mislineasbyid/mislineasbyid.component.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbWlzbGluZWFzYnlpZC9taXNsaW5lYXNieWlkLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/clientes-components/mislineasbyid/mislineasbyid.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver línea de producción</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\"> \r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div> \r\n  </div>\r\n  <br>\r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Ver líneas por planta</h6>\r\n      <small class=\"text-danger\">**Seleccione a la planta**</small> \r\n    </div>\r\n    <div class=\"col-3\">  \r\n      <select id=\"inputState\" class=\"form-control form-control-sm\" [(ngModel)]=\"id_planta\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"sinPlantas\" (change)=\"loadlineas()\">\r\n        <option *ngFor=\"let plt of planta\" value=\"{{plt._id}}\">{{plt.name}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de línea</h6>\r\n    </div>\r\n    <div class=\"col-3\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre de la planta\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 *ngIf=\"sinPlantas\" class=\"text-center txt-danger\">Sin líneas registradas en esta planta</h6>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12 text-right\">\r\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewLine()\">\r\n          Nueva línea\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"row text-center\">\r\n      <div class=\"col-12\">\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Nombre corto</th>\r\n                <th scope=\"col\">Descripción</th>\r\n                <th scope=\"col\">Detalle</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let lns of lines\">\r\n                <td scope=\"row\">{{lns.name}}</td>\r\n                <td>{{lns.shortname}}</td>\r\n                <td>{{lns.desc}}</td>\r\n                <td>\r\n                  <button mat-mini-fab class=\"bg-primary\" (click)=\"plantDet(lns._id)\">\r\n                      <mat-icon>pageview</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n        </table>\r\n        <br>\r\n        <hr>\r\n        <br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/clientes-components/mislineasbyid/mislineasbyid.component.ts ***!
  \******************************************************************************/
/*! exports provided: MislineasbyidComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MislineasbyidComponent", function() { return MislineasbyidComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");





var MislineasbyidComponent = /** @class */ (function () {
    function MislineasbyidComponent(router, plantas, auth, activatedRoute) {
        this.router = router;
        this.plantas = plantas;
        this.auth = auth;
        this.activatedRoute = activatedRoute;
        this.load = false;
        this.busq = "";
        this.id_p = "";
        this.sinPlantas = false;
        this.sinLineas = false;
        this.id_p = this.activatedRoute.snapshot.paramMap.get("id");
    }
    MislineasbyidComponent.prototype.ngOnInit = function () {
        this.loadPlants();
        this.getPlants();
    };
    MislineasbyidComponent.prototype.loadPlants = function () {
        var _this = this;
        this.id_planta = '';
        this.plantas.getAllPlantas(this.auth.getEmpresaId()).subscribe(function (data) {
            //this.lines=[];
            _this.planta = data.detail;
            if (_this.planta.length == 0) {
                _this.sinPlantas = true;
            }
            else {
                _this.sinPlantas = false;
            }
        }, function (err) {
            console.log(err);
        });
    };
    MislineasbyidComponent.prototype.plantDet = function (id) {
        this.router.navigateByUrl('mislineas/' + this.id_p + "/" + id);
    };
    MislineasbyidComponent.prototype.goNewLine = function () {
        this.router.navigateByUrl('mislineas/nueva/' + this.id_p);
    };
    MislineasbyidComponent.prototype.loadLineas = function () {
        var _this = this;
        this.planta.forEach(function (el) {
            if (el._id == _this.id_p) {
                _this.lines = el.lines;
            }
            _this.load = true;
        });
    };
    MislineasbyidComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadLineas();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.lines;
            this.lines = temp.filter(function (lns) { return lns.name.toLowerCase().match(regex); });
        }
    };
    MislineasbyidComponent.prototype.loadRet = function (na) {
        var _this = this;
        var elemente = na.find(function (e) { return e._id == _this.id_p; });
        this.lines = elemente.lines;
        this.id_cliente = elemente.client;
        this.loadPlants();
        this.id_planta = this.id_p;
        this.lines = elemente.lines;
        this.load = true;
    };
    MislineasbyidComponent.prototype.getPlants = function () {
        var _this = this;
        this.plantas.getAll().subscribe(function (data) {
            ;
            _this.loadRet(data.detail);
        }, function (err) {
            console.log(err);
        });
    };
    MislineasbyidComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mislineasbyid',
            template: __webpack_require__(/*! ./mislineasbyid.component.html */ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.html"),
            styles: [__webpack_require__(/*! ./mislineasbyid.component.css */ "./src/app/clientes-components/mislineasbyid/mislineasbyid.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]])
    ], MislineasbyidComponent);
    return MislineasbyidComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbnVldm8tbWktZXF1aXBvL251ZXZvLW1pLWVxdWlwby5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Añadir nuevo equipo EMG</h5>\r\n          <br>\r\n          <form [formGroup]=\"emgForm\" (ngSubmit)=\"save()\">\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Ubicación del nuevo equipo</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"planta\"><span class=\"text-danger\">*</span>Planta <small class=\"text-muted\">seleccione primero cliente</small></label>\r\n                  <select class=\"form-control\" id=\"planta\" (change)=\"loadLines()\" formControlName=\"planta\">\r\n                    <option *ngFor=\"let plant of plants\" value=\"{{plant._id}}\">{{plant.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"emgForm.get('planta').errors&&emgForm.get('planta').dirty\">\r\n                    <p *ngIf=\"emgForm.get('planta').hasError('required')\" class=\"text-danger\">La planta es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"linea\"><span class=\"text-danger\">*</span>Línea <small class=\"text-muted\">seleccione primero cliente y planta</small></label>\r\n                  <select class=\"form-control\" id=\"linea\" formControlName=\"linea\" (change)=\"saveLine()\">\r\n                    <option *ngFor=\"let line of lines\" value=\"{{line._id}}\">{{line.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"emgForm.get('linea').errors&&emgForm.get('linea').dirty\">\r\n                    <p *ngIf=\"emgForm.get('linea').hasError('required')\" class=\"text-danger\">La línea es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Información del equipo EMG</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-4\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"btnsug\"><span class=\"text-danger\">*</span>Nombre</label>\r\n                      <button type=\"button\" class=\"btn btn-primary w-100\" id=\"btnsug\" (click)=\"genName()\">Sugerir</button>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-8\">      \r\n                    <div class=\"form-group\">\r\n                      <label for=\"modelo\">...</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"modelo\" formControlName=\"nombre\" placeholder=\"Nombre\" value=\"{{nombre}}\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"modelo\"><span class=\"text-danger\">*</span>Modelo</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"modelo\" formControlName=\"modelo\" placeholder=\"Modelo del equipo\">\r\n                  <div *ngIf=\"emgForm.get('modelo').errors&&emgForm.get('modelo').dirty\">\r\n                    <p *ngIf=\"emgForm.get('modelo').hasError('required')\" class=\"text-danger\">El modelo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Tipo\"><span class=\"text-danger\">*</span>Tipo</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"Tipo\" formControlName=\"tipo\" placeholder=\"Tipo del equipo (motor, actuador, etc.)\">\r\n                </div>\r\n                <div *ngIf=\"emgForm.get('modelo').errors&&emgForm.get('modelo').dirty\">\r\n                  <p *ngIf=\"emgForm.get('modelo').hasError('required')\" class=\"text-danger\">El modelo es requerido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\"> \r\n                <div class=\"form-group\">\r\n                  <label for=\"Descripción\"><span class=\"text-danger\">*</span>Descripción</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"Descripción\" formControlName=\"desc\" placeholder=\"Descripción del equipo\">\r\n                  <div *ngIf=\"emgForm.get('desc').errors&&emgForm.get('desc').dirty\">\r\n                    <p *ngIf=\"emgForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Seria\"><span class=\"text-danger\">*</span>Número de serie</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"Seria\" formControlName=\"serie\" placeholder=\"Número de serie del equipo\">\r\n                  <div *ngIf=\"emgForm.get('serie').errors&&emgForm.get('serie').dirty\">\r\n                    <p *ngIf=\"emgForm.get('serie').hasError('required')\" class=\"text-danger\">El número de serie es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"cp\"><span class=\"text-danger\">*</span>Código de proyecto</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"cp\" formControlName=\"cod_pro\" placeholder=\"Código de proyecto del equipo\">\r\n                  <div *ngIf=\"emgForm.get('cod_pro').errors&&emgForm.get('cod_pro').dirty\">\r\n                    <p *ngIf=\"emgForm.get('cod_pro').hasError('required')\" class=\"text-danger\">El Código de proyecto es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <br><br>\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"emgForm.invalid\">Guardar</button>                    \r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <h5 class=\"text-info\" *ngIf=\"msg\">EQUIPO REGISTRADO</h5>\r\n                    <h5 class=\"text-danger\" *ngIf=\"msgErr\">ERROR DURANTE REGISTRO</h5>\r\n                </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.ts ***!
  \**********************************************************************************/
/*! exports provided: NuevoMiEquipoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NuevoMiEquipoComponent", function() { return NuevoMiEquipoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");








var NuevoMiEquipoComponent = /** @class */ (function () {
    function NuevoMiEquipoComponent(userService, plantsService, emgServices, router, authService, fb) {
        this.userService = userService;
        this.plantsService = plantsService;
        this.emgServices = emgServices;
        this.router = router;
        this.authService = authService;
        this.fb = fb;
        this.msg = false;
        this.msgErr = false;
        this.emgForm = this.fb.group({
            planta: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]],
            linea: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]],
            nombre: ['', []],
            modelo: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]],
            tipo: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]],
            serie: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]],
            cod_pro: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__["Validators"].required]]
        });
    }
    NuevoMiEquipoComponent.prototype.ngOnInit = function () {
        this.loadPlants();
    };
    NuevoMiEquipoComponent.prototype.loadPlants = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.plantsService.getAllPlantas(this.authService.getEmpresaId()).subscribe(function (res) {
            _this.plants = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    NuevoMiEquipoComponent.prototype.loadLines = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.plants.forEach(function (el) {
            if (el._id == temp.planta) {
                _this.lines = el.lines;
            }
        });
    };
    NuevoMiEquipoComponent.prototype.saveLine = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.plants.forEach(function (plant) {
            if (plant._id == temp.planta) {
                _this.lines.forEach(function (line) {
                    if (line._id == temp.linea) {
                        _this.shortname_line = line.shortname;
                    }
                });
            }
        });
    };
    NuevoMiEquipoComponent.prototype.genName = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.emgServices.getByLine(temp.linea).subscribe(function (res) {
            console.log(res);
            _this.nombre = _this.shortname_line + '_emg' + (res.detail.length + 1);
        }, function (err) {
        });
    };
    NuevoMiEquipoComponent.prototype.save = function () {
        var _this = this;
        var temp = this.emgForm.value;
        var nemg = {
            'info': {
                'name': this.nombre,
                'type': temp.tipo,
                'model': temp.modelo,
                'description': temp.desc,
                'serial': temp.serie
            },
            'client': this.authService.getEmpresaId(),
            'plant': temp.planta,
            'line': temp.linea,
            'cod_pro': temp.cod_pro,
            'status': 0,
            'active': true,
            'meta': {
                'registred_by': this.authService.getEmpresaId()
            }
        };
        this.emgServices.create(nemg).subscribe(function (res) {
            _this.emgServices.genEmg(res.detail._id).subscribe(function (res) {
                _this.msg = true;
                setTimeout(function () {
                    _this.regresar();
                }, 1500);
            }, function (err) {
                _this.msgErr = true;
                setTimeout(function () {
                    _this.regresar();
                }, 1500);
            });
        }, function (err) {
            console.log(err);
            _this.msgErr = true;
            setTimeout(function () {
                _this.regresar();
            }, 1500);
        });
    };
    NuevoMiEquipoComponent.prototype.regresar = function () {
        this.router.navigateByUrl('misequipos');
    };
    NuevoMiEquipoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-nuevo-mi-equipo',
            template: __webpack_require__(/*! ./nuevo-mi-equipo.component.html */ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.html"),
            styles: [__webpack_require__(/*! ./nuevo-mi-equipo.component.css */ "./src/app/clientes-components/nuevo-mi-equipo/nuevo-mi-equipo.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__["UsuariosService"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__["PlantasService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__["EmgsService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormBuilder"]])
    ], NuevoMiEquipoComponent);
    return NuevoMiEquipoComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbnVldm8tbWktbGluZWEvbnVldm8tbWktbGluZWEuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr> \r\n<div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">Agregar línea para planta {{p_namestr}}</h5>\r\n            </div>\r\n            <form class=\"container\" [formGroup]=\"lineForm\" (ngSubmit)=\"save()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name\"><span class=\"text-danger\">*</span>Nombre línea</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Nombre de la linea\" formControlName=\"name\" (keyup)=\"setEnable()\">\r\n                      <div *ngIf=\"lineForm.get('name').errors&&lineForm.get('name').dirty\">\r\n                        <p *ngIf=\"lineForm.get('name').hasError('required')\" class=\"text-danger\">Nombre requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-4\">\r\n                        <div class=\"form-group\">                          \r\n                          <label for=\"name\"><span class=\"text-danger\">*</span>Nombre corto</label>\r\n                          <button type=\"button\" class=\"btn btn-primary w-100\" [disabled]=\"btnen\" (click)=\"genShrName()\">Sugerir</button>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-8\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"shortname\">...</label>\r\n                          <input type=\"text\" class=\"form-control\" id=\"shortname\" placeholder=\"Nombre corto de la línea(max 6 digitos)\" formControlName=\"shortname\" value=\"{{nombrecorto}}\">\r\n                          <div *ngIf=\"lineForm.get('shortname').errors&&lineForm.get('shortname').dirty\">\r\n                            <p *ngIf=\"lineForm.get('shortname').hasError('maxlength')\" class=\"text-danger\">Máximo 7 digitos</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"eName\"><span class=\"text-danger\">*</span>Descripción</label>\r\n                      <textarea class=\"form-control\" id=\"eName\" rows=\"3\" placeholder=\"Descripción de la línea\" formControlName=\"desc\"></textarea>\r\n                      <div *ngIf=\"lineForm.get('desc').errors&&lineForm.get('desc').dirty\">\r\n                        <p *ngIf=\"lineForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"lineForm.invalid\">Guardar</button>                    \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                        <h5 class=\"text-info\" *ngIf=\"msg\">PLANTA REGISTRADA</h5>\r\n                        <h5 class=\"text-danger\" *ngIf=\"msgErr\">ERROR DURANTE REGISTRO</h5>\r\n                    </div>\r\n                </div>\r\n                <br>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.ts ***!
  \********************************************************************************/
/*! exports provided: NuevoMiLineaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NuevoMiLineaComponent", function() { return NuevoMiLineaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");






var NuevoMiLineaComponent = /** @class */ (function () {
    function NuevoMiLineaComponent(router, activatedRoute, planta, fb, location) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.planta = planta;
        this.fb = fb;
        this.location = location;
        this.btnen = true;
        this.nombrecorto = "";
        this.msg = false;
        this.msgErr = false;
        this.id_p = "";
        this.p_namestr = "";
        this.nLine = 0;
        this.nDesc = "";
        this.lineForm = fb.group({
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            shortname: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].maxLength(7)]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
        });
    }
    NuevoMiLineaComponent.prototype.ngOnInit = function () {
        this.id_p = this.activatedRoute.snapshot.paramMap.get("id");
        this.getName(this.id_p);
    };
    NuevoMiLineaComponent.prototype.getName = function (id) {
        var _this = this;
        this.planta.getPlanta(id).subscribe(function (res) {
            _this.p_name = res.detail;
            _this.p_namestr = _this.p_name.name;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    NuevoMiLineaComponent.prototype.regresar = function () {
        this.router.navigateByUrl('mislineas/' + this.id_p);
    };
    NuevoMiLineaComponent.prototype.save = function () {
        var _this = this;
        var temp = this.lineForm.value;
        var nl = {
            'name': temp.name,
            'shortname': this.nombrecorto,
            'desc': temp.desc
        };
        this.planta.addLinea(nl, this.id_p).subscribe(function (res) {
            _this.msg = true;
            setTimeout(function () {
                _this.router.navigateByUrl('mislineas/' + _this.id_p);
            }, 2000);
        }, function (err) {
            _this.msgErr = true;
            console.log(err);
        });
    };
    NuevoMiLineaComponent.prototype.genShrName = function () {
        var temp = this.lineForm.value;
        this.nombrecorto = this.p_namestr.substring(0, 3).toLowerCase() + "_" + temp.name.substring(0, 3).toLowerCase();
    };
    NuevoMiLineaComponent.prototype.setEnable = function () {
        this.btnen = false;
    };
    NuevoMiLineaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-nuevo-mi-linea',
            template: __webpack_require__(/*! ./nuevo-mi-linea.component.html */ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.html"),
            styles: [__webpack_require__(/*! ./nuevo-mi-linea.component.css */ "./src/app/clientes-components/nuevo-mi-linea/nuevo-mi-linea.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"]])
    ], NuevoMiLineaComponent);
    return NuevoMiLineaComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvbnVldm8tbWktcGxhbnRhL251ZXZvLW1pLXBsYW50YS5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n<div class=\"row\"> \r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">Agregar planta</h5>\r\n            </div>\r\n            <form class=\"container\"  [formGroup]=\"plantaForm\" (ngSubmit)=\"save()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name\"><span class=\"text-danger\">*</span>Nombre de planta</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"name\" placeholder=\"Nombre de la planta\" formControlName=\"name\">\r\n                      <div *ngIf=\"plantaForm.get('name').errors&&plantaForm.get('name').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('name').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"code\"><span class=\"text-danger\">*</span>Nombre corto</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"code\" placeholder=\"Nombre corto de planta\" formControlName=\"code\">\r\n                      <div *ngIf=\"plantaForm.get('code').errors&&plantaForm.get('code').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('code').hasError('required')\" class=\"text-danger\">El nombre corto es requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h4 class=\"card-subtitle\">Información de contacto en la planta</h4>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"eName\"><span class=\"text-danger\">*</span>Nombre</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"eName\" placeholder=\"Nombre\" formControlName=\"ename\">\r\n                      <div *ngIf=\"plantaForm.get('ename').errors&&plantaForm.get('ename').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('ename').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"Email\"><span class=\"text-danger\">*</span>Email</label>\r\n                      <input type=\"email\" class=\"form-control form-control-sm\" id=\"Email\" placeholder=\"Correo\" formControlName=\"email\">\r\n                      <div *ngIf=\"plantaForm.get('email').errors&&plantaForm.get('email').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('email').hasError('required')\" class=\"text-danger\">El email es requerido</p>\r\n                        <p *ngIf=\"plantaForm.get('email').hasError('email')\" class=\"text-danger\">Debe tener formato de email</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"Phone\"><span class=\"text-danger\">*</span>Télefono</label>\r\n                        <input type=\"tel\" class=\"form-control form-control-sm\" id=\"Phone\" placeholder=\"Télefono\" formControlName=\"phone\">\r\n                        <div *ngIf=\"plantaForm.get('phone').errors&&plantaForm.get('phone').dirty\">\r\n                          <p *ngIf=\"plantaForm.get('phone').hasError('required')\" class=\"text-danger\">El telefono es requerido</p>\r\n                          <p *ngIf=\"plantaForm.get('phone').hasError('minlength')\" class=\"text-danger\">Debe tener minimo 10 digitos</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row pad1\">\r\n                  <div class=\"col-4\">\r\n                      <div class=\"pad1 w-100\">\r\n                          <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                      <div class=\"pad1 w-100\">\r\n                          <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"plantaForm.invalid\">Guardar</button>                    \r\n                      </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                      <h5 class=\"text-info\" *ngIf=\"msg\">PLANTA REGISTRADA</h5>\r\n                      <h5 class=\"text-danger\" *ngIf=\"msgErr\">ERROR DURANTE REGISTRO</h5>\r\n                  </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.ts ***!
  \**********************************************************************************/
/*! exports provided: NuevoMiPlantaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NuevoMiPlantaComponent", function() { return NuevoMiPlantaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");







var NuevoMiPlantaComponent = /** @class */ (function () {
    function NuevoMiPlantaComponent(fb, router, plantas, auth, location) {
        this.fb = fb;
        this.router = router;
        this.plantas = plantas;
        this.auth = auth;
        this.location = location;
        this.msg = false;
        this.msgErr = false;
        this.plantaForm = fb.group({
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            code: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            ename: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            email: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].email]],
            phone: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].minLength(10)]],
        });
    }
    NuevoMiPlantaComponent.prototype.ngOnInit = function () {
    };
    NuevoMiPlantaComponent.prototype.regresar = function () {
        this.location.back();
    };
    NuevoMiPlantaComponent.prototype.save = function () {
        var _this = this;
        var temp = this.plantaForm.value;
        var nPlant = {
            'client': this.auth.getEmpresaId(),
            'name': temp.name,
            'code': temp.code,
            'boss': {
                'name': temp.ename,
                'email': temp.email,
                'phone': temp.phone
            },
            "meta": {
                "registred_by": this.auth.getId()
            }
        };
        this.plantas.crear(nPlant).subscribe(function (res) {
            _this.msg = true;
            setTimeout(function () {
                _this.regresar();
            }, 2000);
        }, function (err) {
            _this.msgErr = true;
            console.log(err);
        });
    };
    NuevoMiPlantaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-nuevo-mi-planta',
            template: __webpack_require__(/*! ./nuevo-mi-planta.component.html */ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.html"),
            styles: [__webpack_require__(/*! ./nuevo-mi-planta.component.css */ "./src/app/clientes-components/nuevo-mi-planta/nuevo-mi-planta.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["Location"]])
    ], NuevoMiPlantaComponent);
    return NuevoMiPlantaComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.css ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvc29saWNpdGFyLXNlcnZpY2lvL3NvbGljaXRhci1zZXJ2aWNpby5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Programar servicio a equipo EMG</h5>\r\n          <br> \r\n          <form [formGroup]=\"serviciosForm\" (ngSubmit)=\"save()\">\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Asignación de equipo EMG y Contrato</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"emg\"><span class=\"text-danger\">*</span>Equipo EMG</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"emg\" formControlName=\"emg\">\r\n                    <option *ngFor=\"let emg of emgs\" value=\"{{emg._id}}\">{{emg.info.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('emg').errors&&serviciosForm.get('emg').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('emg').hasError('required')\" class=\"text-danger\">El equipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"tecnico\"><span class=\"text-danger\">*</span>Técnico a asignar</label>\r\n                  <input class=\"form-control form-control-sm\" id=\"tecnico\" placeholder=\"Será asignado por administrador\" [disabled]=\"true\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"agreement\"><span class=\"text-danger\">*</span>Contrato</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"agreement\" formControlName=\"agreement\">\r\n                    <option *ngFor=\"let contrato of contratos\" value=\"{{contrato._id}}\">{{contrato.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('agreement').errors&&serviciosForm.get('agreement').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('agreement').hasError('required')\" class=\"text-danger\">El equipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Información del servicio requerido</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"type\"><span class=\"text-danger\">*</span>Tipo de servicio</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"type\" formControlName=\"type\">\r\n                    <option *ngFor=\"let tipo of tipos\" value=\"{{tipo.name}}\">{{tipo.name}}</option>                    \r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('type').errors&&serviciosForm.get('type').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('type').hasError('required')\" class=\"text-danger\">El tipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"date\"><span class=\"text-danger\">*</span>Fecha y hora a sugerir</label>\r\n                  <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"date\" formControlName=\"date\" min=\"{{minDate}}\">\r\n                  <small class=\"text-muted\">El día y hora solicitada es posible que se modifique a disponibilidad de los técnicos.</small>\r\n                </div>\r\n                <div *ngIf=\"serviciosForm.get('date').errors&&serviciosForm.get('date').dirty\">\r\n                  <p *ngIf=\"serviciosForm.get('date').hasError('required')\" class=\"text-danger\">La fecha es requerido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Descripción\"><span class=\"text-danger\">*</span>Descripción a detalle del servico</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"Descripción\" formControlName=\"desc\">\r\n                  <div *ngIf=\"serviciosForm.get('desc').errors&&serviciosForm.get('desc').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <br><br>\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"serviciosForm.invalid\">Solicitar</button>                    \r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <small class=\"text-muted\" *ngIf=\"!msg\">Al solicitar un servicio se enviará un correo al administrador para notificarle que se le debe asignar un servicio.</small>\r\n                    <h5 class=\"text-info\" *ngIf=\"msg\">SERVICIO PROGRAMADO</h5>\r\n                    <h5 class=\"text-danger\" *ngIf=\"msgErr\">ERROR DURANTE REGISTRO</h5>\r\n                </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.ts ***!
  \****************************************************************************************/
/*! exports provided: SolicitarServicioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SolicitarServicioComponent", function() { return SolicitarServicioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_configuration_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");













var SolicitarServicioComponent = /** @class */ (function () {
    function SolicitarServicioComponent(fb, userServices, emgServices, serviciosService, router, auth, configServices, agreementsServices, empresaService, plantsService, location) {
        this.fb = fb;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.router = router;
        this.auth = auth;
        this.configServices = configServices;
        this.agreementsServices = agreementsServices;
        this.empresaService = empresaService;
        this.plantsService = plantsService;
        this.location = location;
        this.msg = false;
        this.msgErr = false;
        this.minDate = '';
        this.serviciosForm = fb.group({
            emg: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            type: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            date: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            agreement: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]]
        });
        this.fecExiste();
    }
    SolicitarServicioComponent.prototype.ngOnInit = function () {
        this.loadTecnicos();
        this.loadEmgs();
        this.getAdmin();
        this.getTipos();
        this.loadContratosId();
    };
    SolicitarServicioComponent.prototype.getTipos = function () {
        var _this = this;
        this.configServices.getTipos().subscribe(function (res) {
            _this.tipos = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    SolicitarServicioComponent.prototype.getDate = function (date) {
        return date.slice(0, 16).replace('T', ' a las ');
    };
    SolicitarServicioComponent.prototype.fecExiste = function () {
        var _this = this;
        this.configServices.getFec().subscribe(function (res) {
            console.log(res.detail.value);
            if (res.detail === null) {
                _this.configServices.setFec().subscribe(function (res) { console.log(res); }, function (err) { });
                _this.getMinDate(false);
            }
            else {
                _this.getMinDate(res.detail.value);
            }
        }, function (err) {
            console.log(err);
        });
    };
    SolicitarServicioComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    SolicitarServicioComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getByClient(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    SolicitarServicioComponent.prototype.getAdmin = function () {
        var _this = this;
        this.userServices.getAdmin().subscribe(function (res) {
            _this.admin = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    SolicitarServicioComponent.prototype.getClientId = function () {
        var _this = this;
        var temp = this.serviciosForm.value.emg;
        this.emgs.forEach(function (emg) {
            if (emg._id == temp) {
                _this.emg_c_id = emg.client;
            }
        });
    };
    /*
   0. Solicitado por cliente(Falta asignar tecnico)
   1. Programado
   2. En proceso
   3. Realizado
   */
    SolicitarServicioComponent.prototype.save = function () {
        var _this = this;
        this.getClientId();
        var temp = this.serviciosForm.value;
        temp.status = 0;
        temp.client = this.emg_c_id;
        temp.requested_by = this.auth.getId();
        console.log(temp);
        this.serviciosService.save(temp).subscribe(function (res) {
            _this.msg = true;
            _this.serviciosService.emailSolicitar({
                "email": _this.admin.info.email,
                "name": _this.admin.info.name,
                "client": _this.auth.getName(),
                "date": _this.getDate(temp.date),
                "id": res.detail._id.substring(res.detail._id.length - 10, res.detail._id.length)
            }).subscribe(function (res) {
                console.log(res);
            }, function (err) {
                console.error(err);
            });
            setTimeout(function () {
                _this.regresar();
            }, 1500);
        }, function (err) {
            _this.msgErr = true;
            setTimeout(function () {
                _this.regresar();
            }, 1500);
        });
    };
    SolicitarServicioComponent.prototype.regresar = function () {
        this.location.back();
    };
    SolicitarServicioComponent.prototype.getMinDate = function (fa) {
        var date = new Date();
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        if (fa) {
            this.minDate = '';
        }
        else {
            if (month < 10) {
                this.minDate = year + "-0" + month + "-" + day + "T00:00";
            }
            else {
                this.minDate = year + "-" + month + "-" + day + "T00:00";
            }
        }
    };
    SolicitarServicioComponent.prototype.loadContratosId = function () {
        var _this = this;
        this.agreementsServices.getContratosActivosByClient(this.auth.getEmpresaId()).subscribe(function (res) {
            _this.contratos = res.detail;
            console.log(res, _this.auth.getEmpresaId());
        }, function (err) {
            console.error(err);
        });
    };
    SolicitarServicioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-solicitar-servicio',
            template: __webpack_require__(/*! ./solicitar-servicio.component.html */ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.html"),
            styles: [__webpack_require__(/*! ./solicitar-servicio.component.css */ "./src/app/clientes-components/solicitar-servicio/solicitar-servicio.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__["EmgsService"], src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_5__["ServiciosService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_7__["AuthService"], src_app_services_configuration_service__WEBPACK_IMPORTED_MODULE_8__["ConfigurationService"],
            src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_9__["AgreementsService"], src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_10__["EmpresasService"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_11__["PlantasService"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"]])
    ], SolicitarServicioComponent);
    return SolicitarServicioComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvdmVyLW1pLWVxdWlwby92ZXItbWktZXF1aXBvLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Ver equipo EMG</h5>\r\n          <br>\r\n          <h6 class=\"card-subtitle\"><b>Nombre:</b>{{nombre}}</h6>\r\n          <br>\r\n          <hr>  \r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6 class=\"card-subtitle\">Ubicación del equipo</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6><b>Cliente: </b>{{cliente}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Planta: </b>{{planta}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Línea: </b>{{linea}}</h6>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6 class=\"card-subtitle\">Información del equipo EMG</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n                <h6><b>Estado del equipo: </b>{{activado()}}</h6>                \r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6><b>Modelo: </b>{{modelo}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Tipo: </b>{{tipo}}</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6><b>Descripción: </b>{{descripcion}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Serie: </b>{{serie}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Código de proyecto: </b>{{cod_pro}}</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\" style=\"padding-bottom: 0px\">\r\n            <div class=\"col-4\">\r\n              <h6><b>Código QR de identificación</b></h6>\r\n              <img src=\"{{emg.qr}}\" class=\"img-fluid\" style=\"width: 200px;\">\r\n            </div>\r\n          </div>\r\n          <div class=\"row pad1\">\r\n            <div class=\"col\">\r\n              <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n            </div>\r\n            <div class=\"col\">\r\n              <button type=\"button\" class=\"btn btn-warning w-100\" (click)=\"actDes()\">{{actDesStr()}}</button>\r\n            </div>\r\n            <div class=\"col\">\r\n              <button type=\"button\" class=\"btn btn-danger w-100\" (click)=\"getPdf()\">Descargar ficha(PDF)</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr><hr>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <div class=\"row\">\r\n    <p class=\"lead mx-auto\">\r\n      CARGANDO\r\n    </p>\r\n  </div>\r\n  <div class=\"row\" >\r\n    <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.ts ***!
  \******************************************************************************/
/*! exports provided: VerMiEquipoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerMiEquipoComponent", function() { return VerMiEquipoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");








var VerMiEquipoComponent = /** @class */ (function () {
    function VerMiEquipoComponent(activatedRoute, emgService, empresaService, plantasService, router, alert, location) {
        this.activatedRoute = activatedRoute;
        this.emgService = emgService;
        this.empresaService = empresaService;
        this.plantasService = plantasService;
        this.router = router;
        this.alert = alert;
        this.location = location;
        this.load = true;
        this.getEmg(this.activatedRoute.snapshot.paramMap.get('id'));
    }
    VerMiEquipoComponent.prototype.ngOnInit = function () {
    };
    VerMiEquipoComponent.prototype.loadStrings = function () {
        var info = this.emg.info;
        this.nombre = info.name;
        this.modelo = info.model;
        this.tipo = info.type;
        this.descripcion = info.description;
        this.serie = info.serial;
        this.cod_pro = this.emg.cod_pro;
        this.load = false;
    };
    VerMiEquipoComponent.prototype.getEmg = function (id) {
        var _this = this;
        this.emgService.getById(id).subscribe(function (res) {
            console.log(res);
            _this.emg = res.detail;
            _this.getClient();
        }, function (req) {
            console.log(req);
        });
    };
    VerMiEquipoComponent.prototype.getClient = function () {
        var _this = this;
        var emp = this.emg.client;
        this.empresaService.getid(emp).subscribe(function (res) {
            _this.cl = res.detail;
            _this.cliente = _this.cl.name;
            _this.getPlant();
        }, function (err) {
            console.log(err);
            return "Indefinido";
        });
    };
    VerMiEquipoComponent.prototype.getPlant = function () {
        var _this = this;
        this.plantasService.getPlanta(this.emg.plant).subscribe(function (res) {
            _this.pl = res.detail;
            _this.planta = _this.pl.name;
            _this.pl.lines.forEach(function (el) {
                if (el._id == _this.emg.line) {
                    _this.linea = el.name + "";
                }
            });
            _this.loadStrings();
        }, function (err) {
            console.log(err);
            return "Indefinido";
        });
    };
    VerMiEquipoComponent.prototype.activado = function () {
        if (!this.emg.active) {
            return "Inactivo";
        }
        else {
            return "Activo";
        }
    };
    VerMiEquipoComponent.prototype.estatus = function () {
        switch (this.emg.status) {
            case 0:
                return "En producción";
                break;
            case 1:
                return "En mantenimiento";
                break;
            case 2:
                return "En reparación";
                break;
            default:
                break;
        }
    };
    VerMiEquipoComponent.prototype.regresar = function () {
        this.location.back();
    };
    VerMiEquipoComponent.prototype.actDesStr = function () {
        if (this.emg.active) {
            return "Desactivar";
        }
        else {
            return "Activar";
        }
    };
    VerMiEquipoComponent.prototype.actDes = function () {
        var _this = this;
        this.alert.confirm("¿Desea cambiar el estatus al equipo EMG?", function () {
            _this.load = true;
            _this.emgService.actDes(_this.activatedRoute.snapshot.paramMap.get("id"), _this.emg.active).subscribe(function (data) {
                setTimeout(function () {
                    _this.regresar();
                }, 4000);
                _this.alert.success("Actualizado correctamente. Serás redirigido en unos segundos.");
                _this.getEmg(_this.activatedRoute.snapshot.paramMap.get("id"));
                _this.load = false;
            }, function (err) {
                console.log(err);
                _this.alert.error("Ocurrio un error durante la actualización.");
            });
        }, function () {
            _this.alert.error("Sin cambios en el registro");
        });
    };
    VerMiEquipoComponent.prototype.getPdf = function () {
        this.alert.alert("Tu PDF se descargará en unos segundos.");
        var data = {
            template: { "shortid": "rkgmBHwjyH" },
            data: {
                id: this.emg._id.substring(0, 10),
                nombre: this.nombre,
                cliente: this.cliente,
                planta: this.planta,
                linea: this.linea,
                estatus: this.estatus(),
                modelo: this.modelo,
                tipo: this.tipo,
                desc: this.descripcion,
                serie: this.serie,
                qr: this.emg.qr,
                cod_pro: this.cod_pro
            },
            options: { "timeout": 60000 }
        };
        this.emgService.getPdf(data);
    };
    VerMiEquipoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-ver-mi-equipo',
            template: __webpack_require__(/*! ./ver-mi-equipo.component.html */ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.html"),
            styles: [__webpack_require__(/*! ./ver-mi-equipo.component.css */ "./src/app/clientes-components/ver-mi-equipo/ver-mi-equipo.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__["EmgsService"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_6__["EmpresasService"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__["PlantasService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"]])
    ], VerMiEquipoComponent);
    return VerMiEquipoComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvdmVyLW1pLWxpbmVhL3Zlci1taS1saW5lYS5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card container\">\r\n              <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">Ver línea</h5>\r\n                  <h6 class=\"card-subtitle mb-2 text-muted\">Nombre de planta {{planta.name}}</h6>\r\n              </div> \r\n              <div class=\"container\">\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre de línea</b></h6>\r\n                      <h6>{{nombre}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre corto</b></h6>\r\n                      <h6>{{ncorto}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                      <div class=\"\">\r\n                        <h6><b>Descripción de la línea</b></h6>\r\n                        <h6>{{desc}}</h6>                        \r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <br>\r\n                <div class=\"row pad1\">\r\n                  <div class=\"col-4\">\r\n                    <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n              </div>\r\n              <br>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.ts ***!
  \****************************************************************************/
/*! exports provided: VerMiLineaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerMiLineaComponent", function() { return VerMiLineaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");





var VerMiLineaComponent = /** @class */ (function () {
    function VerMiLineaComponent(activatedRoute, router, plantas, location) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.plantas = plantas;
        this.location = location;
        this.nombre = "";
        this.ncorto = "";
        this.desc = "";
        this.id_p = this.activatedRoute.snapshot.paramMap.get("id_p");
        this.id_l = this.activatedRoute.snapshot.paramMap.get("id_l");
    }
    VerMiLineaComponent.prototype.ngOnInit = function () {
        this.getPlanta();
    };
    VerMiLineaComponent.prototype.ngDoCheck = function () {
        this.getLine();
    };
    VerMiLineaComponent.prototype.getPlanta = function () {
        var _this = this;
        this.plantas.getPlanta(this.id_p).subscribe(function (res) {
            _this.planta = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiLineaComponent.prototype.getLine = function () {
        var _this = this;
        this.planta.lines.forEach(function (el) {
            if (el._id == _this.id_l) {
                _this.line = el;
            }
        });
        this.nombre = this.line.name;
        this.ncorto = this.line.shortname;
        this.desc = this.line.desc;
    };
    VerMiLineaComponent.prototype.regresar = function () {
        this.router.navigateByUrl('mislineas/' + this.id_p);
    };
    VerMiLineaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-ver-mi-linea',
            template: __webpack_require__(/*! ./ver-mi-linea.component.html */ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.html"),
            styles: [__webpack_require__(/*! ./ver-mi-linea.component.css */ "./src/app/clientes-components/ver-mi-linea/ver-mi-linea.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"]])
    ], VerMiLineaComponent);
    return VerMiLineaComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.css ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvdmVyLW1pLXBsYW50YS92ZXItbWktcGxhbnRhLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">Ver planta</h5>\r\n                  <h6 class=\"card-subtitle mb-2 text-muted\">{{planta.name}}</h6>\r\n                  <ul>\r\n                      <li class=\"card-text\"><b>Registrado por: </b> {{reg_bystr}}</li>\r\n                      <li class=\"card-text\"><b>Dia de registro: </b> {{reg_date}}</li>\r\n                  </ul>\r\n              </div> \r\n              <div class=\"row\" *ngIf=\"actualizado\">\r\n                <div class=\"col text-center\">\r\n                  <h4 class=\"text-warning\">Actualizando...</h4>\r\n                </div>\r\n              </div>  \r\n              <form class=\"container\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"name\">Nombre de planta</label>\r\n                        <input type=\"text\" [(ngModel)]=\"nName\" class=\"form-control\" id=\"name\" placeholder=\"{{planta.name}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"code\">Nombre corto de planta</label>\r\n                        <input type=\"text\" [(ngModel)]=\"nCode\" class=\"form-control\" id=\"code\" placeholder=\"{{planta.code}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <h4 class=\"card-subtitle\">Información de contacto en la planta</h4>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"eName\">Nombre</label>\r\n                        <input type=\"text\" [(ngModel)]=\"neName\" class=\"form-control\" id=\"eName\" placeholder=\"{{planta.boss.name}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"Email\">Email</label>\r\n                        <input type=\"email\" [(ngModel)]=\"nEmail\" class=\"form-control\" id=\"Email\" placeholder=\"{{planta.boss.email}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"Phone\">Télefono</label>\r\n                          <input type=\"tel\" [(ngModel)]=\"nPhone\" class=\"form-control\" id=\"Phone\" placeholder=\"{{planta.boss.phone}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                        </div>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                    <small class=\"text-danger\">***Campos disponibles para actualizar los datos de la planta***</small>\r\n                  </div>\r\n                  <div class=\"pad1\">\r\n                  </div>\r\n                  <div class=\"row pad1\">\r\n                    <div class=\"col\">\r\n                      <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <button type=\"submit\" class=\"btn btn-primary w-100\" (click)=\"updClick()\" [disabled]=\"enbuts()\">Actualizar</button>\r\n                    </div>\r\n                    <div class=\"col\"></div>\r\n                  </div>\r\n              </form>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.ts ***!
  \******************************************************************************/
/*! exports provided: VerMiPlantaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerMiPlantaComponent", function() { return VerMiPlantaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");






var VerMiPlantaComponent = /** @class */ (function () {
    function VerMiPlantaComponent(activatedRoute, router, plantas, usuarios, location) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.plantas = plantas;
        this.usuarios = usuarios;
        this.location = location;
        this.reg_bystr = "";
        this.reg_date = "";
        this.nName = "";
        this.nCode = "";
        this.neName = "";
        this.nEmail = "";
        this.nPhone = "";
        this.actualizado = false;
        this.id = this.activatedRoute.snapshot.paramMap.get("id");
    }
    VerMiPlantaComponent.prototype.ngOnInit = function () {
        this.getPlanta();
    };
    VerMiPlantaComponent.prototype.ngDoCheck = function () {
        this.getName(this.planta.meta.registred_by);
        this.getDate(this.planta.meta.registred_date);
    };
    VerMiPlantaComponent.prototype.getPlanta = function () {
        var _this = this;
        this.plantas.getPlanta(this.id).subscribe(function (res) {
            _this.planta = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiPlantaComponent.prototype.enbuts = function () {
        if (this.nName != "" || this.nCode != "" || this.neName != "" || this.nEmail != "") {
            return false;
        }
        else {
            return true;
        }
    };
    VerMiPlantaComponent.prototype.regresar = function () {
        this.location.back();
    };
    VerMiPlantaComponent.prototype.getName = function (id) {
        var _this = this;
        this.usuarios.getUser(id).subscribe(function (res) {
            _this.reg_by = res.detail;
            _this.reg_bystr = _this.reg_by.info.name;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    VerMiPlantaComponent.prototype.getDate = function (ut) {
        this.reg_date = ut.slice(0, 10);
    };
    VerMiPlantaComponent.prototype.updClick = function () {
        if (this.nName == "") {
            this.nName = this.planta.name;
        }
        if (this.nCode == "") {
            this.nCode = this.planta.code;
        }
        if (this.neName == "") {
            this.neName = this.planta.boss.name;
        }
        if (this.nEmail == "") {
            this.nEmail = this.planta.boss.email;
        }
        if (this.nPhone == "") {
            this.nPhone = this.planta.boss.phone;
        }
        this.actualizar(this.nName, this.nCode, this.neName, this.nEmail, this.nPhone);
    };
    VerMiPlantaComponent.prototype.actualizar = function (n, c, ne, e, p) {
        var _this = this;
        var nPlant = {
            '_id': this.id,
            'name': n,
            'code': c,
            'boss': {
                'name': ne,
                'email': e,
                'phone': p
            }
        };
        this.plantas.updatePlanta(nPlant).subscribe(function (res) {
            _this.actualizado = true;
            setTimeout(function () {
                _this.getPlanta();
                _this.nName = "";
                _this.nCode = "";
                _this.neName = "";
                _this.nEmail = "";
                _this.nPhone = "";
                _this.actualizado = false;
            }, 1500);
        }, function (err) {
            console.log(err);
        });
    };
    VerMiPlantaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-ver-mi-planta',
            template: __webpack_require__(/*! ./ver-mi-planta.component.html */ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.html"),
            styles: [__webpack_require__(/*! ./ver-mi-planta.component.css */ "./src/app/clientes-components/ver-mi-planta/ver-mi-planta.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            _services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__["UsuariosService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"]])
    ], VerMiPlantaComponent);
    return VerMiPlantaComponent;
}());



/***/ }),

/***/ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NsaWVudGVzLWNvbXBvbmVudHMvdmVyLW1pLXNlcnZpY2lvL3Zlci1taS1zZXJ2aWNpby5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr> \r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">Ver servicio</h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">Id del servicio {{getId(servicio._id)}}</h6>\r\n              <div class=\"col\">\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información de solicitud</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Solicitado por</b></h6>\r\n                      <h6>{{requestby}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Empresa</b></h6>\r\n                      <h6>{{empresa}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha programada</b></h6>\r\n                      <h6>{{getDate(servicio.date)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Equipo</b></h6>\r\n                      <h6>{{emg}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre de técnico</b></h6>\r\n                      <h6 *ngIf=\"stat0\" class=\"text-danger\">Falta asignar técnico</h6>\r\n                      <h6 class=\"text-warning\" *ngIf=\"msg\"><b>Asignando...</b></h6>\r\n                      <h6>{{tec}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Contrato</b></h6>\r\n                      <h6>{{contrato}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <hr>\r\n                <div class=\"row card\" *ngIf=\"stat0\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"tecnico\"><span class=\"text-danger\">*</span>Técnico a asignar</label>\r\n                      <select class=\"form-control form-control-sm\" id=\"tecnico\" [(ngModel)]=\"tec_id\" (change)=\"enBut()\">\r\n                        <option *ngFor=\"let tecnico of tecnicos\" value=\"{{tecnico._id}}\">{{tecnico.info.name}}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label for=\"nfecnue\"><span class=\"text-danger\">*</span>Fecha y hora solicitadas <small class=\"text-muted\">Puedes cambiarlo dependiendo de la disponibilidad del técnico.</small> </label>\r\n                      <input class=\"form-control form-control-sm\" type=\"datetime-local\" id=\"nfecnue\" [(ngModel)]=\"nfec\" (change)=\"showf()\">\r\n                    </div>\r\n                    <button class=\"btn btn-primary\" [disabled]=\"btnen\" (click)=\"asigTec()\">Asignar y programar</button>\r\n                    <small class=\"text-muted\" *ngIf=\"!msg\">Al asignar el técnico, se le enviara un correo notificandole que se le asigno un servicio a realizar.</small>\r\n                  </div>\r\n                  <br>\r\n                </div>\r\n                <hr>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información del servicio</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Tipo de servicio</b></h6>\r\n                      <h6>{{servicio.type}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Estado del servicio</b></h6>\r\n                      <h6>{{status}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Trabajo a realizar</b></h6>\r\n                      <p>{{servicio.desc}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha de inicio</b></h6>\r\n                      <h6>{{getDate(servicio.start)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha de finalización</b></h6>\r\n                      <h6>{{getDate(servicio.finish)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Observaciones del servicio</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de sensor</b></h6>\r\n                    <h6>{{servicio.service_details.tipo_sensor}}</h6> \r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de controlador</b></h6>\r\n                    <h6>{{servicio.service_details.tipo_controlador}}</h6> \r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de programa</b></h6>\r\n                    <h6>{{servicio.service_details.programa}}</h6> \r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Trabajo realizado</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.trabajo_realizado}}</p>                        \r\n                    </div>\r\n                  </div> \r\n                </div>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->                \r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Comentarios</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.comentarios}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Recomendaciones</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.recomendaciones}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio de la provisión de servicio</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Horas del servicio</b></h6>\r\n                      <h6>horas de servicio</h6> \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio unitario</b></h6>\r\n                      <h6>${{servicio.payment.unitprice}}</h6> \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio total USD</b></h6>\r\n                      <h6>${{servicio.payment.amount}}</h6> \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio total USD + IVA <small class=\"text-muted\">({{servicio.payment.iva}})</small></b></h6>\r\n                      <h6>${{servicio.payment.total}}</h6> \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Firma del cliente</b></h6>\r\n                      <img src=\"{{servicio.signature}}\" class=\"w-100 img-fluid\">                       \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"row text-center\">\r\n                      <h6><b>Satisfacción del cliente</b></h6>                     \r\n                    </div>\r\n                    <div class=\"row text-center\">\r\n                      <div class=\"col\" *ngIf=\"malac\">\r\n                        <img [src]=\"mala\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">                       \r\n                      </div>\r\n                      <div class=\"col\" *ngIf=\"regularc\">\r\n                        <img [src]=\"regular\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">\r\n                      </div>\r\n                      <div class=\"col\" *ngIf=\"buenac\">\r\n                        <img [src]=\"buena\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col text-center\">\r\n                      <h4>{{scoretext}}</h4>\r\n                    </div>\r\n                    <div class=\"col text-center\">\r\n                      <small class=\"text-muted\">El rango de evalución se basa en Mala, Buena y Excelente experiencia</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <br><br>\r\n                <div class=\"row\" style=\"padding-bottom: 0px\">\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-danger w-100\" (click)=\"getPdf()\" [disabled]=\"!proceso\">Descargar reporte(PDF)</button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-danger w-100\" (click)=\"getRemito()\" [disabled]=\"!proceso\">Descargar remito(PDF)</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.ts ***!
  \**********************************************************************************/
/*! exports provided: VerMiServicioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerMiServicioComponent", function() { return VerMiServicioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");












var VerMiServicioComponent = /** @class */ (function () {
    function VerMiServicioComponent(activatedRoute, router, serviciosService, userServices, emgServices, sanitizer, empresaService, agreementServices, location, alert) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.serviciosService = serviciosService;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.sanitizer = sanitizer;
        this.empresaService = empresaService;
        this.agreementServices = agreementServices;
        this.location = location;
        this.alert = alert;
        this.proceso = false;
        this.stat0 = false;
        this.btnen = true;
        this.msg = false;
        this.tec_id = "";
        this.requestby = "";
        this.empresa = "";
        this.contrato = "";
        this.malac = false;
        this.regularc = false;
        this.buenac = false;
        this.score = "";
        this.scoretext = "";
        this.getServicio(this.activatedRoute.snapshot.paramMap.get("id"));
        this.mala = this.sanitizer.bypassSecurityTrustResourceUrl('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNlM2Y4ZmEiIGRhdGEtb3JpZ2luYWw9IiNFM0Y4RkEiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZTNmOGZhIiBzdHlsZT0iZmlsbDojRkFFM0UzIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS00LjY2NyA2LjA0N2MwLS43NC42LTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzLjU5MyAxLjMzMyAxLjMzM2MwIC43MzMtLjYgMS4zMzMtMS4zMzMgMS4zMzNzLTEuMzMzLS42LTEuMzMzLTEuMzMzem04LjQ3MiA2LjQ0OGMtLjEzLjEzLS4zMDEuMTk1LS40NzEuMTk1LS4xNzEgMC0uMzQxLS4wNjUtLjQ3MS0uMTk1LS43NjUtLjc2NS0xLjc4Mi0xLjE4NS0yLjg2My0xLjE4NXMtMi4wOTguNDIxLTIuODYyIDEuMTg2Yy0uMjYuMjYtLjY4Mi4yNi0uOTQzIDAtLjI2LS4yNi0uMjYtLjY4MiAwLS45NDMgMS4wMTYtMS4wMTYgMi4zNjgtMS41NzYgMy44MDUtMS41NzZzMi43ODguNTYgMy44MDUgMS41NzZjLjI2LjI2LjI2LjY4MiAwIC45NDJ6bS0uNDcyLTUuMTE1Yy0uNzMzIDAtMS4zMzMtLjYtMS4zMzMtMS4zMzMgMC0uNzQuNi0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMy41OTMgMS4zMzMgMS4zMzNjLjAwMS43MzMtLjU5OSAxLjMzMy0xLjMzMyAxLjMzM3oiIGZpbGw9IiM4Y2UxZWIiIGRhdGEtb3JpZ2luYWw9IiM4Q0UxRUIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0RFNEI0QiIgZGF0YS1vbGRfY29sb3I9IiM4Y2UxZWIiPjwvcGF0aD48L2c+IDwvc3ZnPg==');
        this.regular = this.sanitizer.bypassSecurityTrustResourceUrl("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZmZlNmUyIiBzdHlsZT0iZmlsbDojRTJGOUZGIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS01LjMzMyA2LjMzM2MwLTEuMjg2IDEuMDQ2LTIuMzMzIDIuMzMzLTIuMzMzczIuMzMzIDEuMDQ3IDIuMzMzIDIuMzMzLTEuMDQ2IDIuMzM0LTIuMzMzIDIuMzM0LTIuMzMzLTEuMDQ3LTIuMzMzLTIuMzM0em03LjUgNS44MzRoLTQuMzMzYy0uMzY4IDAtLjY2Ny0uMjk5LS42NjctLjY2N3MuMjk4LS42NjcuNjY3LS42NjdoNC4zMzNjLjM2OCAwIC42NjcuMjk5LjY2Ny42NjdzLS4yOTkuNjY3LS42NjcuNjY3em0uODMzLTMuNWMtMS4yODcgMC0yLjMzMy0xLjA0Ny0yLjMzMy0yLjMzM3MxLjA0Ni0yLjMzNCAyLjMzMy0yLjMzNCAyLjMzMyAxLjA0NyAyLjMzMyAyLjMzMy0xLjA0NiAyLjMzNC0yLjMzMyAyLjMzNHoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmYzU3M2IiIHN0eWxlPSJmaWxsOiM0QjlEREUiPjwvcGF0aD48L2c+IDwvc3ZnPg==");
        this.buena = this.sanitizer.bypassSecurityTrustResourceUrl("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMTYgOGMtNC40MTEgMC04IDMuNTg5LTggOHMzLjU4OSA4IDggOCA4LTMuNTg5IDgtOC0zLjU4OS04LTgtOHptMy4zMzMgNC43MWMuNzM1IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzcy0uNTk4IDEuMzMzLTEuMzMzIDEuMzMzLTEuMzMzLS41OTctMS4zMzMtMS4zMzJjMC0uNzM2LjU5OC0xLjMzNCAxLjMzMy0xLjMzNHptLTYuNjY2IDBjLjczNSAwIDEuMzMzLjU5OCAxLjMzMyAxLjMzM3MtLjU5OCAxLjMzMy0xLjMzMyAxLjMzMy0xLjMzMy0uNTk4LTEuMzMzLTEuMzMzYy0uMDAxLS43MzUuNTk3LTEuMzMzIDEuMzMzLTEuMzMzem04Ljk3NyA1LjI3MWMtLjc3MyAyLjQ5MS0zLjA0MSA0LjE2NS01LjY0NCA0LjE2NXMtNC44NzEtMS42NzQtNS42NDQtNC4xNjVjLS4wNDctLjE1Mi0uMDE5LS4zMTcuMDc1LS40NDVzLjI0NC0uMjAzLjQwMy0uMjAzaDEwLjMzM2MuMTU5IDAgLjMwOC4wNzYuNDAzLjIwMy4wOTMuMTI5LjEyMS4yOTQuMDc0LjQ0NXoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMwQTlEMzEiIGRhdGEtb2xkX2NvbG9yPSIjZmM1NzNiIj48L3BhdGg+PC9nPiA8L3N2Zz4=");
    }
    VerMiServicioComponent.prototype.ngOnInit = function () {
        this.loadClients();
        this.getTecnicos();
    };
    VerMiServicioComponent.prototype.loadClients = function () {
        var _this = this;
        this.userServices.getAllClients().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getServicio = function (id) {
        var _this = this;
        this.serviciosService.getById(id).subscribe(function (res) {
            _this.servicio = res.detail;
            _this.conditonials(_this.servicio.status);
            _this.getTec();
            _this.getEmg();
            _this.getScore();
            _this.getRequested();
            _this.getEmpresa();
            _this.getContrato();
            _this.nfec = _this.servicio.date.slice(0, 16).replace("T", " a las ");
        }, function (err) {
            console.error(err);
        });
    };
    /*
    0. Solicitado por cliente(Falta asignar tecnico)
    1. Programado
    2. En proceso
    3. Realizado
    */
    VerMiServicioComponent.prototype.conditonials = function (n) {
        switch (n) {
            case 0:
                this.status = 'Solicitado por cliente (Falta asignar tecnico)';
                this.proceso = false;
                this.stat0 = true;
                break;
            case 1:
                this.status = 'Progamado';
                this.proceso = false;
                break;
            case 2:
                this.status = 'En proceso';
                this.proceso = false;
                break;
            case 3:
                this.status = 'Realizado';
                this.proceso = true;
                break;
        }
    };
    VerMiServicioComponent.prototype.getScore = function () {
        switch (this.servicio.score) {
            case 0:
                this.malac = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNlM2Y4ZmEiIGRhdGEtb3JpZ2luYWw9IiNFM0Y4RkEiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZTNmOGZhIiBzdHlsZT0iZmlsbDojRkFFM0UzIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS00LjY2NyA2LjA0N2MwLS43NC42LTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzLjU5MyAxLjMzMyAxLjMzM2MwIC43MzMtLjYgMS4zMzMtMS4zMzMgMS4zMzNzLTEuMzMzLS42LTEuMzMzLTEuMzMzem04LjQ3MiA2LjQ0OGMtLjEzLjEzLS4zMDEuMTk1LS40NzEuMTk1LS4xNzEgMC0uMzQxLS4wNjUtLjQ3MS0uMTk1LS43NjUtLjc2NS0xLjc4Mi0xLjE4NS0yLjg2My0xLjE4NXMtMi4wOTguNDIxLTIuODYyIDEuMTg2Yy0uMjYuMjYtLjY4Mi4yNi0uOTQzIDAtLjI2LS4yNi0uMjYtLjY4MiAwLS45NDMgMS4wMTYtMS4wMTYgMi4zNjgtMS41NzYgMy44MDUtMS41NzZzMi43ODguNTYgMy44MDUgMS41NzZjLjI2LjI2LjI2LjY4MiAwIC45NDJ6bS0uNDcyLTUuMTE1Yy0uNzMzIDAtMS4zMzMtLjYtMS4zMzMtMS4zMzMgMC0uNzQuNi0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMy41OTMgMS4zMzMgMS4zMzNjLjAwMS43MzMtLjU5OSAxLjMzMy0xLjMzMyAxLjMzM3oiIGZpbGw9IiM4Y2UxZWIiIGRhdGEtb3JpZ2luYWw9IiM4Q0UxRUIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0RFNEI0QiIgZGF0YS1vbGRfY29sb3I9IiM4Y2UxZWIiPjwvcGF0aD48L2c+IDwvc3ZnPg==';
                this.scoretext = "Experiencia Mala";
                break;
            case 1:
                this.regularc = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZmZlNmUyIiBzdHlsZT0iZmlsbDojRTJGOUZGIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS01LjMzMyA2LjMzM2MwLTEuMjg2IDEuMDQ2LTIuMzMzIDIuMzMzLTIuMzMzczIuMzMzIDEuMDQ3IDIuMzMzIDIuMzMzLTEuMDQ2IDIuMzM0LTIuMzMzIDIuMzM0LTIuMzMzLTEuMDQ3LTIuMzMzLTIuMzM0em03LjUgNS44MzRoLTQuMzMzYy0uMzY4IDAtLjY2Ny0uMjk5LS42NjctLjY2N3MuMjk4LS42NjcuNjY3LS42NjdoNC4zMzNjLjM2OCAwIC42NjcuMjk5LjY2Ny42NjdzLS4yOTkuNjY3LS42NjcuNjY3em0uODMzLTMuNWMtMS4yODcgMC0yLjMzMy0xLjA0Ny0yLjMzMy0yLjMzM3MxLjA0Ni0yLjMzNCAyLjMzMy0yLjMzNCAyLjMzMyAxLjA0NyAyLjMzMyAyLjMzMy0xLjA0NiAyLjMzNC0yLjMzMyAyLjMzNHoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmYzU3M2IiIHN0eWxlPSJmaWxsOiM0QjlEREUiPjwvcGF0aD48L2c+IDwvc3ZnPg==';
                this.scoretext = "Experiencia Buena";
                break;
            case 2:
                this.buenac = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMTYgOGMtNC40MTEgMC04IDMuNTg5LTggOHMzLjU4OSA4IDggOCA4LTMuNTg5IDgtOC0zLjU4OS04LTgtOHptMy4zMzMgNC43MWMuNzM1IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzcy0uNTk4IDEuMzMzLTEuMzMzIDEuMzMzLTEuMzMzLS41OTctMS4zMzMtMS4zMzJjMC0uNzM2LjU5OC0xLjMzNCAxLjMzMy0xLjMzNHptLTYuNjY2IDBjLjczNSAwIDEuMzMzLjU5OCAxLjMzMyAxLjMzM3MtLjU5OCAxLjMzMy0xLjMzMyAxLjMzMy0xLjMzMy0uNTk4LTEuMzMzLTEuMzMzYy0uMDAxLS43MzUuNTk3LTEuMzMzIDEuMzMzLTEuMzMzem04Ljk3NyA1LjI3MWMtLjc3MyAyLjQ5MS0zLjA0MSA0LjE2NS01LjY0NCA0LjE2NXMtNC44NzEtMS42NzQtNS42NDQtNC4xNjVjLS4wNDctLjE1Mi0uMDE5LS4zMTcuMDc1LS40NDVzLjI0NC0uMjAzLjQwMy0uMjAzaDEwLjMzM2MuMTU5IDAgLjMwOC4wNzYuNDAzLjIwMy4wOTMuMTI5LjEyMS4yOTQuMDc0LjQ0NXoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMwQTlEMzEiIGRhdGEtb2xkX2NvbG9yPSIjZmM1NzNiIj48L3BhdGg+PC9nPiA8L3N2Zz4=';
                this.scoretext = "Experiencia Excelente";
                break;
            default:
                break;
        }
    };
    VerMiServicioComponent.prototype.getTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getTec = function () {
        var _this = this;
        this.userServices.getUser(this.servicio.tecnico).subscribe(function (res) {
            var temp = res.detail;
            _this.tec = temp.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getEmg = function () {
        var _this = this;
        this.emgServices.getById(this.servicio.emg).subscribe(function (res) {
            var temp = res.detail;
            _this.emg = temp.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getId = function (id) {
        return id.substring(id.length - 10, id.length);
    };
    VerMiServicioComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_10__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    VerMiServicioComponent.prototype.getPdf = function () {
        this.alert.alert('En unos segundos se descargará su PDF.');
        var data = {
            template: { "shortid": "HJlwC8WhkH" },
            data: { id: this.servicio._id.substring(this.servicio._id.length - 5, this.servicio._id.length),
                emg: this.emg,
                tec: this.tec,
                type: this.servicio.type,
                desc: this.servicio.desc,
                status: this.status,
                date: this.getDate(this.servicio.date),
                start: this.getDate(this.servicio.start),
                finish: this.getDate(this.servicio.finish),
                observ: this.servicio.observ,
                signature: this.servicio.signature,
                score: this.score,
                scoretext: this.scoretext,
                trabajo_realizado: this.servicio.observ.trabajo_realizado,
                comentarios: this.servicio.observ.comentarios,
                recomendaciones: this.servicio.observ.recomendaciones,
                requestby: this.requestby,
                empresa: this.empresa,
                contrato: this.contrato,
                tipo_sensor: this.servicio.service_details.tipo_sensor,
                tipo_controlador: this.servicio.service_details.tipo_controlador,
                tipo_programa: this.servicio.service_details.programa
            },
            options: { 'timeout': 60000 }
        };
        this.serviciosService.getPdf(data, 'servicio');
    };
    VerMiServicioComponent.prototype.getRemito = function () {
        var total = this.servicio.payment.amount;
        var iva = this.servicio.payment.iva;
        var total_iva = total * iva;
        var grand_total = total_iva + total;
        this.alert.alert('En unos segundos se descargará su PDF.');
        var data = {
            template: { "shortid": "BJxqg5VrlU" },
            data: {
                proveedor: "",
                contrato: this.contrato,
                remision: this.servicio._id.substring(this.servicio._id.length - 10, this.servicio._id.length),
                descripcion_corta: this.servicio.desc,
                hora: this.servicio.hours,
                unitprice: this.servicio.payment.unit_price,
                total: this.servicio.payment.amount,
                iva: (this.servicio.payment.iva) * 100,
                total_iva: total_iva,
                grand_total: grand_total,
                fecha: this.getDate(this.servicio.finish),
                descripcion_larga: this.servicio.observ.trabajo_realizado
            },
            options: { 'timeout': 60000 }
        };
        this.serviciosService.getPdf(data, "remito");
    };
    VerMiServicioComponent.prototype.regresar = function () {
        this.location.back();
    };
    VerMiServicioComponent.prototype.enBut = function () {
        this.btnen = false;
    };
    VerMiServicioComponent.prototype.asigTec = function () {
        var _this = this;
        this.serviciosService.asigTec(this.servicio._id, this.tec_id, this.nfec).subscribe(function (res) {
            console.log(res);
            _this.msg = true;
            _this.stat0 = false;
            _this.getEmailData(_this.servicio.client, _this.tec_id);
            _this.serviciosService.emailProgramar({
                "email_tecnico": _this.tec_email,
                "email_cliente": _this.cli_email,
                "nameTec": _this.tec_name,
                "nameCli": _this.cli_name,
                "date": _this.getDate(_this.nfec),
                "id": _this.servicio._id.substring(_this.servicio._id.length - 10, _this.servicio._id.length)
            }).subscribe(function (res) {
            }, function (err) {
            });
            setTimeout(function () {
                _this.regresar();
            }, 1000);
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getEmailData = function (idc, idt) {
        var _this = this;
        this.clientes.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idc == e._id) {
                    this.cli_email = e.info.email;
                    this.cli_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
        this.tecnicos.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idt == e._id) {
                    this.tec_email = e.info.email;
                    this.tec_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
    };
    VerMiServicioComponent.prototype.getRequested = function () {
        var _this = this;
        this.userServices.getUser(this.servicio.requested_by).subscribe(function (req) {
            var e = req.detail;
            _this.requestby = e.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getEmpresa = function () {
        var _this = this;
        this.empresaService.getid(this.servicio.client).subscribe(function (req) {
            var e = req.detail;
            _this.empresa = e.name;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent.prototype.getContrato = function () {
        var _this = this;
        this.agreementServices.getContratoById(this.servicio.agreement).subscribe(function (req) {
            var e = req.detail;
            _this.contrato = e.name;
        }, function (err) {
            console.error(err);
        });
    };
    VerMiServicioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-ver-mi-servicio',
            template: __webpack_require__(/*! ./ver-mi-servicio.component.html */ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.html"),
            styles: [__webpack_require__(/*! ./ver-mi-servicio.component.css */ "./src/app/clientes-components/ver-mi-servicio/ver-mi-servicio.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_2__["ServiciosService"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__["EmgsService"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["DomSanitizer"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__["EmpresasService"], src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_8__["AgreementsService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_9__["Location"], src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_11__["AlertService"]])
    ], VerMiServicioComponent);
    return VerMiServicioComponent;
}());



/***/ }),

/***/ "./src/app/configuration/configuration.component.css":
/*!***********************************************************!*\
  !*** ./src/app/configuration/configuration.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* The switch - the box around the slider */\r\n.switch {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 60px;\r\n    height: 34px;\r\n  }\r\n/* Hide default HTML checkbox */\r\n.switch input {\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n/* The slider */\r\n.slider {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: #ccc;\r\n    transition: .4s;\r\n  }\r\n.slider:before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 26px;\r\n    width: 26px;\r\n    left: 4px;\r\n    bottom: 4px;\r\n    background-color: white;\r\n    transition: .4s;\r\n  }\r\ninput:checked + .slider {\r\n    background-color: #2196F3;\r\n  }\r\ninput:focus + .slider {\r\n    box-shadow: 0 0 1px #2196F3;\r\n  }\r\ninput:checked + .slider:before {\r\n    -webkit-transform: translateX(26px);\r\n    transform: translateX(26px);\r\n  }\r\n/* Rounded sliders */\r\n.slider.round {\r\n    border-radius: 34px;\r\n  }\r\n.slider.round:before {\r\n    border-radius: 50%;\r\n  }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29uZmlndXJhdGlvbi9jb25maWd1cmF0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkNBQTJDO0FBQzNDO0lBQ0ksa0JBQWtCO0lBQ2xCLHFCQUFxQjtJQUNyQixXQUFXO0lBQ1gsWUFBWTtFQUNkO0FBRUEsK0JBQStCO0FBQy9CO0lBQ0UsVUFBVTtJQUNWLFFBQVE7SUFDUixTQUFTO0VBQ1g7QUFFQSxlQUFlO0FBQ2Y7SUFDRSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLE1BQU07SUFDTixPQUFPO0lBQ1AsUUFBUTtJQUNSLFNBQVM7SUFDVCxzQkFBc0I7SUFFdEIsZUFBZTtFQUNqQjtBQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztJQUNYLFNBQVM7SUFDVCxXQUFXO0lBQ1gsdUJBQXVCO0lBRXZCLGVBQWU7RUFDakI7QUFFQTtJQUNFLHlCQUF5QjtFQUMzQjtBQUVBO0lBQ0UsMkJBQTJCO0VBQzdCO0FBRUE7SUFDRSxtQ0FBbUM7SUFFbkMsMkJBQTJCO0VBQzdCO0FBRUEsb0JBQW9CO0FBQ3BCO0lBQ0UsbUJBQW1CO0VBQ3JCO0FBRUE7SUFDRSxrQkFBa0I7RUFDcEIiLCJmaWxlIjoic3JjL2FwcC9jb25maWd1cmF0aW9uL2NvbmZpZ3VyYXRpb24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFRoZSBzd2l0Y2ggLSB0aGUgYm94IGFyb3VuZCB0aGUgc2xpZGVyICovXHJcbi5zd2l0Y2gge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDYwcHg7XHJcbiAgICBoZWlnaHQ6IDM0cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEhpZGUgZGVmYXVsdCBIVE1MIGNoZWNrYm94ICovXHJcbiAgLnN3aXRjaCBpbnB1dCB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgd2lkdGg6IDA7XHJcbiAgICBoZWlnaHQ6IDA7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFRoZSBzbGlkZXIgKi9cclxuICAuc2xpZGVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XHJcbiAgICAtd2Via2l0LXRyYW5zaXRpb246IC40cztcclxuICAgIHRyYW5zaXRpb246IC40cztcclxuICB9XHJcbiAgXHJcbiAgLnNsaWRlcjpiZWZvcmUge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgY29udGVudDogXCJcIjtcclxuICAgIGhlaWdodDogMjZweDtcclxuICAgIHdpZHRoOiAyNnB4O1xyXG4gICAgbGVmdDogNHB4O1xyXG4gICAgYm90dG9tOiA0cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLjRzO1xyXG4gICAgdHJhbnNpdGlvbjogLjRzO1xyXG4gIH1cclxuICBcclxuICBpbnB1dDpjaGVja2VkICsgLnNsaWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE5NkYzO1xyXG4gIH1cclxuICBcclxuICBpbnB1dDpmb2N1cyArIC5zbGlkZXIge1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDFweCAjMjE5NkYzO1xyXG4gIH1cclxuICBcclxuICBpbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUge1xyXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjZweCk7XHJcbiAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDI2cHgpO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDI2cHgpO1xyXG4gIH1cclxuICBcclxuICAvKiBSb3VuZGVkIHNsaWRlcnMgKi9cclxuICAuc2xpZGVyLnJvdW5kIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDM0cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5zbGlkZXIucm91bmQ6YmVmb3JlIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICB9Il19 */"

/***/ }),

/***/ "./src/app/configuration/configuration.component.html":
/*!************************************************************!*\
  !*** ./src/app/configuration/configuration.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr><hr>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <h5 class=\"card-title\">Panel de configuración de sistema</h5>\r\n      <hr>\r\n      <h6 class=\"card-subtitle mb-2 text-muted\">Configuración de fecha</h6>\r\n      <p class=\"card-text\">Esta opción permite que el usuario pueda registrar un servicio con fecha anterior a la actual.</p>\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <br>\r\n          <h6 class=\"lead\">Permitir fechas anteriores a la actual</h6>\r\n        </div>\r\n        <div class=\"col text-right\">\r\n          <label class=\"switch\">\r\n            <input type=\"checkbox\" [(ngModel)]=\"fecAnt\" (click)=\"change()\">\r\n            <span class=\"slider round\"></span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <h6 class=\"card-subtitle mb-2 text-muted\">Tipos de servicios</h6>\r\n      <p class=\"card-text\">Esta opción permite añadir o borrar tipos de servicios.</p>\r\n      <br>\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Tipo de servicio</th>\r\n                <th scope=\"col\" class=\"text-right\">Eliminar</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let tipo of tipos\">\r\n                <td>{{tipo.name}}</td>\r\n                <td class=\"text-right\">\r\n                  <button mat-mini-fab color=\"danger\" (click)=\"delTipo(tipo._id)\">\r\n                    <mat-icon>delete</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col\" *ngIf=\"!addserv\">\r\n          <button class=\"btn btn-primary\" (click)=\"addTipo()\">Agregar nuevo</button>\r\n        </div>\r\n        <div class=\"col\" *ngIf=\"addserv\">\r\n          <form class=\"form-inline\">\r\n            <div class=\"form-group\" style=\"width: 400px\">\r\n              <label for=\"tserv\" class=\"sr-only\">Tipo de servicio</label>\r\n              <input type=\"text\" class=\"form-control w-100\" id=\"tserv\" placeholder=\"Ej. Calibración, Mantenimiento... Etc.\" [(ngModel)]=\"newTipo\" [ngModelOptions]=\"{standalone: true}\">\r\n            </div>\r\n            <button type=\"button\" class=\"btn btn-primary mx-sm-3\" (click)=\"saveTipo()\">Guardar</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <h6 class=\"card-subtitle mb-2 text-muted\">Precios unitarios por hora de servicio e IVA.</h6>\r\n      <p class=\"card-text\">Esta opción permite modificar el porcentaje de IVA correspondiente a la ley y el precio unitario por hora de los servicios.</p>\r\n      <div class=\"row\">\r\n        <div class=\"col-8 text-left\">\r\n          <p class=\"lead\">Precio unitario por hora de servicio otorgado en USD</p>\r\n        </div>\r\n        <div class=\"col-4 text-right\">\r\n          <form class=\"form-inline\">\r\n            <div class=\"form-group\">\r\n              <input type=\"number\" class=\"form-control w-100\" placeholder=\"Precio unitario Ej. 88.80\" [(ngModel)]=\"unitprice\" [ngModelOptions]=\"{standalone: true}\">\r\n            </div>\r\n            <button type=\"button\" class=\"btn btn-primary mx-sm-3\" (click)=\"actualizarPrecio()\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Actualizado última vez el {{unitpriceAct}}\">Actualizar</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-8 text-left\">\r\n          <p class=\"lead\">Porcentaje de IVA actual por servicio.</p>\r\n        </div>\r\n        <div class=\"col-4 text-right\">\r\n          <form class=\"form-inline\">\r\n            <div class=\"form-group\">\r\n              <input type=\"number\" class=\"form-control w-100\" placeholder=\"Valores de 0 a 1, Ej. 0.18\" [(ngModel)]=\"iva\" [ngModelOptions]=\"{standalone: true}\">\r\n            </div>\r\n            <button type=\"button\" class=\"btn btn-primary mx-sm-3\" (click)=\"actualizarIva()\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Actualizado última vez el {{ivaAct}}\">Actualizar</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr><hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/configuration/configuration.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/configuration/configuration.component.ts ***!
  \**********************************************************/
/*! exports provided: ConfigurationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigurationComponent", function() { return ConfigurationComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _services_prices_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/prices.service */ "./src/app/services/prices.service.ts");
/* harmony import */ var _services_alert_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);






var ConfigurationComponent = /** @class */ (function () {
    function ConfigurationComponent(configServices, pricesServices, alert) {
        this.configServices = configServices;
        this.pricesServices = pricesServices;
        this.alert = alert;
        this.addserv = false;
        this.iva = 0;
        this.unitprice = 0;
        this.ivaAct = '';
        this.unitpriceAct = '';
    }
    ConfigurationComponent.prototype.ngOnInit = function () {
        this.fecExiste();
        this.getTipos();
        this.getIva();
        this.getUnitprice();
    };
    ConfigurationComponent.prototype.addTipo = function () {
        this.addserv = !this.addserv;
    };
    ConfigurationComponent.prototype.getTipos = function () {
        var _this = this;
        this.configServices.getTipos().subscribe(function (res) {
            _this.tipos = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    ConfigurationComponent.prototype.saveTipo = function () {
        var _this = this;
        this.configServices.existeTipo(this.newTipo).subscribe(function (res) {
            if (res.detail.length == 0) {
                _this.configServices.saveTipo({ 'name': _this.newTipo }).subscribe(function (res) {
                    _this.addserv = !_this.addserv;
                    _this.getTipos();
                    _this.newTipo = "";
                }, function (err) {
                    console.error(err);
                });
            }
            else {
                _this.configServices.actualizarTipo(_this.newTipo).subscribe(function (res) {
                    _this.addserv = !_this.addserv;
                    _this.getTipos();
                    _this.newTipo = "";
                }, function (err) { return console.log(err); });
            }
        }, function (err) {
            console.log(err);
        });
    };
    ConfigurationComponent.prototype.delTipo = function (id) {
        var _this = this;
        this.configServices.deleteTipo(id).subscribe(function (res) { _this.getTipos(); }, function (err) { });
    };
    ConfigurationComponent.prototype.fecExiste = function () {
        var _this = this;
        this.configServices.getFec().subscribe(function (res) {
            console.log(res.detail.value);
            if (res.detail == null) {
                _this.configServices.setFec().subscribe(function (res) { console.log(res); }, function (err) { });
                _this.fecAnt = false;
            }
            else {
                _this.fecAnt = res.detail.value;
            }
        }, function (err) {
            console.log(err);
        });
    };
    ConfigurationComponent.prototype.change = function () {
        console.log(!this.fecAnt);
        this.configServices.changeFec({ "value": !this.fecAnt }).subscribe(function (res) {
        }, function (err) {
        });
    };
    ConfigurationComponent.prototype.getIva = function () {
        var _this = this;
        this.pricesServices.getIva().subscribe(function (res) {
            _this.iva = res.detail.iva;
            var registro = moment__WEBPACK_IMPORTED_MODULE_5__(res.detail.last_mod.replace('T', ' ').slice(0, 16)).locale('es');
            var temp = registro.format('dddd, MMMM Do YYYY');
            _this.ivaAct = temp.charAt(0).toUpperCase() + temp.slice(1);
        });
    };
    ConfigurationComponent.prototype.getUnitprice = function () {
        var _this = this;
        this.pricesServices.getUnitprice().subscribe(function (res) {
            _this.unitprice = res.detail.unitprice;
            var registro = moment__WEBPACK_IMPORTED_MODULE_5__(res.detail.last_mod.replace('T', ' ').slice(0, 16)).locale('es');
            var temp = registro.format('dddd, MMMM Do YYYY');
            _this.unitpriceAct = temp.charAt(0).toUpperCase() + temp.slice(1);
        });
    };
    ConfigurationComponent.prototype.actualizarIva = function () {
        var _this = this;
        if (this.iva == null) {
            this.alert.error("Digite un IVA válido");
        }
        else if (this.iva < 0) {
            this.alert.error("Digite un IVA mayor a 0");
        }
        else if (this.iva > 1) {
            this.alert.error("Digite un IVA menor que 1");
        }
        else {
            this.pricesServices.saveIva({ 'iva': this.iva }).subscribe(function (res) { return _this.alert.success("IVA actualizado correctamente"); });
        }
    };
    ConfigurationComponent.prototype.actualizarPrecio = function () {
        var _this = this;
        if (this.unitprice == null) {
            this.alert.error("Digite un IVA válido");
        }
        else if (this.unitprice < 0) {
            this.alert.error("Digite un precio mayor a 0");
        }
        else {
            this.pricesServices.saveUnitprice({ 'unitprice': this.unitprice }).subscribe(function (res) { return _this.alert.success("Precio actualizado correctamente"); });
        }
    };
    ConfigurationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-configuration',
            template: __webpack_require__(/*! ./configuration.component.html */ "./src/app/configuration/configuration.component.html"),
            styles: [__webpack_require__(/*! ./configuration.component.css */ "./src/app/configuration/configuration.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_configuration_service__WEBPACK_IMPORTED_MODULE_2__["ConfigurationService"],
            _services_prices_service__WEBPACK_IMPORTED_MODULE_3__["PricesService"],
            _services_alert_service__WEBPACK_IMPORTED_MODULE_4__["AlertService"]])
    ], ConfigurationComponent);
    return ConfigurationComponent;
}());



/***/ }),

/***/ "./src/app/contratos-components/addcontratos/addcontratos.component.css":
/*!******************************************************************************!*\
  !*** ./src/app/contratos-components/addcontratos/addcontratos.component.css ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbnRyYXRvcy1jb21wb25lbnRzL2FkZGNvbnRyYXRvcy9hZGRjb250cmF0b3MuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/contratos-components/addcontratos/addcontratos.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/contratos-components/addcontratos/addcontratos.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Generar nuevo contrato</h5>\r\n          <br>\r\n          <form [formGroup]=\"contratoForm\" (ngSubmit)=\"save()\">\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Asignación de equipo Cliente y equipos EMG's</h6>\r\n              </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Información del contrato</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"name\"><span class=\"text-danger\">*</span>Nombre de contrato</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"name\" formControlName=\"name\">\r\n                  <div *ngIf=\"contratoForm.get('name').errors&&contratoForm.get('name').dirty\">\r\n                    <p *ngIf=\"contratoForm.get('name').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"description\"><span class=\"text-danger\">*</span>Descripción</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"description\" formControlName=\"description\">\r\n                </div>\r\n                <div *ngIf=\"contratoForm.get('description').errors&&contratoForm.get('description').dirty\">\r\n                  <p *ngIf=\"contratoForm.get('description').hasError('required')\" class=\"text-danger\">La descripción es requerido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-check form-check-inline\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" id=\"single\" formControlName=\"single\" >\r\n                  <label class=\"form-check-label\" for=\"single\">¿Es un contrato puntual?.<small> Osea si este contrato solo aplicaria un servicio, despúes de realizado este servico el contrato vencerá.</small></label><br>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"row\" *ngIf=\"!contratoForm.value.single\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"start\">Inicio de contrato</label>\r\n                  <input type=\"date\" class=\"form-control form-control-sm\" id=\"start\" formControlName=\"start\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"end\">Final del contrato</label>\r\n                  <input type=\"date\" class=\"form-control form-control-sm\" id=\"end\" formControlName=\"end\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"client\"><span class=\"text-danger\">*</span>Cliente a asignar</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"client\" formControlName=\"client\">\r\n                    <option *ngFor=\"let empresa of empresas\" value=\"{{empresa._id}}\">{{empresa.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"contratoForm.get('client').errors&&contratoForm.get('client').dirty\">\r\n                    <p *ngIf=\"contratoForm.get('client').hasError('required')\" class=\"text-danger\">El cliente es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"monto\"><span class=\"text-danger\">*</span>Monto monetario del contrato <small>(Monto en USD)</small></label>\r\n                  <input type=\"Number\" class=\"form-control form-control-sm\" id=\"monto\" formControlName=\"monto\">\r\n                </div>\r\n                <div *ngIf=\"contratoForm.get('monto').errors&&contratoForm.get('monto').dirty\">\r\n                  <p *ngIf=\"contratoForm.get('monto').hasError('required')\" class=\"text-danger\">El monto es requerido</p>\r\n                  <p *ngIf=\"contratoForm.get('monto').hasError('pattern')\" class=\"text-danger\">Digite un monto válido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n            <br><br>\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"contratoForm.invalid\">Guardar</button><!--contratoForm.invalid-->                    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/contratos-components/addcontratos/addcontratos.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/contratos-components/addcontratos/addcontratos.component.ts ***!
  \*****************************************************************************/
/*! exports provided: AddcontratosComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddcontratosComponent", function() { return AddcontratosComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");











var AddcontratosComponent = /** @class */ (function () {
    function AddcontratosComponent(fb, userServices, emgServices, agreementService, router, location, empresaService, alert) {
        this.fb = fb;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.agreementService = agreementService;
        this.router = router;
        this.location = location;
        this.empresaService = empresaService;
        this.alert = alert;
        this.temp = [];
        this.contratoForm = fb.group({
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            description: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            start: [null, []],
            end: [null, []],
            single: [false, []],
            client: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            monto: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern(/^[+]?([0-9]+(?:[\.][0-9]*)?|\.[0-9]+)$/)]]
        });
    }
    AddcontratosComponent.prototype.ngOnInit = function () {
        this.loadEmgs();
        this.loadEmpresas();
    };
    AddcontratosComponent.prototype.genObservable = function (arr) {
        return rxjs__WEBPACK_IMPORTED_MODULE_8__["Observable"].create(function (obs) {
            obs.next(arr);
            obs.complete();
        });
    };
    AddcontratosComponent.prototype.genArrayList = function () {
        var _this = this;
        this.emgs.forEach(function (el) {
            _this.temp.push({ id: el._id + '', text: el.info.name });
        });
        return this.temp;
    };
    AddcontratosComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
            _this.selec2data = _this.genObservable(_this.genArrayList());
            _this.options = {
                width: '500',
                multiple: true,
                tags: true
            };
        }, function (err) {
            console.error(err);
        });
    };
    /*
    0. Solicitado por cliente(Falta asignar tecnico)
    1. Programado
    2. En proceso
    3. Realizado
    */
    AddcontratosComponent.prototype.save = function () {
        var _this = this;
        var tempc = this.contratoForm.value;
        var temp = {
            'client': tempc.client,
            'description': tempc.description,
            'emgsNames': tempc.emgs,
            'name': tempc.name,
            'period': {
                'start': tempc.start,
                'end': tempc.end,
                'single': tempc.single
            },
            'monto': tempc.monto,
            'monto_actual': tempc.monto
        };
        console.log(temp);
        this.agreementService.saveContrato(temp).subscribe(function (res) {
            _this.alert.success("Contrato creado correctamente, serás redirigido en unos segundos.");
            setTimeout(function () {
                _this.regresar();
            }, 1500);
        }, function (err) {
            console.log(err);
            _this.alert.error("Error durante el registro");
            setTimeout(function () {
                _this.regresar();
            }, 1500);
        });
    };
    AddcontratosComponent.prototype.regresar = function () {
        this.location.back();
    };
    AddcontratosComponent.prototype.loadEmpresas = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            _this.empresas = res.detail;
            console.log(res);
        }, function (err) {
            console.error(err);
        });
    };
    AddcontratosComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-addcontratos',
            template: __webpack_require__(/*! ./addcontratos.component.html */ "./src/app/contratos-components/addcontratos/addcontratos.component.html"),
            styles: [__webpack_require__(/*! ./addcontratos.component.css */ "./src/app/contratos-components/addcontratos/addcontratos.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__["EmgsService"], src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_6__["AgreementsService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_9__["EmpresasService"], src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"]])
    ], AddcontratosComponent);
    return AddcontratosComponent;
}());



/***/ }),

/***/ "./src/app/contratos-components/contratos/contratos.component.css":
/*!************************************************************************!*\
  !*** ./src/app/contratos-components/contratos/contratos.component.css ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbnRyYXRvcy1jb21wb25lbnRzL2NvbnRyYXRvcy9jb250cmF0b3MuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/contratos-components/contratos/contratos.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/contratos-components/contratos/contratos.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <h2 class=\"text-left\">Contratos registrados</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>  \r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de contrato</h6>\r\n    </div>\r\n    <div class=\"col-3 text-right\">\r\n      <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre del usuario\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n    </div>\r\n    <div class=\"col-6 text-right\">\r\n      <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewContrato()\">\r\n        Nuevo contrato\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Cliente</th>\r\n                <th scope=\"col\">Tipo de contrato</th>\r\n                <th scope=\"col\">Detalle</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let contrato of contratos\">\r\n                <td scope=\"row\">{{contrato.name}}</td>\r\n                <td>{{getEmpresa(contrato.client)}}</td>\r\n                <td>{{getTipo(contrato.period.single)}}</td>\r\n                <td>\r\n                    <button mat-mini-fab class=\"bg-primary\" (click)=\"contratoDet(contrato._id)\">\r\n                        <mat-icon>pageview</mat-icon>\r\n                    </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n    </div>\r\n  </div>\r\n  <hr><hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/contratos-components/contratos/contratos.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/contratos-components/contratos/contratos.component.ts ***!
  \***********************************************************************/
/*! exports provided: ContratosComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContratosComponent", function() { return ContratosComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");





var ContratosComponent = /** @class */ (function () {
    function ContratosComponent(contratosService, router, empresaService) {
        this.contratosService = contratosService;
        this.router = router;
        this.empresaService = empresaService;
        this.loadEmpresas();
    }
    ContratosComponent.prototype.ngOnInit = function () {
        this.getContratos();
    };
    ContratosComponent.prototype.getContratos = function () {
        var _this = this;
        this.contratosService.getContratos().subscribe(function (res) {
            _this.contratos = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    ContratosComponent.prototype.contratoDet = function (id) {
        this.router.navigateByUrl("contratos/" + id);
    };
    ContratosComponent.prototype.goNewContrato = function () {
        this.router.navigateByUrl("contratos/nuevo");
    };
    ContratosComponent.prototype.loadEmpresas = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            _this.empresas = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ContratosComponent.prototype.getTipo = function (data) {
        if (data) {
            return "Puntual";
        }
        else {
            return "Normal";
        }
    };
    ContratosComponent.prototype.getEmpresa = function (id) {
        return this.empresas.find(function (e) { return e._id == id; }).name;
    };
    ContratosComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-contratos',
            template: __webpack_require__(/*! ./contratos.component.html */ "./src/app/contratos-components/contratos/contratos.component.html"),
            styles: [__webpack_require__(/*! ./contratos.component.css */ "./src/app/contratos-components/contratos/contratos.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_2__["AgreementsService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"]])
    ], ContratosComponent);
    return ContratosComponent;
}());



/***/ }),

/***/ "./src/app/contratos-components/viewcontrato/viewcontrato.component.css":
/*!******************************************************************************!*\
  !*** ./src/app/contratos-components/viewcontrato/viewcontrato.component.css ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbnRyYXRvcy1jb21wb25lbnRzL3ZpZXdjb250cmF0by92aWV3Y29udHJhdG8uY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/contratos-components/viewcontrato/viewcontrato.component.html":
/*!*******************************************************************************!*\
  !*** ./src/app/contratos-components/viewcontrato/viewcontrato.component.html ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n<hr>\r\n<hr> \r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">Ver contrato</h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">Nombre del contrato {{name}}</h6>\r\n              <div class=\"col\">\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Cliente y Equipos</h6>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Cliente</b></h6>\r\n                      <h6>{{cliente}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha creación del contrato</b></h6>\r\n                      <h6>{{getDate(contrato.created)}}</h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información del contrato</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Descripción</b></h6>\r\n                      <h6>{{desc}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Estatus</b></h6>\r\n                      <p>{{getStatus(estatus)}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información del periodo del contrato</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"contrato.period.single\">\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Contrato único</b></h6>\r\n                      <h6>El contrato solo será válido para un servicio EMG de cualquier tipo.</h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\" *ngIf=\"!contrato.period.single\">\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Fecha de inicio</b></h6>\r\n                      <h6>{{getDate(contrato.period.start)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Fecha de finalización</b></h6>\r\n                      <h6>{{getDate(contrato.period.end)}}</h6>                    \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Montos del contrato</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Monto inicial o total</b></h6>\r\n                      <h6>${{contrato.monto}}.00 USD</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Monto actual</b></h6>\r\n                      <h6>${{contrato.monto_actual}}.00 USD</h6>                    \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <h6><b>Servicios realizados dentro de esté contrato</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div>\r\n                      <table class=\"table table-striped\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th scope=\"col\">Id</th>\r\n                            <th scope=\"col\">Equipo</th>\r\n                            <th scope=\"col\">Técnico</th>\r\n                            <th scope=\"col\">Fecha programada</th>\r\n                            <th scope=\"col\">Estatus</th>\r\n                            <th scope=\"col\">Calificación</th>\r\n                            <th scope=\"col\">Detalle</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr *ngFor=\"let servicio of servicios\">\r\n                            <td scope=\"row\">{{getId(servicio._id)}}</td>\r\n                            <td>{{getEmg(servicio.emg)}}</td>\r\n                            <td>{{getTecnico(servicio.tecnico)}}</td>\r\n                            <td>{{getDate(servicio.date)}}</td>\r\n                            <td>{{getStatusService(servicio.status)}}</td>\r\n                            <td>{{getScore(servicio.score,servicio.status)}}</td>\r\n                            <td>\r\n                              <button mat-mini-fab class=\"bg-primary\" (click)=\"viewService(servicio._id)\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Ver detalle\">\r\n                                  <mat-icon>pageview</mat-icon>\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>               \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <br><br>\r\n                <div class=\"row\" style=\"padding-bottom: 0px\">\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                  </div>\r\n                  <div class=\"col\"></div>\r\n                  <div class=\"col\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <div class=\"row\">\r\n    <div class=\"col text-center\">\r\n      <p class=\"lead\">CARGANDO</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/contratos-components/viewcontrato/viewcontrato.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/contratos-components/viewcontrato/viewcontrato.component.ts ***!
  \*****************************************************************************/
/*! exports provided: ViewcontratoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewcontratoComponent", function() { return ViewcontratoComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");









var ViewcontratoComponent = /** @class */ (function () {
    function ViewcontratoComponent(activatedRoute, router, agreementsService, location, userServices, emgServices, serviciosService) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.agreementsService = agreementsService;
        this.location = location;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.load = true;
    }
    ViewcontratoComponent.prototype.ngOnInit = function () {
        this.getServicio(this.activatedRoute.snapshot.paramMap.get("id"));
        this.loadTecnicos();
        this.loadEmgs();
        this.loadServices();
    };
    ViewcontratoComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ViewcontratoComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ViewcontratoComponent.prototype.loadServices = function () {
        var _this = this;
        this.serviciosService.getByContrato(this.activatedRoute.snapshot.paramMap.get("id")).subscribe(function (res) {
            _this.servicios = res.detail;
            setTimeout(function () {
                _this.load = false;
            }, 2000);
        }, function (err) {
            console.error(err);
        });
    };
    ViewcontratoComponent.prototype.getScore = function (score, status) {
        if (status != 3) {
            return 'No Calificado';
        }
        else {
            switch (score) {
                case 0:
                    return 'Mala';
                case 1:
                    return 'Buena';
                case 2:
                    return 'Excelente';
            }
        }
    };
    ViewcontratoComponent.prototype.getStatusService = function (n) {
        switch (n) {
            case 0:
                return "Solicitado (Asignar Tec)";
                break;
            case 1:
                return "Programado";
                break;
            case 2:
                return "En proceso";
                break;
            case 3:
                return "Realizado";
                break;
            default:
                break;
        }
    };
    ViewcontratoComponent.prototype.getTecnico = function (id) {
        if (id == null) {
            return "Por asignar";
        }
        else {
            var n = this.tecnicos.find(function (tec) {
                return tec._id == id;
            });
            return n.info.name;
        }
    };
    ViewcontratoComponent.prototype.getEmg = function (id) {
        var n = this.emgs.find(function (tec) {
            return tec._id == id;
        });
        return n.info.name;
    };
    ViewcontratoComponent.prototype.getId = function (id) {
        return id.substring(id.length - 10, id.length);
    };
    ViewcontratoComponent.prototype.viewService = function (id) {
        this.router.navigateByUrl('servicios/' + id);
    };
    ViewcontratoComponent.prototype.getServicio = function (id) {
        var _this = this;
        this.agreementsService.getContratoById(id).subscribe(function (res) {
            _this.contrato = res.detail;
            _this.getStrings();
        }, function (err) {
            console.error(err);
        });
    };
    ViewcontratoComponent.prototype.getStrings = function () {
        this.name = this.contrato.name;
        this.cliente = this.contrato.client;
        //this.start = this.contrato.period.start;
        //this.end = this.contrato.period.end;
        //this.single = this.contrato.period.single;
        this.desc = this.contrato.description;
        this.estatus = this.contrato.status;
    };
    ViewcontratoComponent.prototype.getStatus = function (s) {
        if (s) {
            return "Activo";
        }
        else {
            return "Vencido";
        }
    };
    ViewcontratoComponent.prototype.getDateStatus = function (date) {
        return date.slice(0, 16).replace('T', ' a las ');
    };
    ViewcontratoComponent.prototype.regresar = function () {
        this.location.back();
    };
    ViewcontratoComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_5__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    ViewcontratoComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewcontrato',
            template: __webpack_require__(/*! ./viewcontrato.component.html */ "./src/app/contratos-components/viewcontrato/viewcontrato.component.html"),
            styles: [__webpack_require__(/*! ./viewcontrato.component.css */ "./src/app/contratos-components/viewcontrato/viewcontrato.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_3__["AgreementsService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"],
            src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_6__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_7__["EmgsService"],
            src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_8__["ServiciosService"]])
    ], ViewcontratoComponent);
    return ViewcontratoComponent;
}());



/***/ }),

/***/ "./src/app/equipos-components/addemg/addemg.component.css":
/*!****************************************************************!*\
  !*** ./src/app/equipos-components/addemg/addemg.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VxdWlwb3MtY29tcG9uZW50cy9hZGRlbWcvYWRkZW1nLmNvbXBvbmVudC5jc3MifQ== */"

/***/ }),

/***/ "./src/app/equipos-components/addemg/addemg.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/equipos-components/addemg/addemg.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\" *ngIf=\"!load\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Añadir nuevo equipo EMG</h5>\r\n          <br>\r\n          <form [formGroup]=\"emgForm\" (ngSubmit)=\"save()\">\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Ubicación del nuevo equipo</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"cliente\"><span class=\"text-danger\">*</span>Cliente</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"cliente\" (change)=\"loadPlants()\" formControlName=\"cliente\">\r\n                    <option *ngFor=\"let user of users\" value=\"{{user._id}}\">{{user.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"emgForm.get('cliente').errors&&emgForm.get('cliente').dirty\">\r\n                    <p *ngIf=\"emgForm.get('cliente').hasError('required')\" class=\"text-danger\">El cliente es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"planta\"><span class=\"text-danger\">*</span>Planta <small class=\"text-muted\">seleccione primero cliente</small></label>\r\n                  <select class=\"form-control form-control-sm\" id=\"planta\" (change)=\"loadLines()\" formControlName=\"planta\">\r\n                    <option *ngFor=\"let plant of plants\" value=\"{{plant._id}}\">{{plant.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"emgForm.get('planta').errors&&emgForm.get('planta').dirty\">\r\n                    <p *ngIf=\"emgForm.get('planta').hasError('required')\" class=\"text-danger\">La planta es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"linea\"><span class=\"text-danger\">*</span>Línea <small class=\"text-muted\">seleccione primero cliente y planta</small></label>\r\n                  <select class=\"form-control form-control-sm\" id=\"linea\" formControlName=\"linea\" (change)=\"saveLine()\">\r\n                    <option *ngFor=\"let line of lines\" value=\"{{line._id}}\">{{line.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"emgForm.get('linea').errors&&emgForm.get('linea').dirty\">\r\n                    <p *ngIf=\"emgForm.get('linea').hasError('required')\" class=\"text-danger\">La línea es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Información del equipo EMG</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-4\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"btnsug\"><span class=\"text-danger\">*</span>Nombre</label>\r\n                      <button type=\"button\" class=\"btn btn-primary btn-sm w-100\" id=\"btnsug\" (click)=\"genName()\">Sugerir</button>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-8\">      \r\n                    <div class=\"form-group\">\r\n                      <label for=\"modelo\">...</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"modelo1\" formControlName=\"nombre\" placeholder=\"Nombre\" value=\"{{nombre}}\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"modelo\"><span class=\"text-danger\">*</span>Modelo</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"modelo\" formControlName=\"modelo\" placeholder=\"Modelo del equipo\">\r\n                  <div *ngIf=\"emgForm.get('modelo').errors&&emgForm.get('modelo').dirty\">\r\n                    <p *ngIf=\"emgForm.get('modelo').hasError('required')\" class=\"text-danger\">El modelo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Tipo\"><span class=\"text-danger\">*</span>Tipo</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"Tipo\" formControlName=\"tipo\" placeholder=\"Tipo del equipo (motor, actuador, etc.)\">\r\n                </div>\r\n                <div *ngIf=\"emgForm.get('modelo').errors&&emgForm.get('modelo').dirty\">\r\n                  <p *ngIf=\"emgForm.get('modelo').hasError('required')\" class=\"text-danger\">El modelo es requerido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Descripción\"><span class=\"text-danger\">*</span>Descripción</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"Descripción\" formControlName=\"desc\" placeholder=\"Descripción del equipo\">\r\n                  <div *ngIf=\"emgForm.get('desc').errors&&emgForm.get('desc').dirty\">\r\n                    <p *ngIf=\"emgForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Seria\"><span class=\"text-danger\">*</span>Número de serie</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"Seria\" formControlName=\"serie\" placeholder=\"Número de serie del equipo\">\r\n                  <div *ngIf=\"emgForm.get('serie').errors&&emgForm.get('serie').dirty\">\r\n                    <p *ngIf=\"emgForm.get('serie').hasError('required')\" class=\"text-danger\">El número de serie es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"cp\"><span class=\"text-danger\">*</span>Código de proyecto</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"cp\" formControlName=\"cod_pro\" placeholder=\"Código de proyecto del equipo\">\r\n                  <div *ngIf=\"emgForm.get('cod_pro').errors&&emgForm.get('cod_pro').dirty\">\r\n                    <p *ngIf=\"emgForm.get('cod_pro').hasError('required')\" class=\"text-danger\">El Código de proyecto es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <br><br>\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"emgForm.invalid\">Guardar</button>                    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" *ngIf=\"guardando\">\r\n              <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row\">\r\n      <p class=\"lead mx-auto\">CARGANDO</p>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr> \r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/equipos-components/addemg/addemg.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/equipos-components/addemg/addemg.component.ts ***!
  \***************************************************************/
/*! exports provided: AddemgComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddemgComponent", function() { return AddemgComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");











var AddemgComponent = /** @class */ (function () {
    function AddemgComponent(empresaService, plantsService, emgServices, router, authService, fb, alert, location, agreementsServices) {
        this.empresaService = empresaService;
        this.plantsService = plantsService;
        this.emgServices = emgServices;
        this.router = router;
        this.authService = authService;
        this.fb = fb;
        this.alert = alert;
        this.location = location;
        this.agreementsServices = agreementsServices;
        this.load = true;
        this.guardando = false;
        this.emgForm = this.fb.group({
            cliente: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            planta: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            linea: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            nombre: ['', []],
            modelo: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            tipo: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            serie: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__["Validators"].required]],
            cod_pro: ['', []],
            agreement: ['', []]
        });
    }
    AddemgComponent.prototype.ngOnInit = function () {
        this.loadUsers();
    };
    AddemgComponent.prototype.loadUsers = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            _this.users = res.detail;
            _this.load = false;
            console.log(_this.users);
        }, function (err) {
            console.log(err);
        });
    };
    AddemgComponent.prototype.loadPlants = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.plantsService.getAllPlantas(temp.cliente).subscribe(function (res) {
            _this.plants = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    AddemgComponent.prototype.loadLines = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.plants.forEach(function (el) {
            if (el._id == temp.planta) {
                _this.lines = el.lines;
            }
        });
    };
    AddemgComponent.prototype.saveLine = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.plants.forEach(function (plant) {
            if (plant._id == temp.planta) {
                _this.lines.forEach(function (line) {
                    if (line._id == temp.linea) {
                        _this.shortname_line = line.shortname;
                    }
                });
            }
        });
    };
    AddemgComponent.prototype.genName = function () {
        var _this = this;
        var temp = this.emgForm.value;
        this.emgServices.getByLine(temp.linea).subscribe(function (res) {
            console.log(res);
            _this.nombre = _this.shortname_line + '_emg' + (res.detail.length + 1);
        }, function (err) {
        });
    };
    AddemgComponent.prototype.save = function () {
        var _this = this;
        this.guardando = true;
        console.log(this.emgForm.controls);
        var temp = this.emgForm.value;
        var nemg = {
            'info': {
                'name': this.nombre,
                'type': temp.tipo,
                'model': temp.modelo,
                'description': temp.desc,
                'serial': temp.serie
            },
            'client': temp.cliente,
            'plant': temp.planta,
            'line': temp.linea,
            'cod_pro': temp.cod_pro,
            'agreement': temp.agreement,
            'status': 0,
            'active': true,
            'meta': {
                'registred_by': this.authService.getId()
            }
        };
        this.emgServices.create(nemg).subscribe(function (res) {
            _this.emgServices.genEmg(res.detail._id).subscribe(function (res) {
                _this.guardando = false;
                _this.alert.success("Registro creado con éxito, serás redigirido en unos segundos.");
                setTimeout(function () {
                    _this.regresar();
                }, 1500);
            }, function (err) {
                _this.alert.error("Ocurrio un error durante el registro");
            });
        }, function (err) {
            console.log(err);
            _this.alert.error("Ocurrio un error durante el registro");
        });
    };
    AddemgComponent.prototype.regresar = function () {
        this.location.back();
    };
    AddemgComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-addemg',
            template: __webpack_require__(/*! ./addemg.component.html */ "./src/app/equipos-components/addemg/addemg.component.html"),
            styles: [__webpack_require__(/*! ./addemg.component.css */ "./src/app/equipos-components/addemg/addemg.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__["EmpresasService"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__["EmgsService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormBuilder"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["Location"],
            src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_10__["AgreementsService"]])
    ], AddemgComponent);
    return AddemgComponent;
}());



/***/ }),

/***/ "./src/app/equipos-components/equipos/equipos.component.css":
/*!******************************************************************!*\
  !*** ./src/app/equipos-components/equipos/equipos.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VxdWlwb3MtY29tcG9uZW50cy9lcXVpcG9zL2VxdWlwb3MuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/equipos-components/equipos/equipos.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/equipos-components/equipos/equipos.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n  <hr>\r\n  <div class=\"row\"> \r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver equipos registrados</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-left text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Por cliente</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <!--<ng-select2 [(ngModel)]=\"client_id\" [ngModelOptions]=\"{standalone: true}\" [data]=\"clientesList\" (change)=\"loadEmgsByClient()\" [width]=\"150\">\t\t\r\n        </ng-select2>-->\r\n        <select class=\"form-control form-control-sm\" id=\"tipo\" [(ngModel)]=\"client_id\" [ngModelOptions]=\"{standalone: true}\" (change)=\"loadEmgsByClient()\">\r\n          <option value=\"alls\">Ver todos</option>\r\n          <option *ngFor=\"let client of clients\" value=\"{{client._id}}\">{{client.name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Por planta</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <select class=\"form-control form-control-sm\" id=\"tipo\" [(ngModel)]=\"plant_id\" [ngModelOptions]=\"{standalone: true}\" (change)=\"loadEmgsByPlant()\">\r\n          <option value=\"alls\">Ver todos</option>          \r\n          <option *ngFor=\"let plant of plants\" value=\"{{plant._id}}\">{{plant.name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\"><span class=\"text-danger\">*</span>Seleccionar línea</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <select class=\"form-control form-control-sm\" id=\"tipo\" [(ngModel)]=\"line_id\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"!have_lines\" (change)=\"loadEmgsByPlantAndLines()\">\r\n          <option *ngFor=\"let line of lines\" value=\"{{line._id}}\">{{line.name}}</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Buscar por serial</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Búsqueda por SN\" [(ngModel)]=\"busqBySerial\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaBySerial()\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col\"></div>\r\n    <div class=\"col\"></div>\r\n    <div class=\"col\">\r\n      <h6 class=\"text-left\">Buscar por nombre</h6>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"form-group\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Búsqueda por nombre\" [(ngModel)]=\"busqByName\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaByName()\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\"><small class=\"text-danger\">*Primero debe seleccionar la planta</small></div>\r\n    <div class=\"col text-right\">\r\n      <button class=\"btn btn-primary\" (click)=\"goNewEmg()\">Agregar equipo</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n      <div class=\"col\">\r\n          <table class=\"table table-striped\" *ngIf=\"true\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Nombre</th>\r\n                  <th scope=\"col\">Tipo</th>\r\n                  <th scope=\"col\">Modelo</th>\r\n                  <th scope=\"col\">Serial</th>\r\n                  <th scope=\"col\">Descripción</th>\r\n                  <th scope=\"col\">Estatus</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let emg of emgs\">\r\n                  <td scope=\"row\">{{emg.info.name}}</td>\r\n                  <td scope=\"row\">{{emg.info.type}}</td>\r\n                  <td>{{emg.info.model}}</td>\r\n                  <td>{{emg.info.serial}}</td>\r\n                  <td>{{emg.info.description.substring(0,40)}}</td>\r\n                  <td>{{getStatus(emg.status)}}</td>\r\n                  <td>\r\n                    <button mat-mini-fab class=\"bg-primary\" (click)=\"detEmg(emg._id)\">\r\n                        <mat-icon>pageview</mat-icon>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <h4 *ngIf=\"false\">No existen equipos registrados</h4>\r\n      </div>\r\n  </div>\r\n  <hr>  \r\n</div>\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <div class=\"row\">\r\n    <p class=\"lead mx-auto\">\r\n      CARGANDO\r\n    </p>\r\n  </div>\r\n  <div class=\"row\" >\r\n    <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/equipos-components/equipos/equipos.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/equipos-components/equipos/equipos.component.ts ***!
  \*****************************************************************/
/*! exports provided: EquiposComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EquiposComponent", function() { return EquiposComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");






var EquiposComponent = /** @class */ (function () {
    function EquiposComponent(emgService, router, empresaService, plantService) {
        this.emgService = emgService;
        this.router = router;
        this.empresaService = empresaService;
        this.plantService = plantService;
        this.busqByName = "";
        this.busqBySerial = "";
        this.clientesList = [];
        this.have_lines = false;
        this.load = true;
        this.getAllEmgs();
        this.loadUsers();
        this.loadPlant();
    }
    EquiposComponent.prototype.ngOnInit = function () {
    };
    EquiposComponent.prototype.getAllEmgs = function () {
        var _this = this;
        this.emgService.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
            setTimeout(function () {
                _this.load = false;
            }, 500);
        }, function (err) {
            console.log(err);
        });
    };
    EquiposComponent.prototype.loadUsers = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            _this.clients = res.detail;
            _this.setClientList(_this.clients);
        }, function (err) {
            console.log(err);
        });
    };
    EquiposComponent.prototype.setClientList = function (a) {
        var _this = this;
        this.clientesList.push({
            id: 'alls',
            text: 'Ver todos'
        });
        a.forEach(function (c) {
            _this.clientesList.push({
                id: c._id,
                text: c.name
            });
        });
    };
    EquiposComponent.prototype.loadPlant = function () {
        var _this = this;
        this.plantService.getAll().subscribe(function (res) {
            _this.plants = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    EquiposComponent.prototype.loadLines = function () {
        var _this = this;
        this.line_id = "";
        this.plants.forEach(function (el) {
            if (el._id == _this.plant_id) {
                _this.lines = el.lines;
            }
        });
        if (this.lines.length == 0) {
            this.have_lines = false;
        }
        else {
            this.have_lines = true;
        }
    };
    EquiposComponent.prototype.loadEmgsByClient = function () {
        var _this = this;
        this.line_id = "";
        this.plant_id = "";
        this.emgs = [];
        if (this.client_id == "" || this.client_id == "alls") {
            this.getAllEmgs();
        }
        else {
            this.emgService.getByClient(this.client_id).subscribe(function (res) {
                _this.emgs = res.detail;
            }, function (err) {
                console.log(err);
            });
        }
    };
    EquiposComponent.prototype.loadEmgsByPlant = function () {
        var _this = this;
        this.loadLines();
        if (this.plant_id == "" || this.plant_id == "alls") {
            this.getAllEmgs();
        }
        else {
            this.emgService.getByPlant(this.plant_id).subscribe(function (res) {
                _this.emgs = res.detail;
            }, function (err) {
                console.log(err);
            });
        }
    };
    EquiposComponent.prototype.loadEmgsByPlantAndLines = function () {
        var _this = this;
        this.client_id = "";
        this.emgs = [];
        this.emgService.getByPlantAndLine(this.plant_id, this.line_id).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    EquiposComponent.prototype.detEmg = function (id) {
        this.router.navigateByUrl('/equipos/equipos/' + id);
    };
    EquiposComponent.prototype.goNewEmg = function () {
        this.router.navigateByUrl('equipos/equipos/nuevo');
    };
    EquiposComponent.prototype.busquedaByName = function () {
        this.client_id = "";
        this.plant_id = "";
        this.line_id = "";
        if (this.busqByName == "") {
            this.getAllEmgs();
        }
        else {
            var regex = new RegExp(this.busqByName.toLowerCase());
            var temp = this.emgs;
            this.emgs = temp.filter(function (emg) { return emg.info.name.toLowerCase().match(regex); });
        }
    };
    EquiposComponent.prototype.busquedaBySerial = function () {
        this.client_id = "";
        this.plant_id = "";
        this.line_id = "";
        if (this.busqBySerial == "") {
            this.getAllEmgs();
        }
        else {
            var regex = new RegExp(this.busqBySerial.toLowerCase());
            var temp = this.emgs;
            this.emgs = temp.filter(function (emg) { return emg.info.serial.toLowerCase().match(regex); });
        }
    };
    EquiposComponent.prototype.getStatus = function (s) {
        if (s == 1) {
            return "Desactivado";
        }
        else {
            return "Activo";
        }
    };
    EquiposComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-equipos',
            template: __webpack_require__(/*! ./equipos.component.html */ "./src/app/equipos-components/equipos/equipos.component.html"),
            styles: [__webpack_require__(/*! ./equipos.component.css */ "./src/app/equipos-components/equipos/equipos.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_2__["EmgsService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__["EmpresasService"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__["PlantasService"]])
    ], EquiposComponent);
    return EquiposComponent;
}());



/***/ }),

/***/ "./src/app/equipos-components/viewemg/viewemg.component.css":
/*!******************************************************************!*\
  !*** ./src/app/equipos-components/viewemg/viewemg.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VxdWlwb3MtY29tcG9uZW50cy92aWV3ZW1nL3ZpZXdlbWcuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/equipos-components/viewemg/viewemg.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/equipos-components/viewemg/viewemg.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Ver equipo EMG</h5>\r\n          <br>\r\n          <h6 class=\"card-subtitle\"><b>Nombre:</b>{{nombre}}</h6>\r\n          <br>\r\n          <hr>  \r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6 class=\"card-subtitle\">Ubicación del equipo</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6><b>Cliente: </b>{{cliente}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Planta: </b>{{planta}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Línea: </b>{{linea}}</h6>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6 class=\"card-subtitle\">Información del equipo EMG</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n                <h6><b>Estado del equipo: </b>{{activado()}}</h6>                \r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6><b>Modelo: </b>{{modelo}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Tipo: </b>{{tipo}}</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h6><b>Descripción: </b>{{descripcion}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Serie: </b>{{serie}}</h6>\r\n            </div>\r\n            <div class=\"col\">\r\n              <h6><b>Código de proyecto: </b>{{cod_pro}}</h6>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class=\"row\" style=\"padding-bottom: 0px\">\r\n            <div class=\"col-4\">\r\n              <h6><b>Código QR de identificación</b></h6>\r\n              <img src=\"{{emg.qr}}\" class=\"img-fluid\" style=\"width: 200px;\">\r\n            </div>\r\n          </div>\r\n          <div class=\"row pad1\">\r\n            <div class=\"col\">\r\n              <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n            </div>\r\n            <div class=\"col\">\r\n              <button type=\"button\" class=\"btn btn-warning w-100\" (click)=\"actDes()\">{{actDesStr()}}</button>\r\n            </div>\r\n            <div class=\"col\">\r\n              <button type=\"button\" class=\"btn btn-danger w-100\" (click)=\"getPdf()\">Descargar ficha(PDF)</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr><hr>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <div class=\"row\">\r\n    <p class=\"lead mx-auto\">\r\n      CARGANDO\r\n    </p>\r\n  </div>\r\n  <div class=\"row\" >\r\n    <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/equipos-components/viewemg/viewemg.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/equipos-components/viewemg/viewemg.component.ts ***!
  \*****************************************************************/
/*! exports provided: ViewemgComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewemgComponent", function() { return ViewemgComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");








var ViewemgComponent = /** @class */ (function () {
    function ViewemgComponent(activatedRoute, emgService, empresaService, plantasService, router, alert, location) {
        this.activatedRoute = activatedRoute;
        this.emgService = emgService;
        this.empresaService = empresaService;
        this.plantasService = plantasService;
        this.router = router;
        this.alert = alert;
        this.location = location;
        this.load = true;
        this.getEmg(this.activatedRoute.snapshot.paramMap.get('id'));
    }
    ViewemgComponent.prototype.ngOnInit = function () {
    };
    ViewemgComponent.prototype.loadStrings = function () {
        var info = this.emg.info;
        this.nombre = info.name;
        this.modelo = info.model;
        this.tipo = info.type;
        this.descripcion = info.description;
        this.serie = info.serial;
        this.cod_pro = this.emg.cod_pro;
        this.load = false;
    };
    ViewemgComponent.prototype.getEmg = function (id) {
        var _this = this;
        this.emgService.getById(id).subscribe(function (res) {
            console.log(res);
            _this.emg = res.detail;
            _this.getClient();
        }, function (req) {
            console.log(req);
        });
    };
    ViewemgComponent.prototype.getClient = function () {
        var _this = this;
        var emp = this.emg.client;
        this.empresaService.getid(emp).subscribe(function (res) {
            _this.cl = res.detail;
            _this.cliente = _this.cl.name;
            _this.getPlant();
        }, function (err) {
            console.log(err);
            return "Indefinido";
        });
    };
    ViewemgComponent.prototype.getPlant = function () {
        var _this = this;
        this.plantasService.getPlanta(this.emg.plant).subscribe(function (res) {
            _this.pl = res.detail;
            _this.planta = _this.pl.name;
            _this.pl.lines.forEach(function (el) {
                if (el._id == _this.emg.line) {
                    _this.linea = el.name + "";
                }
            });
            _this.loadStrings();
        }, function (err) {
            console.log(err);
            return "Indefinido";
        });
    };
    ViewemgComponent.prototype.activado = function () {
        if (!this.emg.active) {
            return "Inactivo";
        }
        else {
            return "Activo";
        }
    };
    ViewemgComponent.prototype.estatus = function () {
        switch (this.emg.status) {
            case 0:
                return "En producción";
                break;
            case 1:
                return "En mantenimiento";
                break;
            case 2:
                return "En reparación";
                break;
            default:
                break;
        }
    };
    ViewemgComponent.prototype.regresar = function () {
        this.location.back();
    };
    ViewemgComponent.prototype.actDesStr = function () {
        if (this.emg.active) {
            return "Desactivar";
        }
        else {
            return "Activar";
        }
    };
    ViewemgComponent.prototype.actDes = function () {
        var _this = this;
        this.alert.confirm("¿Desea cambiar el estatus al equipo EMG?", function () {
            _this.load = true;
            _this.emgService.actDes(_this.activatedRoute.snapshot.paramMap.get("id"), _this.emg.active).subscribe(function (data) {
                setTimeout(function () {
                    _this.regresar();
                }, 4000);
                _this.alert.success("Actualizado correctamente. Serás redirigido en unos segundos.");
                _this.getEmg(_this.activatedRoute.snapshot.paramMap.get("id"));
                _this.load = false;
            }, function (err) {
                console.log(err);
                _this.alert.error("Ocurrio un error durante la actualización.");
            });
        }, function () {
            _this.alert.error("Sin cambios en el registro");
        });
    };
    ViewemgComponent.prototype.getPdf = function () {
        this.alert.alert("Tu PDF se descargará en unos segundos.");
        var data = {
            template: { "shortid": "rkgmBHwjyH" },
            data: {
                id: this.emg._id.substring(0, 10),
                nombre: this.nombre,
                cliente: this.cliente,
                planta: this.planta,
                linea: this.linea,
                estatus: this.estatus(),
                modelo: this.modelo,
                tipo: this.tipo,
                desc: this.descripcion,
                serie: this.serie,
                qr: this.emg.qr,
                cod_pro: this.cod_pro
            },
            options: { "timeout": 60000 }
        };
        this.emgService.getPdf(data);
    };
    ViewemgComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewemg',
            template: __webpack_require__(/*! ./viewemg.component.html */ "./src/app/equipos-components/viewemg/viewemg.component.html"),
            styles: [__webpack_require__(/*! ./viewemg.component.css */ "./src/app/equipos-components/viewemg/viewemg.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__["EmgsService"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__["EmpresasService"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_4__["PlantasService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"]])
    ], ViewemgComponent);
    return ViewemgComponent;
}());



/***/ }),

/***/ "./src/app/inicio/inicio.component.css":
/*!*********************************************!*\
  !*** ./src/app/inicio/inicio.component.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2luaWNpby9pbmljaW8uY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/inicio/inicio.component.html":
/*!**********************************************!*\
  !*** ./src/app/inicio/inicio.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <h1 class=\"text-left\">Bienvenido al sistema de soporte para equipos EMG</h1>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12 col-md-6 col-lg-8\">\r\n      <div class=\"card w-100\">\r\n        <img src=\"assets/uncoiler.jpg\" alt=\"Desbobinadora\" class=\"card-img-top\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">¿Qué es?</h5>\r\n          <p class=\"card-text\">\r\n            El sistema de seguimiento para mantenimiento de equipos industriales, \r\n            es una plataforma donde se almacena información acerca de reparaciones y mantenimiento de los equipos EMG\r\n            situados en plantas industriales de clientes de Tecnoap.\r\n          </p>\r\n          <p class=\"card-text\">\r\n            Entre sus funciones, se puede consultar información sobre las reparaciones y mantenimiento de un equipo EMG, \r\n            a tipo de bitacora, que almacena los servicios realizados sobre un equipo en especifico.\r\n            <br>\r\n            Asi como solicitar/programar un nuevo servicio para un equipo EMG que halla presentado algún desperfecto.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-12 col-md-6 col-lg-4\">\r\n        <div class=\"card w-100 h-100\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Accesos rápidos</h5>\r\n            <ul class=\"card-text list-group\" *ngIf=\"admin\">\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/servicios']\">Ver servicios</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/servicios/nuevo']\">Programar servicio</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/equipos/equipos']\">Ver equipos</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/equipos/plantas']\">Ver plantas</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/equipos/lineas']\">Ver líneas</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/micuenta']\">Mi cuenta</a></li>\r\n            </ul>\r\n            <ul class=\"card-text list-group\" *ngIf=\"tecni\">\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/misservicios-tec']\">Ver mis servicios</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/misservicios-tec/nuevo']\">Programar servicio</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/micuenta']\">Mi cuenta</a></li>\r\n            </ul>\r\n            <ul class=\"card-text list-group\" *ngIf=\"clien\">\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/misservicios']\">Ver mis servicios</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/misservicios/solicitar']\">Solicitar servicio</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/misequipos']\">Ver mis equipos</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/misplantas']\">Ver mis plantas</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/mislineas']\">Ver mis líneas</a></li>\r\n              <li class=\"list-group-item\"><a [routerLink]=\"['/micuenta']\">Mi cuenta</a></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <hr><hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/inicio/inicio.component.ts":
/*!********************************************!*\
  !*** ./src/app/inicio/inicio.component.ts ***!
  \********************************************/
/*! exports provided: InicioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InicioComponent", function() { return InicioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth.service */ "./src/app/services/auth.service.ts");



var InicioComponent = /** @class */ (function () {
    function InicioComponent(auth) {
        this.auth = auth;
        this.admin = false;
        this.tecni = false;
        this.clien = false;
    }
    InicioComponent.prototype.ngOnInit = function () {
        switch (this.auth.getRole()) {
            case 0:
                this.admin = true;
                break;
            case 1:
                this.tecni = true;
                break;
            case 2:
                this.clien = true;
                break;
        }
    };
    InicioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-inicio',
            template: __webpack_require__(/*! ./inicio.component.html */ "./src/app/inicio/inicio.component.html"),
            styles: [__webpack_require__(/*! ./inicio.component.css */ "./src/app/inicio/inicio.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], InicioComponent);
    return InicioComponent;
}());



/***/ }),

/***/ "./src/app/lineas-components/lineas/lineas.component.css":
/*!***************************************************************!*\
  !*** ./src/app/lineas-components/lineas/lineas.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpbmVhcy1jb21wb25lbnRzL2xpbmVhcy9saW5lYXMuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/lineas-components/lineas/lineas.component.html":
/*!****************************************************************!*\
  !*** ./src/app/lineas-components/lineas/lineas.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver línea de producción</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\"> \r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div> \r\n  </div>  \r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <h6 class=\"text-left\">Cliente</h6>\r\n      <small class=\"text-danger\">**Primero seleccione al cliente**</small>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_cliente\" [ngModelOptions]=\"{standalone: true}\" (change)=\"loadPlants()\">\r\n        <option *ngFor=\"let cliente of clientes\" value=\"{{cliente._id}}\">{{cliente.name}}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n  <br>\r\n  <div class=\"row\" *ngIf=\"!clientSel\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Ver líneas por planta</h6>\r\n      <small class=\"text-danger\">**Seleccione a la planta**</small> \r\n    </div>\r\n    <div class=\"col-3\">  \r\n      <select id=\"inputState\" class=\"form-control form-control-sm\" [(ngModel)]=\"id_planta\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"sinPlantas\" (change)=\"loadLineas()\">\r\n        <option *ngFor=\"let plt of planta\" value=\"{{plt._id}}\">{{plt.name}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de línea</h6>\r\n    </div>\r\n    <div class=\"col-3\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre de la planta\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 *ngIf=\"sinPlantas\" class=\"text-center txt-danger\">Sin líneas registradas en esta planta</h6>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 text-right\">\r\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewLine()\">\r\n          Nueva línea\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"row text-center\">\r\n      <div class=\"col-12\">\r\n        <table class=\"table table-striped\" *ngIf=\"!vacio()\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Nombre corto</th>\r\n                <th scope=\"col\">Descripción</th>\r\n                <th scope=\"col\">Detalle</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let lns of lines\">\r\n                <td scope=\"row\">{{lns.name}}</td>\r\n                <td>{{lns.shortname}}</td>\r\n                <td>{{lns.desc}}</td>\r\n                <td>\r\n                  <button mat-mini-fab class=\"bg-primary\" (click)=\"plantDet(lns._id)\">\r\n                      <mat-icon>pageview</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n        </table>\r\n        <h2 *ngIf=\"vacio()\">El cliente no tiene líneas registradas en esta planta</h2>\r\n        <br>\r\n        <hr>\r\n        <br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/lineas-components/lineas/lineas.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/lineas-components/lineas/lineas.component.ts ***!
  \**************************************************************/
/*! exports provided: LineasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LineasComponent", function() { return LineasComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");






var LineasComponent = /** @class */ (function () {
    function LineasComponent(router, plantas, empresas, alert) {
        this.router = router;
        this.plantas = plantas;
        this.empresas = empresas;
        this.alert = alert;
        this.load = false;
        this.clientSel = true;
        this.busq = "";
        this.sinPlantas = false;
        this.sinLineas = false;
        this.alert.alert("Primero debe seleccionar un cliente para conocer sus plantas y lineas de producción.");
    }
    LineasComponent.prototype.ngOnInit = function () {
        this.getClients();
    };
    LineasComponent.prototype.loadPlants = function () {
        var _this = this;
        this.id_planta = '';
        this.plantas.getAllPlantas(this.id_cliente).subscribe(function (data) {
            _this.lines = [];
            _this.planta = data.detail;
            _this.clientSel = false;
            if (_this.planta.length == 0) {
                _this.sinPlantas = true;
                _this.clientSel = true;
            }
            else {
                _this.sinPlantas = false;
            }
        }, function (err) {
            console.log(err);
        });
    };
    LineasComponent.prototype.vacio = function () {
        if (this.lines.length == 0) {
            return true;
        }
        else {
            return false;
        }
    };
    LineasComponent.prototype.getClients = function () {
        var _this = this;
        this.empresas.get().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    LineasComponent.prototype.plantDet = function (id) {
        this.router.navigateByUrl('equipos/lineas/' + this.id_planta + "/" + id);
    };
    LineasComponent.prototype.goNewLine = function () {
        this.router.navigateByUrl('equipos/lineas/nueva/' + this.id_planta);
    };
    LineasComponent.prototype.loadLineas = function () {
        var _this = this;
        this.planta.forEach(function (el) {
            if (el._id == _this.id_planta) {
                _this.lines = el.lines;
                //console.log(el);
            }
            _this.load = true;
        });
    };
    LineasComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadLineas();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.lines;
            this.lines = temp.filter(function (lns) { return lns.name.toLowerCase().match(regex); });
        }
    };
    LineasComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-lineas',
            template: __webpack_require__(/*! ./lineas.component.html */ "./src/app/lineas-components/lineas/lineas.component.html"),
            styles: [__webpack_require__(/*! ./lineas.component.css */ "./src/app/lineas-components/lineas/lineas.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]])
    ], LineasComponent);
    return LineasComponent;
}());



/***/ }),

/***/ "./src/app/lineas-components/lineasbyid/lineasbyid.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/lineas-components/lineasbyid/lineasbyid.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpbmVhcy1jb21wb25lbnRzL2xpbmVhc2J5aWQvbGluZWFzYnlpZC5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/lineas-components/lineasbyid/lineasbyid.component.html":
/*!************************************************************************!*\
  !*** ./src/app/lineas-components/lineasbyid/lineasbyid.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver línea de producción</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\"> \r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div> \r\n  </div> \r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <h6 class=\"text-left\">Cliente</h6>\r\n      <small class=\"text-danger\">**Primero seleccione al cliente**</small>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_cliente\" [ngModelOptions]=\"{standalone: true}\" (change)=\"loadPlants()\">\r\n        <option *ngFor=\"let cliente of clientes\" value=\"{{cliente._id}}\">{{cliente.name}}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <br>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Ver líneas por planta</h6>\r\n      <small class=\"text-danger\">**Seleccione a la planta**</small> \r\n    </div>\r\n    <div class=\"col-3\">  \r\n      <select id=\"inputState\" class=\"form-control form-control-sm\" [(ngModel)]=\"id_planta\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"sinPlantas\" (change)=\"loadLineas()\">\r\n        <option *ngFor=\"let plt of planta\" value=\"{{plt._id}}\">{{plt.name}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de línea</h6>\r\n    </div>\r\n    <div class=\"col-3\">\r\n        <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre de la planta\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h6 *ngIf=\"sinPlantas\" class=\"text-center txt-danger\">Sin líneas registradas en esta planta</h6>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12 text-right\">\r\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewLine()\">\r\n          Nueva línea\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <br>\r\n    <div class=\"row text-center\">\r\n      <div class=\"col-12\">\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Nombre corto</th>\r\n                <th scope=\"col\">Descripción</th>\r\n                <th scope=\"col\">Detalle</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let lns of lines\">\r\n                <td scope=\"row\">{{lns.name}}</td>\r\n                <td>{{lns.shortname}}</td>\r\n                <td>{{lns.desc}}</td>\r\n                <td>\r\n                  <button mat-mini-fab class=\"bg-primary\" (click)=\"plantDet(lns._id)\">\r\n                      <mat-icon>pageview</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n        </table>\r\n        <br>\r\n        <hr>\r\n        <br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!--<div class=\"container\" *ngIf=\"!load\">\r\n  <div class=\"row\">\r\n    <p class=\"lead mx-auto\">CARGANDO</p>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n    </div>\r\n  </div>\r\n</div>-->\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/lineas-components/lineasbyid/lineasbyid.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/lineas-components/lineasbyid/lineasbyid.component.ts ***!
  \**********************************************************************/
/*! exports provided: LineasbyidComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LineasbyidComponent", function() { return LineasbyidComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");





var LineasbyidComponent = /** @class */ (function () {
    function LineasbyidComponent(router, plantas, empresas, activatedRoute) {
        this.router = router;
        this.plantas = plantas;
        this.empresas = empresas;
        this.activatedRoute = activatedRoute;
        this.load = false;
        this.clientSel = true;
        this.busq = "";
        this.id_p = "";
        this.sinPlantas = false;
        this.sinLineas = false;
        this.ridc = "";
        this.ridp = "";
        this.id_p = this.activatedRoute.snapshot.paramMap.get("id");
    }
    LineasbyidComponent.prototype.ngOnInit = function () {
        this.getPlants();
        this.getClients();
    };
    LineasbyidComponent.prototype.loadPlants = function () {
        var _this = this;
        this.id_planta = '';
        this.plantas.getAllPlantas(this.id_cliente).subscribe(function (data) {
            //this.lines=[];
            _this.planta = data.detail;
            _this.clientSel = false;
            if (_this.planta.length == 0) {
                _this.sinPlantas = true;
                _this.clientSel = true;
            }
            else {
                _this.sinPlantas = false;
            }
        }, function (err) {
            console.log(err);
        });
    };
    LineasbyidComponent.prototype.getClients = function () {
        var _this = this;
        this.empresas.get().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    LineasbyidComponent.prototype.plantDet = function (id) {
        this.router.navigateByUrl('equipos/lineas/' + this.id_planta + "/" + id);
    };
    LineasbyidComponent.prototype.goNewLine = function () {
        this.router.navigateByUrl('equipos/lineas/nueva/' + this.id_planta);
    };
    LineasbyidComponent.prototype.loadLineas = function () {
        var _this = this;
        this.planta.forEach(function (el) {
            if (el._id == _this.id_planta) {
                _this.lines = el.lines;
            }
            _this.load = true;
        });
    };
    LineasbyidComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadLineas();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.lines;
            this.lines = temp.filter(function (lns) { return lns.name.toLowerCase().match(regex); });
        }
    };
    LineasbyidComponent.prototype.loadRet = function (na) {
        var _this = this;
        var elemente = na.find(function (e) { return e._id == _this.id_p; });
        this.lines = elemente.lines;
        this.id_cliente = elemente.client;
        this.loadPlants();
        this.id_planta = this.id_p;
        this.lines = elemente.lines;
        this.load = true;
    };
    LineasbyidComponent.prototype.getPlants = function () {
        var _this = this;
        this.plantas.getAll().subscribe(function (data) {
            ;
            _this.loadRet(data.detail);
        }, function (err) {
            console.log(err);
        });
    };
    LineasbyidComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-lineasbyid',
            template: __webpack_require__(/*! ./lineasbyid.component.html */ "./src/app/lineas-components/lineasbyid/lineasbyid.component.html"),
            styles: [__webpack_require__(/*! ./lineasbyid.component.css */ "./src/app/lineas-components/lineasbyid/lineasbyid.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]])
    ], LineasbyidComponent);
    return LineasbyidComponent;
}());



/***/ }),

/***/ "./src/app/lineas-components/newline/newline.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/lineas-components/newline/newline.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".bot1{\r\n    margin-left: 30px;\r\n}\r\n.pad1{\r\n    padding-bottom: 15px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGluZWFzLWNvbXBvbmVudHMvbmV3bGluZS9uZXdsaW5lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7QUFDckI7QUFDQTtJQUNJLG9CQUFvQjtBQUN4QiIsImZpbGUiOiJzcmMvYXBwL2xpbmVhcy1jb21wb25lbnRzL25ld2xpbmUvbmV3bGluZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvdDF7XHJcbiAgICBtYXJnaW4tbGVmdDogMzBweDtcclxufVxyXG4ucGFkMXtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxNXB4O1xyXG59Il19 */"

/***/ }),

/***/ "./src/app/lineas-components/newline/newline.component.html":
/*!******************************************************************!*\
  !*** ./src/app/lineas-components/newline/newline.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr> \r\n<div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">Agregar línea para planta {{p_namestr}}</h5>\r\n            </div>\r\n            <form class=\"container\" [formGroup]=\"lineForm\" (ngSubmit)=\"save()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name\"><span class=\"text-danger\">*</span>Nombre línea</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Nombre de la línea\" formControlName=\"name\" (keyup)=\"setEnable()\">\r\n                      <div *ngIf=\"lineForm.get('name').errors&&lineForm.get('name').dirty\">\r\n                        <p *ngIf=\"lineForm.get('name').hasError('required')\" class=\"text-danger\">Nombre requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-4\">\r\n                        <div class=\"form-group\">                          \r\n                          <label for=\"name\"><span class=\"text-danger\">*</span>Nombre corto</label>\r\n                          <button type=\"button\" class=\"btn btn-primary w-100\" [disabled]=\"btnen\" (click)=\"genShrName()\">Sugerir</button>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-8\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"shortname\">...</label>\r\n                          <input type=\"text\" class=\"form-control\" id=\"shortname\" placeholder=\"Nombre corto de la línea(max 6 digitos)\" formControlName=\"shortname\" value=\"{{nombrecorto}}\">\r\n                          <div *ngIf=\"lineForm.get('shortname').errors&&lineForm.get('shortname').dirty\">\r\n                            <p *ngIf=\"lineForm.get('shortname').hasError('maxlength')\" class=\"text-danger\">Máximo 7 digitos</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"eName\"><span class=\"text-danger\">*</span>Descripción</label>\r\n                      <textarea class=\"form-control\" id=\"eName\" rows=\"3\" placeholder=\"Descripción de la linea\" formControlName=\"desc\"></textarea>\r\n                      <div *ngIf=\"lineForm.get('desc').errors&&lineForm.get('desc').dirty\">\r\n                        <p *ngIf=\"lineForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"lineForm.invalid\">Guardar</button>                    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" *ngIf=\"saving\">\r\n                  <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/lineas-components/newline/newline.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/lineas-components/newline/newline.component.ts ***!
  \****************************************************************/
/*! exports provided: NewlineComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewlineComponent", function() { return NewlineComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");







var NewlineComponent = /** @class */ (function () {
    function NewlineComponent(router, activatedRoute, planta, fb, location, alert) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.planta = planta;
        this.fb = fb;
        this.location = location;
        this.alert = alert;
        this.btnen = true;
        this.nombrecorto = "";
        this.id_p = "";
        this.p_namestr = "";
        this.nLine = 0;
        this.nDesc = "";
        this.saving = false;
        this.lineForm = fb.group({
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            shortname: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].maxLength(7)]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
        });
    }
    NewlineComponent.prototype.ngOnInit = function () {
        this.id_p = this.activatedRoute.snapshot.paramMap.get("id");
        this.getName(this.id_p);
    };
    NewlineComponent.prototype.getName = function (id) {
        var _this = this;
        this.planta.getPlanta(id).subscribe(function (res) {
            _this.p_name = res.detail;
            _this.p_namestr = _this.p_name.name;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    NewlineComponent.prototype.regresar = function () {
        this.router.navigateByUrl('equipos/lineas/' + this.id_p);
    };
    NewlineComponent.prototype.save = function () {
        var _this = this;
        var temp = this.lineForm.value;
        var nl = {
            'name': temp.name,
            'shortname': this.nombrecorto,
            'desc': temp.desc
        };
        this.saving = true;
        this.planta.addLinea(nl, this.id_p).subscribe(function (res) {
            _this.alert.success("Linea registrada conrretamente, en unos segundos serás redireccionado.");
            setTimeout(function () {
                _this.router.navigateByUrl('equipos/lineas/' + _this.id_p);
            }, 4000);
        }, function (err) {
            _this.alert.error("Ocurrio un error durante el registro");
            console.log(err);
        });
    };
    NewlineComponent.prototype.genShrName = function () {
        var temp = this.lineForm.value;
        this.nombrecorto = this.p_namestr.substring(0, 3).toLowerCase() + "_" + temp.name.substring(0, 3).toLowerCase();
    };
    NewlineComponent.prototype.setEnable = function () {
        this.btnen = false;
    };
    NewlineComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-newline',
            template: __webpack_require__(/*! ./newline.component.html */ "./src/app/lineas-components/newline/newline.component.html"),
            styles: [__webpack_require__(/*! ./newline.component.css */ "./src/app/lineas-components/newline/newline.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"],
            _angular_common__WEBPACK_IMPORTED_MODULE_6__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"]])
    ], NewlineComponent);
    return NewlineComponent;
}());



/***/ }),

/***/ "./src/app/lineas-components/viewline/viewline.component.css":
/*!*******************************************************************!*\
  !*** ./src/app/lineas-components/viewline/viewline.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".pad1{\r\n    padding-bottom: 15px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGluZWFzLWNvbXBvbmVudHMvdmlld2xpbmUvdmlld2xpbmUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG9CQUFvQjtBQUN4QiIsImZpbGUiOiJzcmMvYXBwL2xpbmVhcy1jb21wb25lbnRzL3ZpZXdsaW5lL3ZpZXdsaW5lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFkMXtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxNXB4O1xyXG59Il19 */"

/***/ }),

/***/ "./src/app/lineas-components/viewline/viewline.component.html":
/*!********************************************************************!*\
  !*** ./src/app/lineas-components/viewline/viewline.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n  <div class=\"row\" *ngIf=\"!load\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">Ver línea</h5>\r\n                  <h6 class=\"card-subtitle mb-2 text-muted\">Nombre de planta {{planta.name}} de {{empresa}}</h6>\r\n               \r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre de línea</b></h6>\r\n                      <h6>{{nombre}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div><hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre corto</b></h6>\r\n                      <h6>{{ncorto}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                      <div class=\"\">\r\n                        <h6><b>Descripción de la línea</b></h6>\r\n                        <h6>{{desc}}</h6>                        \r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <br><br>\r\n                <div class=\"row pad1\">\r\n                  <div class=\"col-4\">\r\n                    <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row\">\r\n      <p class=\"lead mx-auto\">CARGANDO</p>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n      </div>\r\n    </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/lineas-components/viewline/viewline.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/lineas-components/viewline/viewline.component.ts ***!
  \******************************************************************/
/*! exports provided: ViewlineComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewlineComponent", function() { return ViewlineComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");





var ViewlineComponent = /** @class */ (function () {
    function ViewlineComponent(activatedRoute, router, plantas, empresas) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.plantas = plantas;
        this.empresas = empresas;
        this.empresa = "";
        this.nombre = "";
        this.ncorto = "";
        this.desc = "";
        this.load = true;
        this.id_p = this.activatedRoute.snapshot.paramMap.get("id_p");
        this.id_l = this.activatedRoute.snapshot.paramMap.get("id_l");
    }
    ViewlineComponent.prototype.ngOnInit = function () {
        this.getPlanta();
    };
    ViewlineComponent.prototype.ngDoCheck = function () {
        this.getLine();
    };
    ViewlineComponent.prototype.getPlanta = function () {
        var _this = this;
        this.plantas.getPlanta(this.id_p).subscribe(function (res) {
            _this.planta = res.detail;
            _this.getEmpresa();
        }, function (err) {
            console.error(err);
        });
    };
    ViewlineComponent.prototype.getEmpresa = function () {
        var _this = this;
        this.empresas.getid(this.planta.client).subscribe(function (res) {
            _this.empresa = res.detail.name;
            console.log(res);
        }, function (err) {
            console.error(err);
        });
    };
    ViewlineComponent.prototype.getLine = function () {
        var _this = this;
        this.planta.lines.forEach(function (el) {
            if (el._id == _this.id_l) {
                _this.line = el;
            }
        });
        this.nombre = this.line.name;
        this.ncorto = this.line.shortname;
        this.desc = this.line.desc;
        this.load = false;
    };
    ViewlineComponent.prototype.regresar = function () {
        this.router.navigateByUrl('equipos/lineas/' + this.id_p);
    };
    ViewlineComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewline',
            template: __webpack_require__(/*! ./viewline.component.html */ "./src/app/lineas-components/viewline/viewline.component.html"),
            styles: [__webpack_require__(/*! ./viewline.component.css */ "./src/app/lineas-components/viewline/viewline.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"]])
    ], ViewlineComponent);
    return ViewlineComponent;
}());



/***/ }),

/***/ "./src/app/login/login.component.css":
/*!*******************************************!*\
  !*** ./src/app/login/login.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".pad{\r\n    margin-top: 90px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFke1xyXG4gICAgbWFyZ2luLXRvcDogOTBweDtcclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container pad\">\r\n  <div class=\"row\" *ngIf=\"!load\">\r\n    <div class=\"col-sm-12 col-md-4 offset-md-4  centrado-porcentual\">\r\n      <div class=\"card \">\r\n        <div class=\"card-body\">\r\n          <img src=\"assets/logo.png\" alt=\"\" srcset=\"\" class=\"img-fluid\">\r\n          <form [formGroup]=\"logForm\" (ngSubmit)=\"login()\">\r\n            <div class=\"form-group\">\r\n              <label for=\"nu\">Nombre de usuario</label>\r\n              <input  type=\"text\" class=\"form-control form-control-sm\" id=\"nu\" placeholder=\"Nombre de usuario\" formControlName=\"usr\"> \r\n              <div *ngIf=\"logForm.get('usr').errors&&logForm.get('usr').dirty\">\r\n                <p *ngIf=\"logForm.get('usr').hasError('required')\" class=\"text-danger\">El nombre de usuario es requerido</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"pass\">Contraseña</label>\r\n              <input  type=\"password\" class=\"form-control form-control-sm\" id=\"pass\" placeholder=\"Contraseña\" formControlName=\"pwd\">\r\n              <div *ngIf=\"logForm.get('pwd').errors&&logForm.get('pwd').dirty\">\r\n                <p *ngIf=\"logForm.get('pwd').hasError('required')\" class=\"text-danger\">La contraseña es requerida</p>\r\n              </div>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"logForm.invalid\">Entrar</button>\r\n            <p class=\"text-justify text-danger\" *ngIf=\"faillog\">\r\n              Usuario o contraseña incorrectos, \r\n              si la falla sigue contacte a los administradores\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" *ngIf=\"load\">\r\n    <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_login_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/login.service */ "./src/app/services/login.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");






var LoginComponent = /** @class */ (function () {
    function LoginComponent(loginService, router, auth, fb) {
        this.loginService = loginService;
        this.router = router;
        this.auth = auth;
        this.fb = fb;
        this.load = false;
        this.faillog = false;
        this.logForm = this.fb.group({
            usr: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            pwd: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]]
        });
    }
    LoginComponent.prototype.ngOnInit = function () {
        if (this.auth.isLoged()) {
            this.router.navigate(["inicio"]);
        }
    };
    LoginComponent.prototype.login = function () {
        var _this = this;
        this.load = true;
        this.loginService.login(this.logForm.value.usr, this.logForm.value.pwd).subscribe(function (res) {
            _this.setSession(res);
        }, function (err) {
            console.log(err);
        });
    };
    ;
    LoginComponent.prototype.setSession = function (res) {
        if (res.authorized) {
            sessionStorage.setItem("detalle", JSON.stringify(res.detail));
            this.faillog = false;
            this.router.navigate(['inicio']);
        }
        else {
            this.faillog = true;
            this.load = false;
        }
    };
    LoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/login/login.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_login_service__WEBPACK_IMPORTED_MODULE_2__["LoginService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/plantas-components/add-planta/add-planta.component.css":
/*!************************************************************************!*\
  !*** ./src/app/plantas-components/add-planta/add-planta.component.css ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".bot1{\r\n    margin-left: 30px;\r\n}\r\n.pad1{\r\n    padding-bottom: 15px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxhbnRhcy1jb21wb25lbnRzL2FkZC1wbGFudGEvYWRkLXBsYW50YS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxvQkFBb0I7QUFDeEIiLCJmaWxlIjoic3JjL2FwcC9wbGFudGFzLWNvbXBvbmVudHMvYWRkLXBsYW50YS9hZGQtcGxhbnRhLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm90MXtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG59XHJcbi5wYWQxe1xyXG4gICAgcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/plantas-components/add-planta/add-planta.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/plantas-components/add-planta/add-planta.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n<div class=\"row\"> \r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">Agregar planta</h5>\r\n            </div>\r\n            <form class=\"container\"  [formGroup]=\"plantaForm\" (ngSubmit)=\"save()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"client\"><span class=\"text-danger\">*</span>Nombre del cliente</label>\r\n                      <select id=\"client\" class=\"form-control form-control-sm\" formControlName=\"client\">\r\n                        <option *ngFor=\"let c of clients\" value=\"{{c._id}}\">{{c.name}}</option>\r\n                      </select>\r\n                      <div *ngIf=\"plantaForm.get('client').errors&&plantaForm.get('client').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('client').hasError('required')\" class=\"text-danger\">Seleccione un cliente</p>\r\n                      </div>\r\n                    </div>\r\n                  </div> \r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name\"><span class=\"text-danger\">*</span>Nombre de planta</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"name\" placeholder=\"Nombre de la planta\" formControlName=\"name\">\r\n                      <div *ngIf=\"plantaForm.get('name').errors&&plantaForm.get('name').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('name').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"code\"><span class=\"text-danger\">*</span>Nombre corto</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"code\" placeholder=\"Nombre corto de planta\" formControlName=\"code\">\r\n                      <div *ngIf=\"plantaForm.get('code').errors&&plantaForm.get('code').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('code').hasError('required')\" class=\"text-danger\">El nombre corto es requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h4 class=\"card-subtitle\">Información de contacto en la planta</h4>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"eName\"><span class=\"text-danger\">*</span>Nombre</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"eName\" placeholder=\"Nombre\" formControlName=\"ename\">\r\n                      <div *ngIf=\"plantaForm.get('ename').errors&&plantaForm.get('ename').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('ename').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"Email\"><span class=\"text-danger\">*</span>Email</label>\r\n                      <input type=\"email\" class=\"form-control form-control-sm\" id=\"Email\" placeholder=\"Correo\" formControlName=\"email\">\r\n                      <div *ngIf=\"plantaForm.get('email').errors&&plantaForm.get('email').dirty\">\r\n                        <p *ngIf=\"plantaForm.get('email').hasError('required')\" class=\"text-danger\">El email es requerido</p>\r\n                        <p *ngIf=\"plantaForm.get('email').hasError('email')\" class=\"text-danger\">Debe tener formato de email</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"Phone\"><span class=\"text-danger\">*</span>Télefono</label>\r\n                        <input type=\"tel\" class=\"form-control form-control-sm\" id=\"Phone\" placeholder=\"Télefono\" formControlName=\"phone\">\r\n                        <div *ngIf=\"plantaForm.get('phone').errors&&plantaForm.get('phone').dirty\">\r\n                          <p *ngIf=\"plantaForm.get('phone').hasError('required')\" class=\"text-danger\">El telefono es requerido</p>\r\n                          <p *ngIf=\"plantaForm.get('phone').hasError('minlength')\" class=\"text-danger\">Debe tener minimo 10 digitos</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-4\">\r\n                      <div class=\"pad1 w-100\">\r\n                          <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                      <div class=\"pad1 w-100\">\r\n                          <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"plantaForm.invalid\">Guardar</button>                    \r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\" *ngIf=\"saving\">\r\n                  <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/plantas-components/add-planta/add-planta.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/plantas-components/add-planta/add-planta.component.ts ***!
  \***********************************************************************/
/*! exports provided: AddPlantaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddPlantaComponent", function() { return AddPlantaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");









var AddPlantaComponent = /** @class */ (function () {
    function AddPlantaComponent(fb, router, clientes, plantas, auth, location, alert) {
        this.fb = fb;
        this.router = router;
        this.clientes = clientes;
        this.plantas = plantas;
        this.auth = auth;
        this.location = location;
        this.alert = alert;
        this.saving = false;
        this.temp = [];
        this.plantaForm = fb.group({
            client: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            code: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            ename: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required]],
            email: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].email]],
            phone: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].minLength(10)]],
        });
    }
    AddPlantaComponent.prototype.ngOnInit = function () {
        this.getNameC();
    };
    AddPlantaComponent.prototype.getNameC = function () {
        var _this = this;
        this.clientes.get().subscribe(function (res) {
            _this.clients = res.detail;
            //this.selec2data=this.genObservable(this.genArrayList());
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    AddPlantaComponent.prototype.regresar = function () {
        this.location.back();
    };
    /*
    genArrayList():Select2OptionData[]{
      this.clients.forEach(el => {
        this.temp.push({id : el._id+'', text : el.name});
      });
      return this.temp;
    }
  
    genObservable(arr:Select2OptionData[]):Observable<Array<Select2OptionData>> {
      return Observable.create((obs) => {
        obs.next(arr);
        obs.complete();
      });
    }
    */
    AddPlantaComponent.prototype.save = function () {
        var _this = this;
        this.saving = true;
        var temp = this.plantaForm.value;
        var nPlant = {
            'client': temp.client,
            'name': temp.name,
            'code': temp.code,
            'boss': {
                'name': temp.ename,
                'email': temp.email,
                'phone': temp.phone
            },
            "meta": {
                "registred_by": this.auth.getId()
            }
        };
        this.plantas.crear(nPlant).subscribe(function (res) {
            _this.saving = false;
            _this.alert.success("La planta fue exitosamente registrada, serás redirigido en unos segundos.");
            setTimeout(function () {
                _this.regresar();
            }, 4000);
        }, function (err) {
            _this.saving = false;
            _this.alert.error("Error durante el registro");
            console.log(err);
        });
    };
    AddPlantaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-add-planta',
            template: __webpack_require__(/*! ./add-planta.component.html */ "./src/app/plantas-components/add-planta/add-planta.component.html"),
            styles: [__webpack_require__(/*! ./add-planta.component.css */ "./src/app/plantas-components/add-planta/add-planta.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_6__["EmpresasService"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_8__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"]])
    ], AddPlantaComponent);
    return AddPlantaComponent;
}());



/***/ }),

/***/ "./src/app/plantas-components/plantas/plantas.component.css":
/*!******************************************************************!*\
  !*** ./src/app/plantas-components/plantas/plantas.component.css ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BsYW50YXMtY29tcG9uZW50cy9wbGFudGFzL3BsYW50YXMuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/plantas-components/plantas/plantas.component.html":
/*!*******************************************************************!*\
  !*** ./src/app/plantas-components/plantas/plantas.component.html ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Plantas registradas</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>  \r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Por cliente</h6>\r\n    </div>\r\n    <div class=\"col-3 text-right\">\r\n      <select id=\"inputState\" class=\"form-control form-control-sm\"  [(ngModel)]=\"id_cliente\" [ngModelOptions]=\"{standalone: true}\" (change)=\"loadPlants()\">\r\n        <option [selected]=\"true\" value=\"alls\">Todas las plantas</option>\r\n        <option *ngFor=\"let cliente of clientes\" value=\"{{cliente._id}}\">{{cliente.name}}</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <h6 class=\"text-left\">Buscar por nombre de planta</h6>\r\n    </div>\r\n    <div class=\"col-3 text-right\">\r\n      <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre de la planta\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12 text-right\">\r\n      <button class=\"btn btn-primary\" type=\"button\" (click)=\"newPlant()\">\r\n        Nueva planta\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <br>\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row text-center\"><!--asda-->\r\n      <div class=\"col-12\">\r\n          <table class=\"table table-striped\" *ngIf=\"!vacio()\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Nombre</th>\r\n                  <th scope=\"col\">Nombre corto</th>\r\n                  <th scope=\"col\">Jefe de planta</th>\r\n                  <th scope=\"col\">Email</th>\r\n                  <th scope=\"col\">#Líneas</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let pnt of planta\">\r\n                  <td scope=\"row\">{{pnt.name}}</td>\r\n                  <td>{{pnt.code}}</td>\r\n                  <td>{{pnt.boss.name}}</td>\r\n                  <td>{{pnt.boss.email}}</td>\r\n                  <td>{{pnt.lines.length}}</td>\r\n                  <td>\r\n                      <button mat-mini-fab class=\"bg-primary\" (click)=\"plantDet(pnt._id)\">\r\n                          <mat-icon>pageview</mat-icon>\r\n                      </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <h2 *ngIf=\"vacio()\">No existen plantas con los criterios de búsqueda</h2>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"!load\">\r\n    <div class=\"row\">\r\n      <p class=\"lead mx-auto\">CARGANDO</p>\r\n    </div>\r\n    <div class=\"row\">\r\n      <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n    </div>\r\n  </div>\r\n  <hr><hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/plantas-components/plantas/plantas.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/plantas-components/plantas/plantas.component.ts ***!
  \*****************************************************************/
/*! exports provided: PlantasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlantasComponent", function() { return PlantasComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_plantas_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");





var PlantasComponent = /** @class */ (function () {
    function PlantasComponent(router, plantas, empresas) {
        this.router = router;
        this.plantas = plantas;
        this.empresas = empresas;
        this.load = false;
    }
    PlantasComponent.prototype.ngOnInit = function () {
        this.getClients();
        this.loadAllPlants();
    };
    PlantasComponent.prototype.loadAllPlants = function () {
        var _this = this;
        this.plantas.getAll().subscribe(function (data) {
            _this.planta = data.detail;
            _this.load = true;
        }, function (err) {
            console.log(err);
        });
    };
    PlantasComponent.prototype.loadPlants = function () {
        var _this = this;
        if (this.id_cliente == "alls") {
            this.loadAllPlants();
        }
        else {
            this.plantas.getAllPlantas(this.id_cliente).subscribe(function (data) {
                _this.planta = data.detail;
                _this.load = true;
            }, function (err) {
                console.log(err);
            });
        }
    };
    PlantasComponent.prototype.vacio = function () {
        if (this.planta.length == 0) {
            return true;
        }
        else {
            return false;
        }
    };
    PlantasComponent.prototype.getClients = function () {
        var _this = this;
        this.empresas.get().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    PlantasComponent.prototype.plantDet = function (id) {
        this.router.navigateByUrl('equipos/plantas/' + id);
    };
    PlantasComponent.prototype.newPlant = function () {
        this.router.navigateByUrl('equipos/plantas/nueva/n');
    };
    PlantasComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadAllPlants();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.planta;
            this.planta = temp.filter(function (pln) { return pln.name.toLowerCase().match(regex); });
        }
    };
    PlantasComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-plantas',
            template: __webpack_require__(/*! ./plantas.component.html */ "./src/app/plantas-components/plantas/plantas.component.html"),
            styles: [__webpack_require__(/*! ./plantas.component.css */ "./src/app/plantas-components/plantas/plantas.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], _services_plantas_service__WEBPACK_IMPORTED_MODULE_2__["PlantasService"], src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"]])
    ], PlantasComponent);
    return PlantasComponent;
}());



/***/ }),

/***/ "./src/app/plantas-components/view-plantas/view-plantas.component.css":
/*!****************************************************************************!*\
  !*** ./src/app/plantas-components/view-plantas/view-plantas.component.css ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".bot1{\r\n    margin-left: 30px;\r\n}\r\n.pad1{\r\n    padding-bottom: 15px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGxhbnRhcy1jb21wb25lbnRzL3ZpZXctcGxhbnRhcy92aWV3LXBsYW50YXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksb0JBQW9CO0FBQ3hCIiwiZmlsZSI6InNyYy9hcHAvcGxhbnRhcy1jb21wb25lbnRzL3ZpZXctcGxhbnRhcy92aWV3LXBsYW50YXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3Qxe1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbn1cclxuLnBhZDF7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTVweDtcclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/plantas-components/view-plantas/view-plantas.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/plantas-components/view-plantas/view-plantas.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n\r\n  <div class=\"row\" *ngIf=\"!load\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">Ver planta</h5>\r\n                  <h6 class=\"card-subtitle mb-2 text-muted\">{{planta.name}} de {{empresa}}</h6>\r\n                  <ul>\r\n                      <li class=\"card-text\"><b>Registrado por: </b> {{reg_bystr}}</li>\r\n                      <li class=\"card-text\"><b>Dia de registro: </b> {{reg_date}}</li>\r\n                  </ul>\r\n              </div>\r\n              <form class=\"container\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"name\">Nombre de planta</label>\r\n                        <input type=\"text\" [(ngModel)]=\"nName\" class=\"form-control\" id=\"name\" placeholder=\"{{planta.name}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"code\">Nombre corto de planta</label>\r\n                        <input type=\"text\" [(ngModel)]=\"nCode\" class=\"form-control\" id=\"code\" placeholder=\"{{planta.code}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <h4 class=\"card-subtitle\">Información de contacto en la planta</h4>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"eName\">Nombre</label>\r\n                        <input type=\"text\" [(ngModel)]=\"neName\" class=\"form-control\" id=\"eName\" placeholder=\"{{planta.boss.name}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                        <label for=\"Email\">Email</label>\r\n                        <input type=\"email\" [(ngModel)]=\"nEmail\" class=\"form-control\" id=\"Email\" placeholder=\"{{planta.boss.email}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"Phone\">Télefono</label>\r\n                          <input type=\"tel\" [(ngModel)]=\"nPhone\" class=\"form-control\" id=\"Phone\" placeholder=\"{{planta.boss.phone}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                        </div>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                    <small class=\"text-danger\">***Campos disponibles para actualizar los datos de la planta***</small>\r\n                  </div>\r\n                  <div class=\"pad1\">\r\n                  </div>\r\n                  <div class=\"row pad1\">\r\n                    <div class=\"col\">\r\n                      <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <button type=\"submit\" class=\"btn btn-primary w-100\" (click)=\"updClick()\" [disabled]=\"enbuts()\">Actualizar</button>\r\n                    </div>\r\n                    <div class=\"col\"></div>\r\n                  </div>\r\n                  \r\n              </form>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"load\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <p class=\"lead mx-auto\">CARGANDO</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n      </div>\r\n    </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/plantas-components/view-plantas/view-plantas.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/plantas-components/view-plantas/view-plantas.component.ts ***!
  \***************************************************************************/
/*! exports provided: ViewPlantasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewPlantasComponent", function() { return ViewPlantasComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_plantas_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);









var ViewPlantasComponent = /** @class */ (function () {
    function ViewPlantasComponent(activatedRoute, router, plantas, usuarios, empresas, location, alert) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.plantas = plantas;
        this.usuarios = usuarios;
        this.empresas = empresas;
        this.location = location;
        this.alert = alert;
        this.reg_bystr = "";
        this.reg_date = "";
        this.empresa = "";
        this.nName = "";
        this.nCode = "";
        this.neName = "";
        this.nEmail = "";
        this.nPhone = "";
        this.actualizado = false;
        this.load = true;
        this.id = this.activatedRoute.snapshot.paramMap.get("id");
    }
    ViewPlantasComponent.prototype.ngOnInit = function () {
        this.getPlanta();
    };
    ViewPlantasComponent.prototype.getPlanta = function () {
        var _this = this;
        this.plantas.getPlanta(this.id).subscribe(function (res) {
            _this.planta = res.detail;
            _this.getEmpresa();
            _this.getName(_this.planta.meta.registred_by);
            _this.getDate(_this.planta.meta.registred_date);
            _this.load = false;
        }, function (err) {
            console.error(err);
        });
    };
    ViewPlantasComponent.prototype.getEmpresa = function () {
        var _this = this;
        this.empresas.getid(this.planta.client).subscribe(function (res) {
            _this.empresa = res.detail.name;
            console.log(res);
        }, function (err) {
            console.error(err);
        });
    };
    ViewPlantasComponent.prototype.enbuts = function () {
        if (this.nName != "" || this.nCode != "" || this.neName != "" || this.nEmail != "") {
            return false;
        }
        else {
            return true;
        }
    };
    ViewPlantasComponent.prototype.regresar = function () {
        this.location.back();
    };
    ViewPlantasComponent.prototype.getName = function (id) {
        var _this = this;
        this.usuarios.getUser(id).subscribe(function (res) {
            _this.reg_by = res.detail;
            _this.reg_bystr = _this.reg_by.info.name;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    ViewPlantasComponent.prototype.getDate = function (ut) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_8__(ut.replace('T', ' ').slice(0, 16)).locale('es');
        this.reg_date = registro.format('dddd, MMMM Do YYYY');
        this.reg_date = this.reg_date.charAt(0).toUpperCase() + this.reg_date.slice(1);
    };
    ViewPlantasComponent.prototype.updClick = function () {
        if (this.nName == "") {
            this.nName = this.planta.name;
        }
        if (this.nCode == "") {
            this.nCode = this.planta.code;
        }
        if (this.neName == "") {
            this.neName = this.planta.boss.name;
        }
        if (this.nEmail == "") {
            this.nEmail = this.planta.boss.email;
        }
        if (this.nPhone == "") {
            this.nPhone = this.planta.boss.phone;
        }
        this.actualizar(this.nName, this.nCode, this.neName, this.nEmail, this.nPhone);
    };
    ViewPlantasComponent.prototype.actualizar = function (n, c, ne, e, p) {
        var _this = this;
        var nPlant = {
            '_id': this.id,
            'name': n,
            'code': c,
            'boss': {
                'name': ne,
                'email': e,
                'phone': p
            }
        };
        this.alert.confirm("¿Actualizar el registro?", function () {
            _this.load = true;
            _this.plantas.updatePlanta(nPlant).subscribe(function (res) {
                _this.getPlanta();
                _this.nName = "";
                _this.nCode = "";
                _this.neName = "";
                _this.nEmail = "";
                _this.nPhone = "";
                _this.alert.success("Planta actualizada con éxito!");
                _this.load = false;
            }, function (err) {
                console.log(err);
                _this.alert.error("Error durante la actualización");
            });
        }, function () { _this.alert.error("Sin cambios en el registro"); });
    };
    ViewPlantasComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-view-plantas',
            template: __webpack_require__(/*! ./view-plantas.component.html */ "./src/app/plantas-components/view-plantas/view-plantas.component.html"),
            styles: [__webpack_require__(/*! ./view-plantas.component.css */ "./src/app/plantas-components/view-plantas/view-plantas.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_plantas_service__WEBPACK_IMPORTED_MODULE_3__["PlantasService"],
            _services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__["UsuariosService"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__["EmpresasService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"]])
    ], ViewPlantasComponent);
    return ViewPlantasComponent;
}());



/***/ }),

/***/ "./src/app/services/agreements.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/agreements.service.ts ***!
  \************************************************/
/*! exports provided: AgreementsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgreementsService", function() { return AgreementsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");




var AgreementsService = /** @class */ (function () {
    function AgreementsService(http) {
        this.http = http;
    }
    AgreementsService.prototype.saveContrato = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/savecontrato", data);
    };
    AgreementsService.prototype.getContratoById = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/getcontratobyid/" + id);
    };
    AgreementsService.prototype.getContratosByClient = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/getcontratobyclient/" + id);
    };
    AgreementsService.prototype.getContratosActivosByClient = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/getcontratosactivosbyclient/" + id);
    };
    AgreementsService.prototype.getContratos = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/getcontratos");
    };
    AgreementsService.prototype.getContratosActivos = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/getcontratosactivos");
    };
    AgreementsService.prototype.addEmg = function (id, data) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/addemg/" + id, data);
    };
    AgreementsService.prototype.vencer = function (id) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/vencer/" + id, {});
    };
    AgreementsService.prototype.restar = function (id, total) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_2__["link"] + "/agreements/restar/" + id, { total: total });
    };
    AgreementsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]])
    ], AgreementsService);
    return AgreementsService;
}());



/***/ }),

/***/ "./src/app/services/alert.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/alert.service.ts ***!
  \*******************************************/
/*! exports provided: AlertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertService", function() { return AlertService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var AlertService = /** @class */ (function () {
    function AlertService() {
        alertify.set('notifier', 'position', 'bottom-center');
    }
    AlertService.prototype.confirm = function (message, okCallback, cancelCallBack) {
        alertify.confirm("EMG.", '<p class="text-justify">' + message + '</p>', okCallback, cancelCallBack);
    };
    AlertService.prototype.alert = function (message) {
        alertify.alert("EMG.", '<p class="text-justify">' + message + '</p>');
    };
    AlertService.prototype.success = function (message) {
        alertify.success('<p class="text-justify">' + message + '</p>');
    };
    AlertService.prototype.error = function (message) {
        alertify.error('<p class="text-justify">' + message + '</p>');
    };
    AlertService.prototype.warning = function (message) {
        alertify.warning('<p class="text-justify">' + message + '</p>');
    };
    AlertService.prototype.message = function (message) {
        alertify.message('<p class="text-justify">' + message + '</p>');
    };
    AlertService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], AlertService);
    return AlertService;
}());



/***/ }),

/***/ "./src/app/services/app.settings.ts":
/*!******************************************!*\
  !*** ./src/app/services/app.settings.ts ***!
  \******************************************/
/*! exports provided: link */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "link", function() { return link; });
var link = '165.227.24.113:8080';


/***/ }),

/***/ "./src/app/services/auth.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/auth.service.ts ***!
  \******************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var AuthService = /** @class */ (function () {
    function AuthService() {
    }
    AuthService.prototype.isLoged = function () {
        if (!sessionStorage.length) {
            return false;
        }
        else {
            return true;
        }
    };
    AuthService.prototype.getId = function () {
        return JSON.parse(sessionStorage.getItem('detalle'))._id;
    };
    AuthService.prototype.getName = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).info.name;
    };
    AuthService.prototype.getUsername = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).username;
    };
    AuthService.prototype.getPassword = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).password;
    };
    AuthService.prototype.getEmail = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).info.email;
    };
    AuthService.prototype.getPermissions = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).permissions;
    };
    AuthService.prototype.getRole = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).role;
    };
    AuthService.prototype.getUser = function () {
        return JSON.parse(sessionStorage.getItem('detalle'));
    };
    AuthService.prototype.getEmpresaId = function () {
        return JSON.parse(sessionStorage.getItem('detalle')).cliente;
    };
    AuthService.prototype.closeSession = function () {
        sessionStorage.clear();
    };
    AuthService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/services/configuration.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/configuration.service.ts ***!
  \***************************************************/
/*! exports provided: ConfigurationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigurationService", function() { return ConfigurationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");




var ConfigurationService = /** @class */ (function () {
    function ConfigurationService(http) {
        this.http = http;
    }
    //Fecha configurations
    ConfigurationService.prototype.getFec = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/getfech");
    };
    ConfigurationService.prototype.setFec = function () {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/setfech", {});
    };
    ConfigurationService.prototype.changeFec = function (data) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/changefech", data);
    };
    //Tipos de mantenimiento configurations
    ConfigurationService.prototype.getTipos = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/getst");
    };
    ConfigurationService.prototype.saveTipo = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/savest", data);
    };
    ConfigurationService.prototype.deleteTipo = function (id) {
        return this.http.delete("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/delst/" + id);
    };
    ConfigurationService.prototype.actualizarTipo = function (id) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/actst/" + id, {});
    };
    ConfigurationService.prototype.existeTipo = function (name) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/config/extst/" + name);
    };
    ConfigurationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], ConfigurationService);
    return ConfigurationService;
}());



/***/ }),

/***/ "./src/app/services/emgs.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/emgs.service.ts ***!
  \******************************************/
/*! exports provided: EmgsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmgsService", function() { return EmgsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");





var EmgsService = /** @class */ (function () {
    function EmgsService(http) {
        this.http = http;
    }
    EmgsService.prototype.getAll = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/getall");
    };
    EmgsService.prototype.getByClient = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/getbyclient/" + id);
    };
    EmgsService.prototype.getByPlant = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/getbyplant/" + id);
    };
    EmgsService.prototype.getByLine = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/getbyline/" + id);
    };
    EmgsService.prototype.getByPlantAndLine = function (id_p, id_l) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/getbyplantandline/" + id_p + "/" + id_l);
    };
    EmgsService.prototype.create = function (nuevo) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/create", nuevo);
    };
    EmgsService.prototype.genEmg = function (id) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/genqr/" + id, {});
    };
    EmgsService.prototype.getById = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/getbyid/" + id);
    };
    EmgsService.prototype.actDes = function (id, stat) {
        if (stat) {
            return this.http.patch("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/disable/" + id, { 'Content-Type': 'application/json' });
        }
        else {
            return this.http.patch("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/emg/enable/" + id, { 'Content-Type': 'application/json' });
        }
    };
    EmgsService.prototype.getPdf = function (data) {
        var mediaType = 'application/pdf';
        this.http.post('http://18.189.206.61:5488/api/report', data, { responseType: 'blob' }).subscribe(function (response) {
            var blob = new Blob([response], { type: mediaType });
            Object(file_saver__WEBPACK_IMPORTED_MODULE_3__["saveAs"])(blob, 'ficha_emg.pdf');
        }, function (e) { console.error(e); });
    };
    EmgsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], EmgsService);
    return EmgsService;
}());



/***/ }),

/***/ "./src/app/services/empresas.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/empresas.service.ts ***!
  \**********************************************/
/*! exports provided: EmpresasService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmpresasService", function() { return EmpresasService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");




var EmpresasService = /** @class */ (function () {
    function EmpresasService(http) {
        this.http = http;
    }
    //Get all
    EmpresasService.prototype.get = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/client/get");
    };
    //save
    EmpresasService.prototype.save = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/client/save", data);
    };
    //enable
    EmpresasService.prototype.enable = function (id) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/client/enable/" + id, {});
    };
    //disable
    EmpresasService.prototype.disable = function (id) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/client/disable/" + id, {});
    };
    //getClient
    EmpresasService.prototype.getid = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/client/get/" + id);
    };
    EmpresasService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], EmpresasService);
    return EmpresasService;
}());



/***/ }),

/***/ "./src/app/services/login.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/login.service.ts ***!
  \*******************************************/
/*! exports provided: LoginService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginService", function() { return LoginService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");





var LoginService = /** @class */ (function () {
    function LoginService(http) {
        this.http = http;
        this.httpOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                'Content-Type': 'application/json'
            })
        };
    }
    LoginService.prototype.login = function (user, pass) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/login", {
            username: user,
            password: pass
        }, this.httpOptions);
    };
    LoginService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], LoginService);
    return LoginService;
}());



/***/ }),

/***/ "./src/app/services/plantas.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/plantas.service.ts ***!
  \*********************************************/
/*! exports provided: PlantasService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlantasService", function() { return PlantasService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");




var PlantasService = /** @class */ (function () {
    function PlantasService(http) {
        this.http = http;
    }
    PlantasService.prototype.getAllPlantas = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/plant/getplants/" + id);
    };
    PlantasService.prototype.getAll = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/plant/getall");
    };
    PlantasService.prototype.getPlanta = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/plant/getplant/" + id);
    };
    PlantasService.prototype.updatePlanta = function (plant) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/plant/update", plant);
    };
    PlantasService.prototype.crear = function (plant) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/plant/create", plant);
    };
    PlantasService.prototype.addLinea = function (line, id_p) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/plant/addline/" + id_p, line);
    };
    PlantasService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], PlantasService);
    return PlantasService;
}());



/***/ }),

/***/ "./src/app/services/prices.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/prices.service.ts ***!
  \********************************************/
/*! exports provided: PricesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PricesService", function() { return PricesService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");




var PricesService = /** @class */ (function () {
    function PricesService(http) {
        this.http = http;
    }
    PricesService.prototype.getIva = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/iva/getiva");
    };
    PricesService.prototype.saveIva = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/iva/saveiva", data);
    };
    PricesService.prototype.getUnitprice = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/unitprice/getunitprice");
    };
    PricesService.prototype.saveUnitprice = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/unitprice/saveunitprice", data);
    };
    PricesService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], PricesService);
    return PricesService;
}());



/***/ }),

/***/ "./src/app/services/servicios.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/servicios.service.ts ***!
  \***********************************************/
/*! exports provided: ServiciosService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiciosService", function() { return ServiciosService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js");
/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");





var ServiciosService = /** @class */ (function () {
    function ServiciosService(http) {
        this.http = http;
    }
    ServiciosService.prototype.getAll = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/getall");
    };
    ServiciosService.prototype.save = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/create", data);
    };
    ServiciosService.prototype.getByTec = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/getbytec/" + id);
    };
    ServiciosService.prototype.getByContrato = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/bycontrato/" + id);
    };
    ServiciosService.prototype.getByEmg = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/getbyemg/" + id);
    };
    ServiciosService.prototype.getByClient = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/getbyclient/" + id);
    };
    ServiciosService.prototype.getById = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/getbyid/" + id);
    };
    ServiciosService.prototype.start = function (id) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/start/" + id, {});
    };
    ServiciosService.prototype.finish = function (id, data) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/finish/" + id, data);
    };
    ServiciosService.prototype.asigTec = function (id_s, id_t, date) {
        return this.http.patch("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/asigtec/" + id_s + "/" + id_t, { "date": date });
    };
    ServiciosService.prototype.getPdf = function (data, title) {
        var mediaType = 'application/pdf';
        this.http.post('http://18.189.206.61:5488/api/report', data, { responseType: 'blob' }).subscribe(function (response) {
            var blob = new Blob([response], { type: mediaType });
            Object(file_saver__WEBPACK_IMPORTED_MODULE_3__["saveAs"])(blob, title + ".pdf");
        }, function (e) { console.error(e); });
    };
    //Send correos
    /*
    solicitar
    programar
    asignar
    */
    ServiciosService.prototype.emailSolicitar = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/emailsolicitarservicio", data);
    };
    ServiciosService.prototype.emailProgramar = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/emailprogramarservicio", data);
    };
    ServiciosService.prototype.emailAsignar = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_4__["link"] + "/service/emailasignarservicio", data);
    };
    ServiciosService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], ServiciosService);
    return ServiciosService;
}());



/***/ }),

/***/ "./src/app/services/usuarios.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/usuarios.service.ts ***!
  \**********************************************/
/*! exports provided: UsuariosService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsuariosService", function() { return UsuariosService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_settings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.settings */ "./src/app/services/app.settings.ts");




var UsuariosService = /** @class */ (function () {
    function UsuariosService(http) {
        this.http = http;
    }
    UsuariosService.prototype.getAllUsers = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/getall");
    };
    UsuariosService.prototype.getUser = function (id) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/getbyid/" + id);
    };
    UsuariosService.prototype.updateUser = function (user) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/update", user);
    };
    UsuariosService.prototype.actDes = function (id, stat) {
        if (stat) {
            return this.http.patch("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/disable/" + id, { 'Content-Type': 'application/json' });
        }
        else {
            return this.http.patch("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/enable/" + id, { 'Content-Type': 'application/json' });
        }
    };
    UsuariosService.prototype.newUser = function (user) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/create/", user);
    };
    UsuariosService.prototype.sendMailNewUser = function (data) {
        return this.http.post("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/newUserEmail", data);
    };
    UsuariosService.prototype.userExists = function (u) {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/existe/" + u);
    };
    UsuariosService.prototype.getAllClients = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/getclients");
    };
    UsuariosService.prototype.gettec = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/gettec");
    };
    UsuariosService.prototype.getAdmin = function () {
        return this.http.get("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/getadmin");
    };
    UsuariosService.prototype.updatePass = function (user) {
        return this.http.put("http://" + _app_settings__WEBPACK_IMPORTED_MODULE_3__["link"] + "/user/updatepass", user);
    };
    UsuariosService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], UsuariosService);
    return UsuariosService;
}());



/***/ }),

/***/ "./src/app/servicios-component/addservicio/addservicio.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/servicios-component/addservicio/addservicio.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".bor { \r\n    border: 1px;\r\n    border-style: solid;\r\n    border-color: rgb(191, 193, 196);\r\n    border-radius: 5px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VydmljaW9zLWNvbXBvbmVudC9hZGRzZXJ2aWNpby9hZGRzZXJ2aWNpby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLG1CQUFtQjtJQUNuQixnQ0FBZ0M7SUFDaEMsa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InNyYy9hcHAvc2VydmljaW9zLWNvbXBvbmVudC9hZGRzZXJ2aWNpby9hZGRzZXJ2aWNpby5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvciB7IFxyXG4gICAgYm9yZGVyOiAxcHg7XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgYm9yZGVyLWNvbG9yOiByZ2IoMTkxLCAxOTMsIDE5Nik7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/servicios-component/addservicio/addservicio.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/servicios-component/addservicio/addservicio.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\"> \r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Programar servicio a equipo EMG</h5>\r\n          <br>\r\n          <div class=\"accordion bor\" id=\"filtros\">\r\n            <div class=\"bg-light\">\r\n              <div class=\"\" id=\"headingOne\">\r\n                <h2 class=\"mb-0\">\r\n                  <button class=\"btn btn-link\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\r\n                    Filtrar equipos y contratos\r\n                  </button>\r\n                </h2>\r\n              </div>\r\n              <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#filtros\">\r\n                <div class=\"card-body\">\r\n                  <form>\r\n                    <div class=\"row\">\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"cliente\">Empresa</label>\r\n                          <select class=\"form-control form-control-sm\" id=\"cliente\" (change)=\"loadPlants()\" [(ngModel)]=\"empresa\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"empresaB\">\r\n                            <option *ngFor=\"let emp of empresas\" value=\"{{emp._id}}\">{{emp.name}}</option>\r\n                          </select> \r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"planta\">Planta <small class=\"text-muted\">seleccione primero cliente</small></label>\r\n                          <select class=\"form-control form-control-sm\" id=\"planta\" (change)=\"loadLines()\" [(ngModel)]=\"planta\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"plantaB\">\r\n                            <option *ngFor=\"let plant of plants\" value=\"{{plant._id}}\">{{plant.name}}</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"linea\">Línea <small class=\"text-muted\">seleccione primero cliente y planta</small></label>\r\n                          <select class=\"form-control form-control-sm\" id=\"linea\" (change)=\"loadEmgsF()\" [(ngModel)]=\"linea\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"lineaB\">\r\n                            <option *ngFor=\"let line of lines\" value=\"{{line._id}}\">{{line.name}}</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <hr>\r\n          <form [formGroup]=\"serviciosForm\" (ngSubmit)=\"save()\">\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Asignación de Contrato, equipo EMG y Técnico</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"emg\"><span class=\"text-danger\">*</span>Equipo EMG</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"emg\" formControlName=\"emg\" (change)=\"contratosByClient()\">\r\n                    <option *ngFor=\"let emg of emgs\" value=\"{{emg._id}}\">{{emg.info.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('emg').errors&&serviciosForm.get('emg').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('emg').hasError('required')\" class=\"text-danger\">El equipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"tecnico\"><span class=\"text-danger\">*</span>Técnico a asignar</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"tecnico\" formControlName=\"tecnico\">\r\n                    <option *ngFor=\"let tecnico of tecnicos\" value=\"{{tecnico._id}}\">{{tecnico.info.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('tecnico').errors&&serviciosForm.get('tecnico').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('tecnico').hasError('required')\" class=\"text-danger\">El tecnico es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"agreement\"><span class=\"text-danger\">*</span>Contrato</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"agreement\" formControlName=\"agreement\">\r\n                    <option *ngFor=\"let contrato of contratos\" value=\"{{contrato._id}}\">{{contrato.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('agreement').errors&&serviciosForm.get('agreement').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('agreement').hasError('required')\" class=\"text-danger\">El equipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Información del servicio requerido</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"type\"><span class=\"text-danger\">*</span>Tipo de servicio</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"type\" formControlName=\"type\">\r\n                    <option *ngFor=\"let tipo of tipos\" value=\"{{tipo.name}}\">{{tipo.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('type').errors&&serviciosForm.get('type').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('type').hasError('required')\" class=\"text-danger\">El tipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"date\"><span class=\"text-danger\">*</span>Fecha y hora</label>\r\n                  <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"date\" formControlName=\"date\" min=\"{{minDate}}\">\r\n                </div>\r\n                <div *ngIf=\"serviciosForm.get('date').errors&&serviciosForm.get('date').dirty\">\r\n                  <p *ngIf=\"serviciosForm.get('date').hasError('required')\" class=\"text-danger\">La fecha es requerido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Descripción\"><span class=\"text-danger\">*</span>Descripción a detalle del servico</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"Descripción\" formControlName=\"desc\">\r\n                  <div *ngIf=\"serviciosForm.get('desc').errors&&serviciosForm.get('desc').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <br><br>\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"serviciosForm.invalid\">Programar</button>                    \r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <small class=\"text-muted\" *ngIf=\"!msg\">Al solicitar un servicio se enviará un correo al cliente y al técnico para notificarles que se les asignó un servicio.</small>\r\n                    <h5 class=\"text-info\" *ngIf=\"msg\">SERVICIO PROGRAMADO</h5>\r\n                    <h5 class=\"text-danger\" *ngIf=\"msgErr\">ERROR DURANTE REGISTRO</h5>\r\n                </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/servicios-component/addservicio/addservicio.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/servicios-component/addservicio/addservicio.component.ts ***!
  \**************************************************************************/
/*! exports provided: AddservicioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddservicioComponent", function() { return AddservicioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var src_app_services_configuration_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_13__);














var AddservicioComponent = /** @class */ (function () {
    function AddservicioComponent(fb, userServices, emgServices, serviciosService, configServices, agreementsServices, empresaService, plantsService, auth, location, alert) {
        this.fb = fb;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.configServices = configServices;
        this.agreementsServices = agreementsServices;
        this.empresaService = empresaService;
        this.plantsService = plantsService;
        this.auth = auth;
        this.location = location;
        this.alert = alert;
        this.empresa = "";
        this.planta = "";
        this.linea = "";
        this.empresaB = true;
        this.plantaB = true;
        this.lineaB = true;
        this.serviciosForm = fb.group({
            emg: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            tecnico: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            type: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            date: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            agreement: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]]
        });
        this.fecExiste();
    }
    AddservicioComponent.prototype.ngOnInit = function () {
        this.loadTecnicos();
        this.loadEmgs();
        this.loadClients();
        this.getTipos();
        this.getContratos();
        this.getEmpresas();
    };
    AddservicioComponent.prototype.getTipos = function () {
        var _this = this;
        this.configServices.getTipos().subscribe(function (res) {
            _this.tipos = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    AddservicioComponent.prototype.fecExiste = function () {
        var _this = this;
        this.configServices.getFec().subscribe(function (res) {
            if (res.detail === null) {
                _this.configServices.setFec().subscribe(function (res) { console.log(res); }, function (err) { });
                _this.getMinDate(false);
            }
            else {
                _this.getMinDate(res.detail.value);
            }
        }, function (err) {
            console.log(err);
        });
    };
    AddservicioComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.loadClients = function () {
        var _this = this;
        this.userServices.getAllClients().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.getClientId = function () {
        var _this = this;
        var temp = this.serviciosForm.value.emg;
        this.emgs.forEach(function (emg) {
            if (emg._id == temp) {
                _this.emg_c_id = emg.client;
            }
        });
    };
    AddservicioComponent.prototype.getTecName = function (tecid) {
        this.tecnicos.forEach(function (e) {
            if (tecid == e._id) {
                return e.info.name;
            }
        });
    };
    /*
    0. Solicitado por cliente(Falta asignar tecnico)
    1. Programado
    2. En proceso
    3. Realizado
    */
    AddservicioComponent.prototype.save = function () {
        var _this = this;
        this.getClientId();
        var temp = this.serviciosForm.value;
        temp.status = 1;
        temp.client = this.emg_c_id;
        temp.requested_by = this.auth.getId();
        this.getEmailData(temp.client, temp.tecnico);
        this.serviciosService.save(temp).subscribe(function (res) {
            _this.alert.success("Servicio programado correctamente, se enviaron correos a los actores implicados en este servicio. Seras redirigido en unos segundos");
            _this.serviciosService.emailProgramar({
                "email_tecnico": _this.tec_email,
                "email_cliente": _this.cli_email,
                "nameTec": _this.tec_name,
                "nameCli": _this.cli_name,
                "date": _this.getDate(temp.date),
                "id": res.detail._id.substring(res.detail._id.length - 10, res.detail._id.length)
            }).subscribe(function (res) {
                console.log(res);
            }, function (err) {
                console.error(err);
            });
            setTimeout(function () {
                _this.regresar();
            }, 3000);
        }, function (err) {
            _this.alert.error("Error durante el registro.");
            setTimeout(function () {
                _this.regresar();
            }, 3000);
        });
    };
    AddservicioComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_13__(date.replace('T', ' ').slice(0, 16)).locale('es');
        return registro.format('dddd, MMMM Do YYYY, h:mm a');
    };
    AddservicioComponent.prototype.getEmailData = function (idc, idt) {
        var _this = this;
        this.clientes.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idc == e._id) {
                    this.cli_email = e.info.email;
                    this.cli_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
        this.tecnicos.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idt == e._id) {
                    this.tec_email = e.info.email;
                    this.tec_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
    };
    AddservicioComponent.prototype.regresar = function () {
        this.location.back();
    };
    AddservicioComponent.prototype.getMinDate = function (fa) {
        var date = new Date();
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        if (fa) {
            this.minDate = '';
        }
        else {
            if (month < 10) {
                this.minDate = year + "-0" + month + "-" + day + "T00:00";
            }
            else {
                this.minDate = year + "-" + month + "-" + day + "T00:00";
            }
        }
    };
    AddservicioComponent.prototype.getContratos = function () {
        var _this = this;
        this.agreementsServices.getContratosActivos().subscribe(function (res) {
            _this.contratos = res.detail;
            if (res.detail.length == 0) {
                _this.alert.alert('No existe ningun contrato dentro del registro, por favor primero generar un contrato para poder solicitar un servicio. Puedes crear un contrato en menú de Contratos > Nuevo Contrato.');
            }
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.contratosByClient = function () {
        /*this.agreementsServices.getContratosActivosByClient(this.emgs.find( e => e._id == this.serviciosForm.value.emg).client).subscribe(
          res => {
            this.contratos = res.detail;
            if(res.detail.length == 0){
              this.alert.alert('No existe ningun asignado a este cliente dueño de este equipo, por favor primero generar un contrato para poder solicitar un servicio. Puedes crear un contrato en menú de Contratos > Nuevo Contrato.');
            }
          },err => {
            console.error(err);
          }
        );*/
    };
    AddservicioComponent.prototype.getEmpresas = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            if (res.detail.length === 0) {
                _this.empresaB = true;
            }
            else {
                _this.empresaB = false;
                _this.empresas = res.detail;
                _this.plants = [];
                _this.lines = [];
            }
            console.log(res);
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.loadPlants = function () {
        var _this = this;
        this.plantsService.getAllPlantas(this.empresa).subscribe(function (res) {
            if (res.detail.length === 0) {
                _this.plantaB = true;
            }
            else {
                _this.plantaB = false;
                _this.plants = res.detail;
                _this.lines = [];
            }
            _this.loadContratosId();
        }, function (err) {
            console.log(err);
        });
    };
    AddservicioComponent.prototype.loadLines = function () {
        var _this = this;
        this.plants.forEach(function (el) {
            if (el._id == _this.planta) {
                if (el.lines.length === 0) {
                    _this.lineaB = true;
                }
                else {
                    _this.lineaB = false;
                    _this.lines = el.lines;
                }
            }
        });
    };
    AddservicioComponent.prototype.loadEmgsF = function () {
        var _this = this;
        this.emgServices.getByPlantAndLine(this.planta, this.linea).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.loadContratosId = function () {
        var _this = this;
        this.agreementsServices.getContratosActivosByClient(this.empresa).subscribe(function (res) {
            _this.contratos = res.detail;
            if (res.detail.length == 0) {
                _this.alert.alert('No existe ningun contrato dentro del registro con estos parámetros de búsqueda, por favor primero generar un contrato para poder solicitar un servicio. Puedes crear un contrato en menú de Contratos > Nuevo Contrato.');
            }
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioComponent.prototype.gotoAgreements = function () {
        console.log("asi si");
    };
    AddservicioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-addservicio',
            template: __webpack_require__(/*! ./addservicio.component.html */ "./src/app/servicios-component/addservicio/addservicio.component.html"),
            styles: [__webpack_require__(/*! ./addservicio.component.css */ "./src/app/servicios-component/addservicio/addservicio.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__["EmgsService"], src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_5__["ServiciosService"],
            src_app_services_configuration_service__WEBPACK_IMPORTED_MODULE_6__["ConfigurationService"],
            src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_7__["AgreementsService"], src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_8__["EmpresasService"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_9__["PlantasService"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_10__["AuthService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"], src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_11__["AlertService"]])
    ], AddservicioComponent);
    return AddservicioComponent;
}());



/***/ }),

/***/ "./src/app/servicios-component/servicios/servicios.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/servicios-component/servicios/servicios.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlcnZpY2lvcy1jb21wb25lbnQvc2VydmljaW9zL3NlcnZpY2lvcy5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/servicios-component/servicios/servicios.component.html":
/*!************************************************************************!*\
  !*** ./src/app/servicios-component/servicios/servicios.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver servicios registrados</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Por técnico</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_tec\" [ngModelOptions]=\"{standalone: true}\" (change)=\"findByTec()\">\r\n            <option value=\"todos\">Ver todos</option>\r\n            <option *ngFor=\"let tecnico of tecnicos\" value=\"{{tecnico._id}}\">{{tecnico.info.name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Por equipo</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_emg\" [ngModelOptions]=\"{standalone: true}\" (change)=\"findByEmg()\">\r\n            <option value=\"todos\">Ver todos</option>\r\n            <option *ngFor=\"let emg of emgs\" value=\"{{emg._id}}\">{{emg.info.name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Buscar por id</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Id del servicio\" [(ngModel)]=\"busqById\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaById()\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\"></div>\r\n    <div class=\"col text-right\">\r\n      <button class=\"btn btn-primary\" (click)=\"gotoNew()\">Programar nuevo servicio</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div class=\"row text-center\">\r\n        <div class=\"col-12\">\r\n          <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\">Id</th>\r\n                  <th scope=\"col\">Equipo</th>\r\n                  <th scope=\"col\">Técnico</th>\r\n                  <th scope=\"col\">Fecha programada</th>\r\n                  <th scope=\"col\">Estatus</th>\r\n                  <th scope=\"col\">Calificación</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let servicio of servicios\">\r\n                  <td scope=\"row\">{{getId(servicio._id)}}</td>\r\n                  <td>{{getEmg(servicio.emg)}}</td>\r\n                  <td>{{getTecnico(servicio.tecnico)}}</td>\r\n                  <td>{{getDate(servicio.date)}}</td>\r\n                  <td>{{getStatus(servicio.status)}}</td>\r\n                  <td>{{getScore(servicio.score,servicio.status)}}</td>\r\n                  <td>\r\n                    <button mat-mini-fab class=\"bg-primary\" (click)=\"viewService(servicio._id)\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Ver detalle\">\r\n                        <mat-icon>pageview</mat-icon>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <br>\r\n          <hr>\r\n          <br>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <div class=\"row\">\r\n    <p class=\"lead mx-auto\">\r\n      CARGANDO\r\n    </p>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/servicios-component/servicios/servicios.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/servicios-component/servicios/servicios.component.ts ***!
  \**********************************************************************/
/*! exports provided: ServiciosComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiciosComponent", function() { return ServiciosComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);







var ServiciosComponent = /** @class */ (function () {
    function ServiciosComponent(userServices, emgServices, serviciosService, router) {
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.router = router;
        this.busqById = "";
        this.id_tec = "";
        this.id_emg = "";
        this.load = true;
    }
    ServiciosComponent.prototype.ngOnInit = function () {
        this.loadTecnicos();
        this.loadEmgs();
        this.loadServices();
    };
    ServiciosComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ServiciosComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ServiciosComponent.prototype.loadServices = function () {
        var _this = this;
        this.serviciosService.getAll().subscribe(function (res) {
            _this.servicios = res.detail;
            _this.load = false;
        }, function (err) {
            console.error(err);
        });
    };
    ServiciosComponent.prototype.getTecnico = function (id) {
        if (id == null) {
            return "Por asignar";
        }
        else {
            var n = this.tecnicos.find(function (tec) {
                return tec._id == id;
            });
            return n.info.name;
        }
    };
    ServiciosComponent.prototype.getEmg = function (id) {
        var n = this.emgs.find(function (tec) {
            return tec._id == id;
        });
        return n.info.name;
    };
    /*
   0. Solicitado por cliente(Falta asignar tecnico)
   1. Programado
   2. En proceso
   3. Realizado
   */
    ServiciosComponent.prototype.getStatus = function (n) {
        switch (n) {
            case 0:
                return "Solicitado (Asignar Tec)";
                break;
            case 1:
                return "Programado";
                break;
            case 2:
                return "En proceso";
                break;
            case 3:
                return "Realizado";
                break;
            default:
                break;
        }
    };
    ServiciosComponent.prototype.getId = function (id) {
        return id.substring(id.length - 10, id.length);
    };
    ServiciosComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_6__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    ServiciosComponent.prototype.gotoNew = function () {
        this.router.navigateByUrl('servicios/nuevo');
    };
    ServiciosComponent.prototype.viewService = function (id) {
        this.router.navigateByUrl('servicios/' + id);
    };
    ServiciosComponent.prototype.busquedaById = function () {
        this.id_emg = "";
        this.id_tec = "";
        if (this.busqById == "") {
            this.loadServices();
        }
        else {
            var regex_1 = new RegExp(this.busqById.toLowerCase());
            var temp = this.servicios;
            this.servicios = temp.filter(function (servicio) { return servicio._id.toLowerCase().match(regex_1); });
        }
    };
    ServiciosComponent.prototype.findByTec = function () {
        var _this = this;
        this.id_emg = "";
        if (this.id_tec == "todos") {
            this.loadServices();
        }
        else {
            this.serviciosService.getByTec(this.id_tec).subscribe(function (res) {
                _this.servicios = res.detail;
            }, function (err) {
                console.error(err);
            });
        }
    };
    ServiciosComponent.prototype.findByEmg = function () {
        var _this = this;
        this.id_tec = "";
        if (this.id_emg == "todos") {
            this.loadServices();
        }
        else {
            this.serviciosService.getByEmg(this.id_emg).subscribe(function (res) {
                _this.servicios = res.detail;
            }, function (err) {
                console.error(err);
            });
        }
    };
    ServiciosComponent.prototype.getScore = function (score, status) {
        if (status != 3) {
            return 'No Calificado';
        }
        else {
            switch (score) {
                case 0:
                    return 'Mala';
                case 1:
                    return 'Buena';
                case 2:
                    return 'Excelente';
            }
        }
    };
    ServiciosComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-servicios',
            template: __webpack_require__(/*! ./servicios.component.html */ "./src/app/servicios-component/servicios/servicios.component.html"),
            styles: [__webpack_require__(/*! ./servicios.component.css */ "./src/app/servicios-component/servicios/servicios.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__["EmgsService"],
            src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_4__["ServiciosService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], ServiciosComponent);
    return ServiciosComponent;
}());



/***/ }),

/***/ "./src/app/servicios-component/viewservicio/viewservicio.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/servicios-component/viewservicio/viewservicio.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlcnZpY2lvcy1jb21wb25lbnQvdmlld3NlcnZpY2lvL3ZpZXdzZXJ2aWNpby5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/servicios-component/viewservicio/viewservicio.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/servicios-component/viewservicio/viewservicio.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n<hr>\r\n<hr> \r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">Ver servicio</h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">Id del servicio {{getId(servicio._id)}}</h6>\r\n              <div class=\"col\">\r\n\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información de solicitud</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Solicitado por</b></h6>\r\n                      <h6>{{requestby}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Empresa</b></h6>\r\n                      <h6>{{empresa}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha programada</b></h6>\r\n                      <h6>{{getDate(servicio.date)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Equipo</b></h6>\r\n                      <h6>{{emg}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre de técnico</b></h6>\r\n                      <h6 *ngIf=\"stat0\" class=\"text-danger\">Falta asignar técnico</h6>\r\n                      <h6 class=\"text-warning\" *ngIf=\"msg\"><b>Asignando...</b></h6>\r\n                      <h6>{{tec}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Contrato</b></h6>\r\n                      <h6>{{contrato}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <hr>\r\n\r\n                <div class=\"row card\" *ngIf=\"stat0\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"tecnico\"><span class=\"text-danger\">*</span>Técnico a asignar</label>\r\n                      <select class=\"form-control form-control-sm\" id=\"tecnico\" [(ngModel)]=\"tec_id\" (change)=\"enBut()\">\r\n                        <option *ngFor=\"let tecnico of tecnicos\" value=\"{{tecnico._id}}\">{{tecnico.info.name}}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                      <label for=\"nfecnue\"><span class=\"text-danger\">*</span>Fecha y hora solicitadas <small class=\"text-muted\">Puedes cambiarlo dependiendo de la disponibilidad del técnico.</small> </label>\r\n                      <input class=\"form-control form-control-sm\" type=\"datetime-local\" id=\"nfecnue\" [(ngModel)]=\"nfec\" (change)=\"showf()\">\r\n                    </div>\r\n                    <button class=\"btn btn-primary\" [disabled]=\"btnen\" (click)=\"asigTec()\">Asignar y programar</button>\r\n                    <small class=\"text-muted\" *ngIf=\"!msg\">Al asignar el técnico, se le enviara un correo notificandole que se le asigno un servicio a realizar.</small>\r\n                  </div>\r\n                  <br>\r\n                </div>\r\n                <hr>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información del servicio</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Tipo de servicio</b></h6>\r\n                      <h6>{{servicio.type}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Estado del servicio</b></h6>\r\n                      <h6>{{status}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Trabajo a realizar</b></h6>\r\n                      <p>{{servicio.desc}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha de inicio</b></h6>\r\n                      <h6>{{getDate(servicio.start)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha de finalización</b></h6>\r\n                      <h6>{{getDate(servicio.finish)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Observaciones del servicio</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de sensor</b></h6>\r\n                    <h6>{{servicio.service_details.tipo_sensor}}</h6> \r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de controlador</b></h6>\r\n                    <h6>{{servicio.service_details.tipo_controlador}}</h6> \r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de programa</b></h6>\r\n                    <h6>{{servicio.service_details.programa}}</h6> \r\n                  </div>\r\n                </div>\r\n                <br>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Trabajo realizado</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.trabajo_realizado}}</p>                        \r\n                    </div>\r\n                  </div> \r\n                </div>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Comentarios</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.comentarios}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Recomendaciones</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.recomendaciones}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio de la provisión de servicio</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Horas del servicio</b></h6>\r\n                      <h6>{{servicio.hours}} - Horas</h6> \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio unitario</b></h6>\r\n                      <h6>${{servicio.payment.unit_price}}.0</h6> \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio total USD</b></h6>\r\n                      <h6>${{servicio.payment.amount}}.0</h6> \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Precio total USD + IVA <small class=\"text-muted\">({{servicio.payment.iva}})</small></b></h6>\r\n                      <h6>${{servicio.payment.total}}</h6> \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Firma del cliente</b></h6>\r\n                      <img src=\"{{servicio.signature}}\" class=\"w-100 img-fluid\">                       \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"row text-center\">\r\n                      <h6><b>Satisfacción del cliente</b></h6>                     \r\n                    </div>\r\n                    <div class=\"row text-center\">\r\n                      <div class=\"col\" *ngIf=\"malac\">\r\n                        <img [src]=\"mala\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">                       \r\n                      </div>\r\n                      <div class=\"col\" *ngIf=\"regularc\">\r\n                        <img [src]=\"regular\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">\r\n                      </div>\r\n                      <div class=\"col\" *ngIf=\"buenac\">\r\n                        <img [src]=\"buena\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col text-center\">\r\n                      <h4>{{scoretext}}</h4>\r\n                    </div>\r\n                    <div class=\"col text-center\">\r\n                      <small class=\"text-muted\">El rango de evalución se basa en Mala, Buena y Excelente experiencia</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <br>\r\n                <div class=\"row\" style=\"padding-bottom: 0px\">\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-danger w-100\" (click)=\"getPdf()\" [disabled]=\"!proceso\">Descargar reporte(PDF)</button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-danger w-100\" [disabled]=\"!proceso\" (click)=\"getRemito()\">Descargar remito(PDF)</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <div class=\"row\">\r\n    <div class=\"col text-center\">\r\n      <p class=\"lead\">CARGANDO</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/servicios-component/viewservicio/viewservicio.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/servicios-component/viewservicio/viewservicio.component.ts ***!
  \****************************************************************************/
/*! exports provided: ViewservicioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewservicioComponent", function() { return ViewservicioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");











var ViewservicioComponent = /** @class */ (function () {
    function ViewservicioComponent(activatedRoute, router, serviciosService, userServices, emgServices, sanitizer, empresaService, agreementServices, alert) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.serviciosService = serviciosService;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.sanitizer = sanitizer;
        this.empresaService = empresaService;
        this.agreementServices = agreementServices;
        this.alert = alert;
        this.proceso = false;
        this.stat0 = false;
        this.btnen = true;
        this.msg = false;
        this.tec_id = "";
        this.requestby = "";
        this.empresa = "";
        this.contrato = "";
        this.malac = false;
        this.regularc = false;
        this.buenac = false;
        this.score = "";
        this.scoretext = "";
        this.load = true;
        this.getServicio(this.activatedRoute.snapshot.paramMap.get("id"));
        this.mala = this.sanitizer.bypassSecurityTrustResourceUrl('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNlM2Y4ZmEiIGRhdGEtb3JpZ2luYWw9IiNFM0Y4RkEiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZTNmOGZhIiBzdHlsZT0iZmlsbDojRkFFM0UzIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS00LjY2NyA2LjA0N2MwLS43NC42LTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzLjU5MyAxLjMzMyAxLjMzM2MwIC43MzMtLjYgMS4zMzMtMS4zMzMgMS4zMzNzLTEuMzMzLS42LTEuMzMzLTEuMzMzem04LjQ3MiA2LjQ0OGMtLjEzLjEzLS4zMDEuMTk1LS40NzEuMTk1LS4xNzEgMC0uMzQxLS4wNjUtLjQ3MS0uMTk1LS43NjUtLjc2NS0xLjc4Mi0xLjE4NS0yLjg2My0xLjE4NXMtMi4wOTguNDIxLTIuODYyIDEuMTg2Yy0uMjYuMjYtLjY4Mi4yNi0uOTQzIDAtLjI2LS4yNi0uMjYtLjY4MiAwLS45NDMgMS4wMTYtMS4wMTYgMi4zNjgtMS41NzYgMy44MDUtMS41NzZzMi43ODguNTYgMy44MDUgMS41NzZjLjI2LjI2LjI2LjY4MiAwIC45NDJ6bS0uNDcyLTUuMTE1Yy0uNzMzIDAtMS4zMzMtLjYtMS4zMzMtMS4zMzMgMC0uNzQuNi0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMy41OTMgMS4zMzMgMS4zMzNjLjAwMS43MzMtLjU5OSAxLjMzMy0xLjMzMyAxLjMzM3oiIGZpbGw9IiM4Y2UxZWIiIGRhdGEtb3JpZ2luYWw9IiM4Q0UxRUIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0RFNEI0QiIgZGF0YS1vbGRfY29sb3I9IiM4Y2UxZWIiPjwvcGF0aD48L2c+IDwvc3ZnPg==');
        this.regular = this.sanitizer.bypassSecurityTrustResourceUrl("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZmZlNmUyIiBzdHlsZT0iZmlsbDojRTJGOUZGIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS01LjMzMyA2LjMzM2MwLTEuMjg2IDEuMDQ2LTIuMzMzIDIuMzMzLTIuMzMzczIuMzMzIDEuMDQ3IDIuMzMzIDIuMzMzLTEuMDQ2IDIuMzM0LTIuMzMzIDIuMzM0LTIuMzMzLTEuMDQ3LTIuMzMzLTIuMzM0em03LjUgNS44MzRoLTQuMzMzYy0uMzY4IDAtLjY2Ny0uMjk5LS42NjctLjY2N3MuMjk4LS42NjcuNjY3LS42NjdoNC4zMzNjLjM2OCAwIC42NjcuMjk5LjY2Ny42NjdzLS4yOTkuNjY3LS42NjcuNjY3em0uODMzLTMuNWMtMS4yODcgMC0yLjMzMy0xLjA0Ny0yLjMzMy0yLjMzM3MxLjA0Ni0yLjMzNCAyLjMzMy0yLjMzNCAyLjMzMyAxLjA0NyAyLjMzMyAyLjMzMy0xLjA0NiAyLjMzNC0yLjMzMyAyLjMzNHoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmYzU3M2IiIHN0eWxlPSJmaWxsOiM0QjlEREUiPjwvcGF0aD48L2c+IDwvc3ZnPg==");
        this.buena = this.sanitizer.bypassSecurityTrustResourceUrl("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMTYgOGMtNC40MTEgMC04IDMuNTg5LTggOHMzLjU4OSA4IDggOCA4LTMuNTg5IDgtOC0zLjU4OS04LTgtOHptMy4zMzMgNC43MWMuNzM1IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzcy0uNTk4IDEuMzMzLTEuMzMzIDEuMzMzLTEuMzMzLS41OTctMS4zMzMtMS4zMzJjMC0uNzM2LjU5OC0xLjMzNCAxLjMzMy0xLjMzNHptLTYuNjY2IDBjLjczNSAwIDEuMzMzLjU5OCAxLjMzMyAxLjMzM3MtLjU5OCAxLjMzMy0xLjMzMyAxLjMzMy0xLjMzMy0uNTk4LTEuMzMzLTEuMzMzYy0uMDAxLS43MzUuNTk3LTEuMzMzIDEuMzMzLTEuMzMzem04Ljk3NyA1LjI3MWMtLjc3MyAyLjQ5MS0zLjA0MSA0LjE2NS01LjY0NCA0LjE2NXMtNC44NzEtMS42NzQtNS42NDQtNC4xNjVjLS4wNDctLjE1Mi0uMDE5LS4zMTcuMDc1LS40NDVzLjI0NC0uMjAzLjQwMy0uMjAzaDEwLjMzM2MuMTU5IDAgLjMwOC4wNzYuNDAzLjIwMy4wOTMuMTI5LjEyMS4yOTQuMDc0LjQ0NXoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMwQTlEMzEiIGRhdGEtb2xkX2NvbG9yPSIjZmM1NzNiIj48L3BhdGg+PC9nPiA8L3N2Zz4=");
    }
    ViewservicioComponent.prototype.ngOnInit = function () {
        this.loadClients();
        this.getTecnicos();
    };
    ViewservicioComponent.prototype.loadClients = function () {
        var _this = this;
        this.userServices.getAllClients().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getServicio = function (id) {
        var _this = this;
        this.serviciosService.getById(id).subscribe(function (res) {
            _this.servicio = res.detail;
            _this.conditonials(_this.servicio.status);
            _this.getTec();
            _this.getEmg();
            _this.getScore();
            _this.getRequested();
            _this.getEmpresa();
            _this.getContrato();
            _this.nfec = _this.servicio.date;
            setTimeout(function () {
                _this.load = false;
            }, 1000);
        }, function (err) {
            console.error(err);
        });
    };
    /*
    0. Solicitado por cliente(Falta asignar tecnico)
    1. Programado
    2. En proceso
    3. Realizado
    */
    ViewservicioComponent.prototype.conditonials = function (n) {
        switch (n) {
            case 0:
                this.status = 'Solicitado por cliente (Falta asignar tecnico)';
                this.proceso = false;
                this.stat0 = true;
                break;
            case 1:
                this.status = 'Progamado';
                this.proceso = false;
                break;
            case 2:
                this.status = 'En proceso';
                this.proceso = false;
                break;
            case 3:
                this.status = 'Realizado';
                this.proceso = true;
                break;
        }
    };
    ViewservicioComponent.prototype.getScore = function () {
        switch (this.servicio.score) {
            case 0:
                this.malac = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNlM2Y4ZmEiIGRhdGEtb3JpZ2luYWw9IiNFM0Y4RkEiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZTNmOGZhIiBzdHlsZT0iZmlsbDojRkFFM0UzIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS00LjY2NyA2LjA0N2MwLS43NC42LTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzLjU5MyAxLjMzMyAxLjMzM2MwIC43MzMtLjYgMS4zMzMtMS4zMzMgMS4zMzNzLTEuMzMzLS42LTEuMzMzLTEuMzMzem04LjQ3MiA2LjQ0OGMtLjEzLjEzLS4zMDEuMTk1LS40NzEuMTk1LS4xNzEgMC0uMzQxLS4wNjUtLjQ3MS0uMTk1LS43NjUtLjc2NS0xLjc4Mi0xLjE4NS0yLjg2My0xLjE4NXMtMi4wOTguNDIxLTIuODYyIDEuMTg2Yy0uMjYuMjYtLjY4Mi4yNi0uOTQzIDAtLjI2LS4yNi0uMjYtLjY4MiAwLS45NDMgMS4wMTYtMS4wMTYgMi4zNjgtMS41NzYgMy44MDUtMS41NzZzMi43ODguNTYgMy44MDUgMS41NzZjLjI2LjI2LjI2LjY4MiAwIC45NDJ6bS0uNDcyLTUuMTE1Yy0uNzMzIDAtMS4zMzMtLjYtMS4zMzMtMS4zMzMgMC0uNzQuNi0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMy41OTMgMS4zMzMgMS4zMzNjLjAwMS43MzMtLjU5OSAxLjMzMy0xLjMzMyAxLjMzM3oiIGZpbGw9IiM4Y2UxZWIiIGRhdGEtb3JpZ2luYWw9IiM4Q0UxRUIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0RFNEI0QiIgZGF0YS1vbGRfY29sb3I9IiM4Y2UxZWIiPjwvcGF0aD48L2c+IDwvc3ZnPg==';
                this.scoretext = "Experiencia Mala";
                break;
            case 1:
                this.regularc = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZmZlNmUyIiBzdHlsZT0iZmlsbDojRTJGOUZGIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS01LjMzMyA2LjMzM2MwLTEuMjg2IDEuMDQ2LTIuMzMzIDIuMzMzLTIuMzMzczIuMzMzIDEuMDQ3IDIuMzMzIDIuMzMzLTEuMDQ2IDIuMzM0LTIuMzMzIDIuMzM0LTIuMzMzLTEuMDQ3LTIuMzMzLTIuMzM0em03LjUgNS44MzRoLTQuMzMzYy0uMzY4IDAtLjY2Ny0uMjk5LS42NjctLjY2N3MuMjk4LS42NjcuNjY3LS42NjdoNC4zMzNjLjM2OCAwIC42NjcuMjk5LjY2Ny42NjdzLS4yOTkuNjY3LS42NjcuNjY3em0uODMzLTMuNWMtMS4yODcgMC0yLjMzMy0xLjA0Ny0yLjMzMy0yLjMzM3MxLjA0Ni0yLjMzNCAyLjMzMy0yLjMzNCAyLjMzMyAxLjA0NyAyLjMzMyAyLjMzMy0xLjA0NiAyLjMzNC0yLjMzMyAyLjMzNHoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmYzU3M2IiIHN0eWxlPSJmaWxsOiM0QjlEREUiPjwvcGF0aD48L2c+IDwvc3ZnPg==';
                this.scoretext = "Experiencia Buena";
                break;
            case 2:
                this.buenac = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMTYgOGMtNC40MTEgMC04IDMuNTg5LTggOHMzLjU4OSA4IDggOCA4LTMuNTg5IDgtOC0zLjU4OS04LTgtOHptMy4zMzMgNC43MWMuNzM1IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzcy0uNTk4IDEuMzMzLTEuMzMzIDEuMzMzLTEuMzMzLS41OTctMS4zMzMtMS4zMzJjMC0uNzM2LjU5OC0xLjMzNCAxLjMzMy0xLjMzNHptLTYuNjY2IDBjLjczNSAwIDEuMzMzLjU5OCAxLjMzMyAxLjMzM3MtLjU5OCAxLjMzMy0xLjMzMyAxLjMzMy0xLjMzMy0uNTk4LTEuMzMzLTEuMzMzYy0uMDAxLS43MzUuNTk3LTEuMzMzIDEuMzMzLTEuMzMzem04Ljk3NyA1LjI3MWMtLjc3MyAyLjQ5MS0zLjA0MSA0LjE2NS01LjY0NCA0LjE2NXMtNC44NzEtMS42NzQtNS42NDQtNC4xNjVjLS4wNDctLjE1Mi0uMDE5LS4zMTcuMDc1LS40NDVzLjI0NC0uMjAzLjQwMy0uMjAzaDEwLjMzM2MuMTU5IDAgLjMwOC4wNzYuNDAzLjIwMy4wOTMuMTI5LjEyMS4yOTQuMDc0LjQ0NXoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMwQTlEMzEiIGRhdGEtb2xkX2NvbG9yPSIjZmM1NzNiIj48L3BhdGg+PC9nPiA8L3N2Zz4=';
                this.scoretext = "Experiencia Excelente";
                break;
            default:
                break;
        }
    };
    ViewservicioComponent.prototype.getTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getTec = function () {
        var _this = this;
        this.userServices.getUser(this.servicio.tecnico).subscribe(function (res) {
            var temp = res.detail;
            _this.tec = temp.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getEmg = function () {
        var _this = this;
        this.emgServices.getById(this.servicio.emg).subscribe(function (res) {
            var temp = res.detail;
            _this.emg = temp.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getId = function (id) {
        return id.substring(id.length - 5, id.length);
    };
    ViewservicioComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_9__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY, h:mm a');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    ViewservicioComponent.prototype.getPdf = function () {
        this.alert.alert('En unos segundos se descargará su PDF.');
        var data = {
            template: { "shortid": "HJlwC8WhkH" },
            data: { id: this.servicio._id.substring(this.servicio._id.length - 5, this.servicio._id.length),
                emg: this.emg,
                tec: this.tec,
                type: this.servicio.type,
                desc: this.servicio.desc,
                status: this.status,
                date: this.getDate(this.servicio.date),
                start: this.getDate(this.servicio.start),
                finish: this.getDate(this.servicio.finish),
                observ: this.servicio.observ,
                signature: this.servicio.signature,
                score: this.score,
                scoretext: this.scoretext,
                trabajo_realizado: this.servicio.observ.trabajo_realizado,
                comentarios: this.servicio.observ.comentarios,
                recomendaciones: this.servicio.observ.recomendaciones,
                requestby: this.requestby,
                empresa: this.empresa,
                contrato: this.contrato,
                tipo_sensor: this.servicio.service_details.tipo_sensor,
                tipo_controlador: this.servicio.service_details.tipo_controlador,
                tipo_programa: this.servicio.service_details.programa
            },
            options: { 'timeout': 60000 }
        };
        this.serviciosService.getPdf(data, "servicio");
    };
    ViewservicioComponent.prototype.getRemito = function () {
        var total = this.servicio.payment.amount;
        var iva = this.servicio.payment.iva;
        var total_iva = total * iva;
        var grand_total = total_iva + total;
        this.alert.alert('En unos segundos se descargará su PDF.');
        var data = {
            template: { "shortid": "BJxqg5VrlU" },
            data: {
                proveedor: "",
                contrato: this.contrato,
                remision: this.servicio._id.substring(this.servicio._id.length - 10, this.servicio._id.length),
                descripcion_corta: this.servicio.desc,
                hora: this.servicio.hours,
                unitprice: this.servicio.payment.unit_price,
                total: this.servicio.payment.amount,
                iva: (this.servicio.payment.iva) * 100,
                total_iva: total_iva,
                grand_total: grand_total,
                fecha: this.getDate(this.servicio.finish),
                descripcion_larga: this.servicio.observ.trabajo_realizado
            },
            options: { 'timeout': 60000 }
        };
        this.serviciosService.getPdf(data, "remito");
    };
    ViewservicioComponent.prototype.regresar = function () {
        this.router.navigateByUrl('/servicios');
    };
    ViewservicioComponent.prototype.enBut = function () {
        this.btnen = false;
    };
    ViewservicioComponent.prototype.asigTec = function () {
        var _this = this;
        this.serviciosService.asigTec(this.servicio._id, this.tec_id, this.nfec).subscribe(function (res) {
            console.log(res);
            _this.msg = true;
            _this.stat0 = false;
            _this.getEmailData(_this.servicio.client, _this.tec_id);
            _this.serviciosService.emailProgramar({
                "email_tecnico": _this.tec_email,
                "email_cliente": _this.cli_email,
                "nameTec": _this.tec_name,
                "nameCli": _this.cli_name,
                "date": _this.getDate(_this.nfec),
                "id": _this.servicio._id.substring(_this.servicio._id.length - 10, _this.servicio._id.length)
            }).subscribe(function (res) {
                console.log(res);
            }, function (err) {
                console.error(err);
            });
            setTimeout(function () {
                _this.regresar();
            }, 1000);
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getEmailData = function (idc, idt) {
        var _this = this;
        this.clientes.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idc == e._id) {
                    this.cli_email = e.info.email;
                    this.cli_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
        this.tecnicos.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idt == e._id) {
                    this.tec_email = e.info.email;
                    this.tec_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
    };
    ViewservicioComponent.prototype.getRequested = function () {
        var _this = this;
        this.userServices.getUser(this.servicio.requested_by).subscribe(function (req) {
            var e = req.detail;
            _this.requestby = e.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getEmpresa = function () {
        var _this = this;
        this.empresaService.getid(this.servicio.client).subscribe(function (req) {
            var e = req.detail;
            _this.empresa = e.name;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent.prototype.getContrato = function () {
        var _this = this;
        this.agreementServices.getContratoById(this.servicio.agreement).subscribe(function (req) {
            var e = req.detail;
            _this.contrato = e.name;
        }, function (err) {
            console.error(err);
        });
    };
    ViewservicioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewservicio',
            template: __webpack_require__(/*! ./viewservicio.component.html */ "./src/app/servicios-component/viewservicio/viewservicio.component.html"),
            styles: [__webpack_require__(/*! ./viewservicio.component.css */ "./src/app/servicios-component/viewservicio/viewservicio.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_2__["ServiciosService"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__["EmgsService"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["DomSanitizer"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__["EmpresasService"], src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_8__["AgreementsService"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_10__["AlertService"]])
    ], ViewservicioComponent);
    return ViewservicioComponent;
}());



/***/ }),

/***/ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RlY25pY29zLWNvbXBvbmVudHMvYWRkc2VydmljaW8tdGVjL2FkZHNlcnZpY2lvLXRlYy5jb21wb25lbnQuY3NzIn0= */"

/***/ }),

/***/ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">Programar servicio a equipo EMG</h5>\r\n          <br> \r\n          <div class=\"accordion bor\" id=\"filtros\">\r\n            <div class=\"bg-light\">\r\n              <div class=\"\" id=\"headingOne\">\r\n                <h2 class=\"mb-0\">\r\n                  <button class=\"btn btn-link\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\r\n                    Filtrar equipos y contratos\r\n                  </button>\r\n                </h2>\r\n              </div>\r\n              <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#filtros\">\r\n                <div class=\"card-body\">\r\n                  <form>\r\n                    <div class=\"row\">\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"cliente\">Empresa</label>\r\n                          <select class=\"form-control form-control-sm\" id=\"cliente\" (change)=\"loadPlants()\" [(ngModel)]=\"empresa\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"empresaB\">\r\n                            <option *ngFor=\"let emp of empresas\" value=\"{{emp._id}}\">{{emp.name}}</option>\r\n                          </select> \r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"planta\">Planta <small class=\"text-muted\">seleccione primero cliente</small></label>\r\n                          <select class=\"form-control form-control-sm\" id=\"planta\" (change)=\"loadLines()\" [(ngModel)]=\"planta\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"plantaB\">\r\n                            <option *ngFor=\"let plant of plants\" value=\"{{plant._id}}\">{{plant.name}}</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"linea\">Línea <small class=\"text-muted\">seleccione primero cliente y planta</small></label>\r\n                          <select class=\"form-control form-control-sm\" id=\"linea\" (change)=\"loadEmgsF()\" [(ngModel)]=\"linea\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"lineaB\">\r\n                            <option *ngFor=\"let line of lines\" value=\"{{line._id}}\">{{line.name}}</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <hr>\r\n          <form [formGroup]=\"serviciosForm\" (ngSubmit)=\"save()\">\r\n            <div class=\"row\"> \r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Asignación de equipo EMG y Técnico</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"emg\"><span class=\"text-danger\">*</span>Equipo EMG</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"emg\" formControlName=\"emg\">\r\n                    <option *ngFor=\"let emg of emgs\" value=\"{{emg._id}}\">{{emg.info.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('emg').errors&&serviciosForm.get('emg').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('emg').hasError('required')\" class=\"text-danger\">El equipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"tecnico\"><span class=\"text-danger\">*</span>Técnico a asignar</label>\r\n                  <input class=\"form-control form-control-sm\" id=\"tecnico\" placeholder=\"Te será asignado\" [disabled]=\"true\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"agreement\"><span class=\"text-danger\">*</span>Contrato</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"agreement\" formControlName=\"agreement\">\r\n                    <option *ngFor=\"let contrato of contratos\" value=\"{{contrato._id}}\">{{contrato.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('agreement').errors&&serviciosForm.get('agreement').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('agreement').hasError('required')\" class=\"text-danger\">El equipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <h6 class=\"card-subtitle\">Información del servicio requerido</h6>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"type\"><span class=\"text-danger\">*</span>Tipo de servicio</label>\r\n                  <select class=\"form-control form-control-sm\" id=\"type\" formControlName=\"type\">\r\n                    <option *ngFor=\"let tipo of tipos\" value=\"{{tipo.name}}\">{{tipo.name}}</option>\r\n                  </select>\r\n                  <div *ngIf=\"serviciosForm.get('type').errors&&serviciosForm.get('type').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('type').hasError('required')\" class=\"text-danger\">El tipo es requerido</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"date\"><span class=\"text-danger\">*</span>Fecha y hora</label>\r\n                  <input type=\"datetime-local\" class=\"form-control form-control-sm\" id=\"date\" formControlName=\"date\" min=\"{{minDate}}\">\r\n                </div>\r\n                <div *ngIf=\"serviciosForm.get('date').errors&&serviciosForm.get('date').dirty\">\r\n                  <p *ngIf=\"serviciosForm.get('date').hasError('required')\" class=\"text-danger\">La fecha es requerido</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"Descripción\"><span class=\"text-danger\">*</span>Descripción a detalle del servico</label>\r\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"Descripción\" formControlName=\"desc\">\r\n                  <div *ngIf=\"serviciosForm.get('desc').errors&&serviciosForm.get('desc').dirty\">\r\n                    <p *ngIf=\"serviciosForm.get('desc').hasError('required')\" class=\"text-danger\">La descripción es requerida</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <br><br>\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <div class=\"pad1 w-100\">\r\n                        <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"serviciosForm.invalid\">Programar</button>                    \r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                    <small class=\"text-muted\" *ngIf=\"!msg\">Al solicitar un servicio se enviará un correo al cliente para notificarle que se le programó un servicio.</small>\r\n                </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.ts ***!
  \**********************************************************************************/
/*! exports provided: AddservicioTecComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddservicioTecComponent", function() { return AddservicioTecComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_configuration_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/plantas.service */ "./src/app/services/plantas.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_14__);















var AddservicioTecComponent = /** @class */ (function () {
    function AddservicioTecComponent(fb, userServices, emgServices, serviciosService, router, auth, configServices, agreementsServices, empresaService, plantsService, location, alert) {
        this.fb = fb;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.router = router;
        this.auth = auth;
        this.configServices = configServices;
        this.agreementsServices = agreementsServices;
        this.empresaService = empresaService;
        this.plantsService = plantsService;
        this.location = location;
        this.alert = alert;
        this.empresa = "";
        this.planta = "";
        this.linea = "";
        this.empresaB = true;
        this.plantaB = true;
        this.lineaB = true;
        this.serviciosForm = fb.group({
            emg: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            type: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            date: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            desc: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]],
            agreement: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]]
        });
        this.fecExiste();
    }
    AddservicioTecComponent.prototype.ngOnInit = function () {
        this.loadTecnicos();
        this.loadEmgs();
        this.loadClients();
        this.getTipos();
        this.getContratos();
        this.getEmpresas();
    };
    AddservicioTecComponent.prototype.getTipos = function () {
        var _this = this;
        this.configServices.getTipos().subscribe(function (res) {
            _this.tipos = res.detail;
        }, function (err) {
            console.log(err);
        });
    };
    AddservicioTecComponent.prototype.fecExiste = function () {
        var _this = this;
        this.configServices.getFec().subscribe(function (res) {
            console.log(res.detail.value);
            if (res.detail === null) {
                _this.configServices.setFec().subscribe(function (res) { console.log(res); }, function (err) { });
                _this.getMinDate(false);
            }
            else {
                _this.getMinDate(res.detail.value);
            }
        }, function (err) {
            console.log(err);
        });
    };
    AddservicioTecComponent.prototype.loadClients = function () {
        var _this = this;
        this.userServices.getAllClients().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent.prototype.getClientId = function () {
        var _this = this;
        var temp = this.serviciosForm.value.emg;
        this.emgs.forEach(function (emg) {
            if (emg._id == temp) {
                _this.emg_c_id = emg.client;
            }
        });
    };
    /*
   0. Solicitado por cliente(Falta asignar tecnico)
   1. Programado
   2. En proceso
   3. Realizado
   */
    AddservicioTecComponent.prototype.save = function () {
        var _this = this;
        this.getClientId();
        var temp = this.serviciosForm.value;
        temp.status = 1;
        temp.tecnico = this.auth.getId();
        temp.client = this.emg_c_id;
        temp.requested_by = this.auth.getId();
        console.log(temp);
        this.serviciosService.save(temp).subscribe(function (res) {
            _this.getEmailData(temp.client, temp.tecnico);
            _this.alert.success("Servicio programado correctamente, se enviaron correos a los actores implicados en este servicio. Seras redirigido en unos segundos");
            _this.serviciosService.emailProgramar({
                "email_tecnico": _this.tec_email,
                "email_cliente": _this.cli_email,
                "nameTec": _this.tec_name,
                "nameCli": _this.cli_name,
                "date": _this.getDate(temp.date),
                "id": res.detail._id.substring(res.detail._id.length - 10, res.detail._id.length)
            }).subscribe(function (res) {
                console.log(res);
            }, function (err) {
                console.error(err);
            });
            setTimeout(function () {
                _this.regresar();
            }, 3000);
        }, function (err) {
            _this.alert.error("Error durante el registro.");
            setTimeout(function () {
                _this.regresar();
            }, 3000);
        });
    };
    AddservicioTecComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_14__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    AddservicioTecComponent.prototype.getEmailData = function (idc, idt) {
        var _this = this;
        this.clientes.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idc == e._id) {
                    this.cli_email = e.info.email;
                    this.cli_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
        this.tecnicos.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idt == e._id) {
                    this.tec_email = e.info.email;
                    this.tec_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
    };
    AddservicioTecComponent.prototype.regresar = function () {
        this.location.back();
    };
    AddservicioTecComponent.prototype.getMinDate = function (fa) {
        var date = new Date();
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        if (fa) {
            this.minDate = '';
        }
        else {
            if (month < 10) {
                this.minDate = year + "-0" + month + "-" + day + "T00:00";
            }
            else {
                this.minDate = year + "-" + month + "-" + day + "T00:00";
            }
        }
    };
    AddservicioTecComponent.prototype.getContratos = function () {
        var _this = this;
        this.agreementsServices.getContratosActivos().subscribe(function (res) {
            _this.contratos = res.detail;
            if (res.detail.length == 0) {
                _this.alert.alert('No existe ningun contrato dentro del registro, por favor primero generar un contrato para poder solicitar un servicio. Puedes crear un contrato en menú de Contratos > Nuevo Contrato.');
            }
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent.prototype.getEmpresas = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            if (res.detail.length === 0) {
                _this.empresaB = true;
            }
            else {
                _this.empresaB = false;
                _this.empresas = res.detail;
                _this.plants = [];
                _this.lines = [];
            }
            console.log(res);
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent.prototype.loadPlants = function () {
        var _this = this;
        this.plantsService.getAllPlantas(this.empresa).subscribe(function (res) {
            if (res.detail.length === 0) {
                _this.plantaB = true;
            }
            else {
                _this.plantaB = false;
                _this.plants = res.detail;
                _this.lines = [];
            }
            _this.loadContratosId();
        }, function (err) {
            console.log(err);
        });
    };
    AddservicioTecComponent.prototype.loadLines = function () {
        var _this = this;
        this.plants.forEach(function (el) {
            if (el._id == _this.planta) {
                if (el.lines.length === 0) {
                    _this.lineaB = true;
                }
                else {
                    _this.lineaB = false;
                    _this.lines = el.lines;
                }
            }
        });
    };
    AddservicioTecComponent.prototype.loadEmgsF = function () {
        var _this = this;
        this.emgServices.getByPlantAndLine(this.planta, this.linea).subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent.prototype.loadContratosId = function () {
        var _this = this;
        this.agreementsServices.getContratosByClient(this.empresa).subscribe(function (res) {
            _this.contratos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddservicioTecComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-addservicio-tec',
            template: __webpack_require__(/*! ./addservicio-tec.component.html */ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.html"),
            styles: [__webpack_require__(/*! ./addservicio-tec.component.css */ "./src/app/tecnicos-components/addservicio-tec/addservicio-tec.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_4__["EmgsService"], src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_5__["ServiciosService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_7__["AuthService"], src_app_services_configuration_service__WEBPACK_IMPORTED_MODULE_8__["ConfigurationService"],
            src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_9__["AgreementsService"], src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_10__["EmpresasService"],
            src_app_services_plantas_service__WEBPACK_IMPORTED_MODULE_11__["PlantasService"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_13__["AlertService"]])
    ], AddservicioTecComponent);
    return AddservicioTecComponent;
}());



/***/ }),

/***/ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "[type=radio] { \r\n    position: absolute;\r\n    opacity: 0;\r\n    width: 0;\r\n    height: 0;\r\n}\r\n\r\n[type=radio] + img {\r\n    cursor: pointer;\r\n    -webkit-filter: blur(0px);\r\n            filter: blur(0px);\r\n    transition: 500px;\r\n}\r\n\r\n[type=radio]:checked + img {\r\n    outline: 2px solid #FF0000;\r\n    -webkit-filter: blur(5px);\r\n            filter: blur(5px);\r\n}\r\n\r\n[type=radio]:hover + img{\r\n    -webkit-filter: blur(5px);\r\n            filter: blur(5px);\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGVjbmljb3MtY29tcG9uZW50cy9pbmljaWFyLXNlcnZpY2lvL2luaWNpYXItc2VydmljaW8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsUUFBUTtJQUNSLFNBQVM7QUFDYjs7QUFFQTtJQUNJLGVBQWU7SUFDZix5QkFBaUI7WUFBakIsaUJBQWlCO0lBQ2pCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLDBCQUEwQjtJQUMxQix5QkFBaUI7WUFBakIsaUJBQWlCO0FBQ3JCOztBQUNBO0lBQ0kseUJBQWlCO1lBQWpCLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJzcmMvYXBwL3RlY25pY29zLWNvbXBvbmVudHMvaW5pY2lhci1zZXJ2aWNpby9pbmljaWFyLXNlcnZpY2lvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJbdHlwZT1yYWRpb10geyBcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgICB3aWR0aDogMDtcclxuICAgIGhlaWdodDogMDtcclxufVxyXG5cclxuW3R5cGU9cmFkaW9dICsgaW1nIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZpbHRlcjogYmx1cigwcHgpO1xyXG4gICAgdHJhbnNpdGlvbjogNTAwcHg7XHJcbn1cclxuXHJcblt0eXBlPXJhZGlvXTpjaGVja2VkICsgaW1nIHtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCAjRkYwMDAwO1xyXG4gICAgZmlsdGVyOiBibHVyKDVweCk7XHJcbn1cclxuW3R5cGU9cmFkaW9dOmhvdmVyICsgaW1ne1xyXG4gICAgZmlsdGVyOiBibHVyKDVweCk7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr> \r\n  <div class=\"row\">\r\n      <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">Ver servicio</h5>\r\n              <h6 class=\"card-subtitle mb-2 text-muted\">Id del servicio {{getId(servicio._id)}}</h6>\r\n              <div class=\"col\">\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información de solicitud</h6>\r\n                  </div>\r\n                </div> \r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Solicitado por</b></h6>\r\n                      <h6>{{requestby}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Empresa</b></h6>\r\n                      <h6>{{empresa}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha programada</b></h6>\r\n                      <h6>{{getDate(servicio.date)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Equipo</b></h6>\r\n                      <h6>{{emg}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Nombre de técnico</b></h6>\r\n                      <h6 *ngIf=\"stat0\" class=\"text-danger\">Falta asignar técnico</h6>\r\n                      <h6 class=\"text-warning\" *ngIf=\"msg\"><b>Asignando...</b></h6>\r\n                      <h6>{{tec}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Contrato</b></h6>\r\n                      <h6>{{nombre_contrato}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <h6 class=\"card-subtitle mb-2\">Información del servicio</h6>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Tipo de servicio</b></h6>\r\n                      <h6>{{servicio.type}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Estado del servicio</b></h6>\r\n                      <h6>{{status}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Trabajo a realizar</b></h6>\r\n                      <p>{{servicio.desc}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha de inicio</b></h6>\r\n                      <h6>{{getDate(servicio.start)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Fecha de finalización</b></h6>\r\n                      <h6>{{getDate(servicio.finish)}}</h6>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Observaciones del servicio</b></h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de sensor</b></h6>\r\n                    <h6>{{servicio.service_details.tipo_sensor}}</h6> \r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de controlador</b></h6>\r\n                    <h6>{{servicio.service_details.tipo_controlador}}</h6> \r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <h6><b>Tipo de programa</b></h6>\r\n                    <h6>{{servicio.service_details.programa}}</h6> \r\n                  </div>\r\n                </div>\r\n                <br>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Trabajo realizado</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.trabajo_realizado}}</p>                        \r\n                    </div>\r\n                  </div> \r\n                </div>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->                \r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Comentarios</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.comentarios}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\" *ngIf=\"proceso\"><!--proceso-->\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Recomendaciones</b></h6>\r\n                      <p class=\"text-justify\">{{servicio.observ.recomendaciones}}</p>                        \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\" *ngIf=\"proceso\">\r\n                  <div class=\"col\">\r\n                    <div class=\"\">\r\n                      <h6><b>Firma del cliente</b></h6>\r\n                      <img src=\"{{servicio.signature}}\" class=\"w-100 img-fluid\">                       \r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"row text-center\">\r\n                      <h6><b>Satisfacción del cliente</b></h6>                     \r\n                    </div>\r\n                    <div class=\"row text-center\">\r\n                      <div class=\"col\" *ngIf=\"malac\">\r\n                        <img [src]=\"mala\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">                       \r\n                      </div>\r\n                      <div class=\"col\" *ngIf=\"regularc\">\r\n                        <img [src]=\"regular\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">\r\n                      </div>\r\n                      <div class=\"col\" *ngIf=\"buenac\">\r\n                        <img [src]=\"buena\" class=\"img-fluid\" style=\"width: 100px; height: 100px;\">\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col text-center\">\r\n                      <h4>{{scoretext}}</h4>\r\n                    </div>\r\n                    <div class=\"col text-center\">\r\n                      <small class=\"text-muted\">El rango de evalución se basa en Mala, Buena y Excelente experiencia</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n                <br><br>\r\n                <div class=\"row\" style=\"padding-bottom: 0px\">\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-danger w-100\" (click)=\"getPdf()\" [disabled]=\"!proceso\">Descargar reporte(PDF)</button>\r\n                  </div>\r\n                  <div class=\"col\" *ngIf=\"stat1\">\r\n                    <button type=\"button\" class=\"btn btn-success w-100\" data-toggle=\"modal\" data-target=\"#alertModal\">\r\n                      Iniciar servicio\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"col\" *ngIf=\"stat2\">\r\n                    <button type=\"button\" class=\"btn btn-warning w-100\" data-toggle=\"modal\" data-target=\"#finalModal\">\r\n                      Finalizar servicio\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>\r\n\r\n<div class=\"modal fade\" id=\"alertModal\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Iniciar servicio</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <p>{{modalText}}</p>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"inciarServicio()\" data-dismiss=\"modal\">Si</button>\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"finalModal\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Finalizar servicio</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"container\" *ngIf=\"!guardando\">\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <h1 class=\"display-4\">Información del servicio realizado</h1>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <form [formGroup]=\"finalizarForm\" (ngSubmit)=\"finalizarServicio()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"ts\"><span class=\"text-danger\">*</span>Tipo sensor</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"ts\" formControlName=\"tipo_sensor\">\r\n                      <div *ngIf=\"finalizarForm.get('tipo_sensor').errors&&finalizarForm.get('tipo_sensor').dirty\">\r\n                        <p *ngIf=\"finalizarForm.get('tipo_sensor').hasError('required')\" class=\"text-danger\">Campo requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"tc\"><span class=\"text-danger\">*</span>Tipo controlador</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"tc\" formControlName=\"tipo_controlador\">\r\n                      <div *ngIf=\"finalizarForm.get('tipo_controlador').errors&&finalizarForm.get('tipo_controlador').dirty\">\r\n                        <p *ngIf=\"finalizarForm.get('tipo_controlador').hasError('required')\" class=\"text-danger\">Campo requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"pr\"><span class=\"text-danger\">*</span>Programa</label>\r\n                      <input type=\"text\" class=\"form-control form-control-sm\" id=\"pr\" formControlName=\"programa\">\r\n                      <div *ngIf=\"finalizarForm.get('programa').errors&&finalizarForm.get('programa').dirty\">\r\n                        <p *ngIf=\"finalizarForm.get('programa').hasError('required')\" class=\"text-danger\">Campo requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"tr\"><span class=\"text-danger\">*</span>Trabajo realizado</label>\r\n                    <textarea class=\"form-control form-control-sm\" id=\"tr\" rows=\"3\" formControlName=\"trabajo_realizado\"></textarea>\r\n                    <div *ngIf=\"finalizarForm.get('trabajo_realizado').errors&&finalizarForm.get('trabajo_realizado').dirty\">\r\n                      <p *ngIf=\"finalizarForm.get('trabajo_realizado').hasError('required')\" class=\"text-danger\">Campo requerido</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"co\"><span class=\"text-danger\">*</span>Comentarios</label>\r\n                    <textarea class=\"form-control form-control-sm\" id=\"co\" rows=\"3\" formControlName=\"comentarios\"></textarea>\r\n                    <div *ngIf=\"finalizarForm.get('comentarios').errors&&finalizarForm.get('comentarios').dirty\">\r\n                      <p *ngIf=\"finalizarForm.get('comentarios').hasError('required')\" class=\"text-danger\">Campo requerido</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"re\"><span class=\"text-danger\">*</span>Recomendaciones</label>\r\n                    <textarea class=\"form-control form-control-sm\" id=\"re\" rows=\"3\" formControlName=\"recomendaciones\"></textarea>\r\n                    <div *ngIf=\"finalizarForm.get('recomendaciones').errors&&finalizarForm.get('recomendaciones').dirty\">\r\n                      <p *ngIf=\"finalizarForm.get('recomendaciones').hasError('required')\" class=\"text-danger\">Campo requerido</p>\r\n                    </div>\r\n                </div>\r\n\r\n                \r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <label for=\"ren\"><span class=\"text-danger\">*</span>Satisfacción del servicio</label>\r\n                    <div class=\"row\" id=\"ren\">\r\n                        <div class=\"col\">\r\n                          <div class=\"form-check\">\r\n                            <label>\r\n                              <input type=\"radio\" name=\"score\" value=\"0\" formControlName=\"score\">\r\n                              <img [src]=\"mala\" class=\"img-fluid\">\r\n                            </label>\r\n                          </div>                      \r\n                        </div>\r\n                        <div class=\"col\">\r\n                          <div class=\"form-check\">\r\n                            <label>\r\n                              <input type=\"radio\" name=\"score\" value=\"1\" formControlName=\"score\">\r\n                              <img [src]=\"regular\" class=\"img-fluid\">\r\n                            </label>\r\n                          </div> \r\n                        </div>\r\n                        <div class=\"col\">\r\n                          <div class=\"form-check\">\r\n                            <label>\r\n                              <input type=\"radio\" name=\"score\" value=\"2\" formControlName=\"score\">\r\n                              <img [src]=\"buena\" class=\"img-fluid\">\r\n                            </label>\r\n                          </div> \r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <div class=\"mx-auto sng-border text-center\">\r\n                        <signature-pad [options]=\"signaturePadOptions\" (onEndEvent)=\"drawComplete()\" ></signature-pad>\r\n                        <p class=\"lead\">Firma del cliente</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <button type=\"button\" class=\"btn btn-sm btn-secondary ml-auto\" (click)=\"clearSg()\">Limpiar</button>\r\n                  </div>\r\n                </div>\r\n\r\n                <br>\r\n                <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"finalizarForm.invalid\">Guardar servicio</button>\r\n              </form>\r\n            </div>\r\n          </div>      \r\n        </div>\r\n        <div class=\"container\" *ngIf=\"guardando\">\r\n          <div class=\"row\">\r\n            <div class=\"col text-center\">\r\n              <p class=\"lead\">CERRANDO SERVICIO</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <mat-spinner class=\"mx auto\"></mat-spinner>\r\n            </div>\r\n          </div>\r\n        </div>      \r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" id=\"close-modal\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cerrar</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.ts ***!
  \************************************************************************************/
/*! exports provided: IniciarServicioComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IniciarServicioComponent", function() { return IniciarServicioComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/agreements.service */ "./src/app/services/agreements.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angular2_signaturepad_signature_pad__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! angular2-signaturepad/signature-pad */ "./node_modules/angular2-signaturepad/signature-pad.js");
/* harmony import */ var angular2_signaturepad_signature_pad__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(angular2_signaturepad_signature_pad__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var src_app_services_prices_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/services/prices.service */ "./src/app/services/prices.service.ts");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");















var IniciarServicioComponent = /** @class */ (function () {
    function IniciarServicioComponent(activatedRoute, router, serviciosService, userServices, emgServices, sanitizer, empresaService, agreementServices, fb, location, pricesService, alert) {
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.serviciosService = serviciosService;
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.sanitizer = sanitizer;
        this.empresaService = empresaService;
        this.agreementServices = agreementServices;
        this.fb = fb;
        this.location = location;
        this.pricesService = pricesService;
        this.alert = alert;
        this.signaturePadOptions = {
            'minWidth': 1,
            'canvasWidth': 600,
            'canvasHeight': 300,
            'penColor': 'rgb(0, 0, 0)'
        };
        this.iva = 0;
        this.unitprice = 0;
        this.proceso = false;
        this.stat0 = false;
        this.stat1 = false;
        this.stat2 = false;
        this.stat3 = false;
        this.btnen = true;
        this.msg = false;
        this.tec_id = "";
        this.requestby = "";
        this.empresa = "";
        this.nombre_contrato = "";
        this.malac = false;
        this.regularc = false;
        this.buenac = false;
        this.score = "";
        this.scoretext = "";
        this.modalText = "¿Seguro de Iniciar servicio?";
        this.guardando = false;
        this.getServicio(this.activatedRoute.snapshot.paramMap.get("id"));
        this.mala = this.sanitizer.bypassSecurityTrustResourceUrl('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNlM2Y4ZmEiIGRhdGEtb3JpZ2luYWw9IiNFM0Y4RkEiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZTNmOGZhIiBzdHlsZT0iZmlsbDojRkFFM0UzIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS00LjY2NyA2LjA0N2MwLS43NC42LTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzLjU5MyAxLjMzMyAxLjMzM2MwIC43MzMtLjYgMS4zMzMtMS4zMzMgMS4zMzNzLTEuMzMzLS42LTEuMzMzLTEuMzMzem04LjQ3MiA2LjQ0OGMtLjEzLjEzLS4zMDEuMTk1LS40NzEuMTk1LS4xNzEgMC0uMzQxLS4wNjUtLjQ3MS0uMTk1LS43NjUtLjc2NS0xLjc4Mi0xLjE4NS0yLjg2My0xLjE4NXMtMi4wOTguNDIxLTIuODYyIDEuMTg2Yy0uMjYuMjYtLjY4Mi4yNi0uOTQzIDAtLjI2LS4yNi0uMjYtLjY4MiAwLS45NDMgMS4wMTYtMS4wMTYgMi4zNjgtMS41NzYgMy44MDUtMS41NzZzMi43ODguNTYgMy44MDUgMS41NzZjLjI2LjI2LjI2LjY4MiAwIC45NDJ6bS0uNDcyLTUuMTE1Yy0uNzMzIDAtMS4zMzMtLjYtMS4zMzMtMS4zMzMgMC0uNzQuNi0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMy41OTMgMS4zMzMgMS4zMzNjLjAwMS43MzMtLjU5OSAxLjMzMy0xLjMzMyAxLjMzM3oiIGZpbGw9IiM4Y2UxZWIiIGRhdGEtb3JpZ2luYWw9IiM4Q0UxRUIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0RFNEI0QiIgZGF0YS1vbGRfY29sb3I9IiM4Y2UxZWIiPjwvcGF0aD48L2c+IDwvc3ZnPg==');
        this.regular = this.sanitizer.bypassSecurityTrustResourceUrl("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZmZlNmUyIiBzdHlsZT0iZmlsbDojRTJGOUZGIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS01LjMzMyA2LjMzM2MwLTEuMjg2IDEuMDQ2LTIuMzMzIDIuMzMzLTIuMzMzczIuMzMzIDEuMDQ3IDIuMzMzIDIuMzMzLTEuMDQ2IDIuMzM0LTIuMzMzIDIuMzM0LTIuMzMzLTEuMDQ3LTIuMzMzLTIuMzM0em03LjUgNS44MzRoLTQuMzMzYy0uMzY4IDAtLjY2Ny0uMjk5LS42NjctLjY2N3MuMjk4LS42NjcuNjY3LS42NjdoNC4zMzNjLjM2OCAwIC42NjcuMjk5LjY2Ny42NjdzLS4yOTkuNjY3LS42NjcuNjY3em0uODMzLTMuNWMtMS4yODcgMC0yLjMzMy0xLjA0Ny0yLjMzMy0yLjMzM3MxLjA0Ni0yLjMzNCAyLjMzMy0yLjMzNCAyLjMzMyAxLjA0NyAyLjMzMyAyLjMzMy0xLjA0NiAyLjMzNC0yLjMzMyAyLjMzNHoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmYzU3M2IiIHN0eWxlPSJmaWxsOiM0QjlEREUiPjwvcGF0aD48L2c+IDwvc3ZnPg==");
        this.buena = this.sanitizer.bypassSecurityTrustResourceUrl("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMTYgOGMtNC40MTEgMC04IDMuNTg5LTggOHMzLjU4OSA4IDggOCA4LTMuNTg5IDgtOC0zLjU4OS04LTgtOHptMy4zMzMgNC43MWMuNzM1IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzcy0uNTk4IDEuMzMzLTEuMzMzIDEuMzMzLTEuMzMzLS41OTctMS4zMzMtMS4zMzJjMC0uNzM2LjU5OC0xLjMzNCAxLjMzMy0xLjMzNHptLTYuNjY2IDBjLjczNSAwIDEuMzMzLjU5OCAxLjMzMyAxLjMzM3MtLjU5OCAxLjMzMy0xLjMzMyAxLjMzMy0xLjMzMy0uNTk4LTEuMzMzLTEuMzMzYy0uMDAxLS43MzUuNTk3LTEuMzMzIDEuMzMzLTEuMzMzem04Ljk3NyA1LjI3MWMtLjc3MyAyLjQ5MS0zLjA0MSA0LjE2NS01LjY0NCA0LjE2NXMtNC44NzEtMS42NzQtNS42NDQtNC4xNjVjLS4wNDctLjE1Mi0uMDE5LS4zMTcuMDc1LS40NDVzLjI0NC0uMjAzLjQwMy0uMjAzaDEwLjMzM2MuMTU5IDAgLjMwOC4wNzYuNDAzLjIwMy4wOTMuMTI5LjEyMS4yOTQuMDc0LjQ0NXoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMwQTlEMzEiIGRhdGEtb2xkX2NvbG9yPSIjZmM1NzNiIj48L3BhdGg+PC9nPiA8L3N2Zz4=");
        this.finalizarForm = fb.group({
            score: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]],
            tipo_sensor: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]],
            tipo_controlador: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]],
            programa: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]],
            trabajo_realizado: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]],
            comentarios: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]],
            recomendaciones: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required]]
        });
    }
    IniciarServicioComponent.prototype.ngOnInit = function () {
        this.loadClients();
        this.getTecnicos();
        this.getIva();
        this.getUnitprice();
    };
    IniciarServicioComponent.prototype.ngAfterViewInit = function () {
        // this.signaturePad is now available
        this.signaturePad.set('minWidth', 2); // set szimek/signature_pad options at runtime
        this.signaturePad.clear(); // invoke functions from szimek/signature_pad API
    };
    IniciarServicioComponent.prototype.drawComplete = function () {
        // will be notified of szimek/signature_pad's onEnd event
        //console.log(this.signaturePad.toDataURL());
        this.signature = this.signaturePad.toDataURL();
    };
    IniciarServicioComponent.prototype.drawStart = function () {
        // will be notified of szimek/signature_pad's onBegin event
        console.log('begin drawing');
    };
    IniciarServicioComponent.prototype.loadClients = function () {
        var _this = this;
        this.userServices.getAllClients().subscribe(function (res) {
            _this.clientes = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getServicio = function (id) {
        var _this = this;
        this.serviciosService.getById(id).subscribe(function (res) {
            _this.servicio = res.detail;
            _this.conditonials(_this.servicio.status);
            _this.getTec();
            _this.getEmg();
            _this.getScore();
            _this.getRequested();
            _this.getEmpresa();
            _this.getContrato();
            _this.nfec = _this.servicio.date.slice(0, 16).replace("T", " a las ");
        }, function (err) {
            console.error(err);
        });
    };
    /*
    0. Solicitado por cliente(Falta asignar tecnico)
    1. Programado
    2. En proceso
    3. Realizado
    */
    IniciarServicioComponent.prototype.conditonials = function (n) {
        switch (n) {
            case 0:
                this.status = 'Solicitado por cliente (Falta asignar tecnico)';
                this.stat0 = true;
                this.proceso = false;
                break;
            case 1:
                this.status = 'Progamado';
                this.stat1 = true;
                this.proceso = false;
                break;
            case 2:
                this.status = 'En proceso';
                this.proceso = false;
                this.stat2 = true;
                break;
            case 3:
                this.status = 'Realizado';
                this.proceso = true;
                this.stat3 = true;
                break;
        }
    };
    IniciarServicioComponent.prototype.getScore = function () {
        switch (this.servicio.score) {
            case 0:
                this.malac = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNlM2Y4ZmEiIGRhdGEtb3JpZ2luYWw9IiNFM0Y4RkEiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZTNmOGZhIiBzdHlsZT0iZmlsbDojRkFFM0UzIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS00LjY2NyA2LjA0N2MwLS43NC42LTEuMzMzIDEuMzMzLTEuMzMzczEuMzMzLjU5MyAxLjMzMyAxLjMzM2MwIC43MzMtLjYgMS4zMzMtMS4zMzMgMS4zMzNzLTEuMzMzLS42LTEuMzMzLTEuMzMzem04LjQ3MiA2LjQ0OGMtLjEzLjEzLS4zMDEuMTk1LS40NzEuMTk1LS4xNzEgMC0uMzQxLS4wNjUtLjQ3MS0uMTk1LS43NjUtLjc2NS0xLjc4Mi0xLjE4NS0yLjg2My0xLjE4NXMtMi4wOTguNDIxLTIuODYyIDEuMTg2Yy0uMjYuMjYtLjY4Mi4yNi0uOTQzIDAtLjI2LS4yNi0uMjYtLjY4MiAwLS45NDMgMS4wMTYtMS4wMTYgMi4zNjgtMS41NzYgMy44MDUtMS41NzZzMi43ODguNTYgMy44MDUgMS41NzZjLjI2LjI2LjI2LjY4MiAwIC45NDJ6bS0uNDcyLTUuMTE1Yy0uNzMzIDAtMS4zMzMtLjYtMS4zMzMtMS4zMzMgMC0uNzQuNi0xLjMzMyAxLjMzMy0xLjMzM3MxLjMzMy41OTMgMS4zMzMgMS4zMzNjLjAwMS43MzMtLjU5OSAxLjMzMy0xLjMzMyAxLjMzM3oiIGZpbGw9IiM4Y2UxZWIiIGRhdGEtb3JpZ2luYWw9IiM4Q0UxRUIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgc3R5bGU9ImZpbGw6I0RFNEI0QiIgZGF0YS1vbGRfY29sb3I9IiM4Y2UxZWIiPjwvcGF0aD48L2c+IDwvc3ZnPg==';
                this.scoretext = "Experiencia Mala";
                break;
            case 1:
                this.regularc = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSIiIGRhdGEtb2xkX2NvbG9yPSIjZmZlNmUyIiBzdHlsZT0iZmlsbDojRTJGOUZGIj48L3BhdGg+PHBhdGggZD0ibTE2IDhjLTQuNDEzIDAtOCAzLjU4Ny04IDhzMy41ODcgOCA4IDggOC0zLjU4NyA4LTgtMy41ODctOC04LTh6bS01LjMzMyA2LjMzM2MwLTEuMjg2IDEuMDQ2LTIuMzMzIDIuMzMzLTIuMzMzczIuMzMzIDEuMDQ3IDIuMzMzIDIuMzMzLTEuMDQ2IDIuMzM0LTIuMzMzIDIuMzM0LTIuMzMzLTEuMDQ3LTIuMzMzLTIuMzM0em03LjUgNS44MzRoLTQuMzMzYy0uMzY4IDAtLjY2Ny0uMjk5LS42NjctLjY2N3MuMjk4LS42NjcuNjY3LS42NjdoNC4zMzNjLjM2OCAwIC42NjcuMjk5LjY2Ny42NjdzLS4yOTkuNjY3LS42NjcuNjY3em0uODMzLTMuNWMtMS4yODcgMC0yLjMzMy0xLjA0Ny0yLjMzMy0yLjMzM3MxLjA0Ni0yLjMzNCAyLjMzMy0yLjMzNCAyLjMzMyAxLjA0NyAyLjMzMyAyLjMzMy0xLjA0NiAyLjMzNC0yLjMzMyAyLjMzNHoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmYzU3M2IiIHN0eWxlPSJmaWxsOiM0QjlEREUiPjwvcGF0aD48L2c+IDwvc3ZnPg==';
                this.scoretext = "Experiencia Buena";
                break;
            case 2:
                this.buenac = true;
                this.score = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iNTEyIiBjbGFzcz0iIj48Zz48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMjYgMzJoLTIwYy0zLjMxNCAwLTYtMi42ODYtNi02di0yMGMwLTMuMzE0IDIuNjg2LTYgNi02aDIwYzMuMzE0IDAgNiAyLjY4NiA2IDZ2MjBjMCAzLjMxNC0yLjY4NiA2LTYgNnoiIGZpbGw9IiNmZmU2ZTIiIGRhdGEtb3JpZ2luYWw9IiNGRkU2RTIiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiNmZmU2ZTIiIHN0eWxlPSJmaWxsOiNFRkZGRTIiPjwvcGF0aD48cGF0aCBkPSJtMTYgOGMtNC40MTEgMC04IDMuNTg5LTggOHMzLjU4OSA4IDggOCA4LTMuNTg5IDgtOC0zLjU4OS04LTgtOHptMy4zMzMgNC43MWMuNzM1IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzcy0uNTk4IDEuMzMzLTEuMzMzIDEuMzMzLTEuMzMzLS41OTctMS4zMzMtMS4zMzJjMC0uNzM2LjU5OC0xLjMzNCAxLjMzMy0xLjMzNHptLTYuNjY2IDBjLjczNSAwIDEuMzMzLjU5OCAxLjMzMyAxLjMzM3MtLjU5OCAxLjMzMy0xLjMzMyAxLjMzMy0xLjMzMy0uNTk4LTEuMzMzLTEuMzMzYy0uMDAxLS43MzUuNTk3LTEuMzMzIDEuMzMzLTEuMzMzem04Ljk3NyA1LjI3MWMtLjc3MyAyLjQ5MS0zLjA0MSA0LjE2NS01LjY0NCA0LjE2NXMtNC44NzEtMS42NzQtNS42NDQtNC4xNjVjLS4wNDctLjE1Mi0uMDE5LS4zMTcuMDc1LS40NDVzLjI0NC0uMjAzLjQwMy0uMjAzaDEwLjMzM2MuMTU5IDAgLjMwOC4wNzYuNDAzLjIwMy4wOTMuMTI5LjEyMS4yOTQuMDc0LjQ0NXoiIGZpbGw9IiNmYzU3M2IiIGRhdGEtb3JpZ2luYWw9IiNGQzU3M0IiIGNsYXNzPSIiIHN0eWxlPSJmaWxsOiMwQTlEMzEiIGRhdGEtb2xkX2NvbG9yPSIjZmM1NzNiIj48L3BhdGg+PC9nPiA8L3N2Zz4=';
                this.scoretext = "Experiencia Excelente";
                break;
            default:
                break;
        }
    };
    IniciarServicioComponent.prototype.getTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getTec = function () {
        var _this = this;
        this.userServices.getUser(this.servicio.tecnico).subscribe(function (res) {
            var temp = res.detail;
            _this.tec = temp.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getEmg = function () {
        var _this = this;
        this.emgServices.getById(this.servicio.emg).subscribe(function (res) {
            var temp = res.detail;
            _this.emg = temp.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getId = function (id) {
        return id.substring(id.length - 10, id.length);
    };
    IniciarServicioComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_9__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    IniciarServicioComponent.prototype.getPdf = function () {
        var data = {
            template: { "shortid": "HJlwC8WhkH" },
            data: { id: this.servicio._id.substring(this.servicio._id.length - 5, this.servicio._id.length),
                emg: this.emg,
                tec: this.tec,
                type: this.servicio.type,
                desc: this.servicio.desc,
                status: this.status,
                date: this.getDate(this.servicio.date),
                start: this.getDate(this.servicio.start),
                finish: this.getDate(this.servicio.finish),
                observ: this.servicio.observ,
                signature: this.servicio.signature,
                score: this.score,
                scoretext: this.scoretext,
                trabajo_realizado: this.servicio.observ.trabajo_realizado,
                comentarios: this.servicio.observ.comentarios,
                recomendaciones: this.servicio.observ.recomendaciones,
                requestby: this.requestby,
                empresa: this.empresa,
                contrato: this.contrato,
                tipo_sensor: this.servicio.service_details.tipo_sensor,
                tipo_controlador: this.servicio.service_details.tipo_controlador,
                tipo_programa: this.servicio.service_details.programa
            },
            options: { 'timeout': 60000 }
        };
        this.serviciosService.getPdf(data, "servicio");
    };
    IniciarServicioComponent.prototype.regresar = function () {
        this.location.back();
    };
    IniciarServicioComponent.prototype.enBut = function () {
        this.btnen = false;
    };
    IniciarServicioComponent.prototype.asigTec = function () {
        var _this = this;
        this.serviciosService.asigTec(this.servicio._id, this.tec_id, this.nfec).subscribe(function (res) {
            console.log(res);
            _this.msg = true;
            _this.stat0 = false;
            _this.getEmailData(_this.servicio.client, _this.tec_id);
            _this.serviciosService.emailProgramar({
                "email_tecnico": _this.tec_email,
                "email_cliente": _this.cli_email,
                "nameTec": _this.tec_name,
                "nameCli": _this.cli_name,
                "date": _this.getDate(_this.nfec),
                "id": _this.servicio._id.substring(_this.servicio._id.length - 10, _this.servicio._id.length)
            }).subscribe(function (res) {
                console.log(res);
            }, function (err) {
                console.error(err);
            });
            setTimeout(function () {
                _this.regresar();
            }, 1000);
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getEmailData = function (idc, idt) {
        var _this = this;
        this.clientes.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idc == e._id) {
                    this.cli_email = e.info.email;
                    this.cli_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
        this.tecnicos.forEach(function (e) { return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](_this, void 0, void 0, function () {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"](this, function (_a) {
                if (idt == e._id) {
                    this.tec_email = e.info.email;
                    this.tec_name = e.info.name;
                }
                return [2 /*return*/];
            });
        }); });
    };
    IniciarServicioComponent.prototype.inciarServicio = function () {
        var _this = this;
        this.serviciosService.start(this.servicio._id).subscribe(function (res) {
            console.log(res);
            setTimeout(function () {
                _this.modalText = "Iniciando servicio. . .";
            }, 1500);
            _this.router.navigateByUrl('/misservicios-tec');
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getRequested = function () {
        var _this = this;
        this.userServices.getUser(this.servicio.requested_by).subscribe(function (req) {
            var e = req.detail;
            _this.requestby = e.info.name;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getEmpresa = function () {
        var _this = this;
        this.empresaService.getid(this.servicio.client).subscribe(function (req) {
            var e = req.detail;
            _this.empresa = e.name;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getContrato = function () {
        var _this = this;
        this.agreementServices.getContratoById(this.servicio.agreement).subscribe(function (req) {
            _this.contrato = req.detail;
            _this.nombre_contrato = _this.contrato.name;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getServiceHours = function () {
        var dt = moment__WEBPACK_IMPORTED_MODULE_9__(this.servicio.start.replace('T', ' ').slice(0, 16));
        var di = moment__WEBPACK_IMPORTED_MODULE_9__();
        var temp = 1;
        if (di.diff(dt, 'hours') > 0) {
            temp = di.diff(dt, 'hours');
        }
        return temp;
    };
    IniciarServicioComponent.prototype.finalizarServicio = function () {
        var _this = this;
        this.guardando = true;
        var data = this.finalizarForm.value;
        data.hours = this.getServiceHours();
        data.unit_price = this.unitprice;
        data.iva = this.iva;
        data.amount = data.unit_price * data.hours;
        data.total = data.amount * (1 + data.iva);
        data.firma = this.signature;
        console.log(data);
        this.serviciosService.finish(this.servicio._id, data).subscribe(function (res) {
            if (_this.contrato.period.single) {
                _this.agreementServices.vencer(_this.contrato._id).subscribe(function (res) { return console.log(res); }, function (err) { return console.error(err); });
            }
            _this.agreementServices.restar(_this.contrato._id, (_this.contrato.monto_actual - data.total)).subscribe(function (res) { return console.log(res); }, function (err) { return console.error(err); });
            _this.guardando = false;
            _this.stat2 = false;
            _this.alert.success('Servicio correctamente finalizado recargando...');
            _this.hideModal();
            _this.getServicio(_this.activatedRoute.snapshot.paramMap.get("id"));
        }, function (err) {
            _this.alert.error('Ocurrio un error durante el registro');
        });
    };
    IniciarServicioComponent.prototype.clearSg = function () {
        this.signaturePad.clear();
    };
    IniciarServicioComponent.prototype.getIva = function () {
        var _this = this;
        this.pricesService.getIva().subscribe(function (res) {
            console.log(res);
            _this.iva = res.detail.iva;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.getUnitprice = function () {
        var _this = this;
        this.pricesService.getUnitprice().subscribe(function (res) {
            //console.log(res)
            _this.unitprice = res.detail.unitprice;
        }, function (err) {
            console.error(err);
        });
    };
    IniciarServicioComponent.prototype.hideModal = function () {
        document.getElementById('close-modal').click();
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(angular2_signaturepad_signature_pad__WEBPACK_IMPORTED_MODULE_12__["SignaturePad"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", angular2_signaturepad_signature_pad__WEBPACK_IMPORTED_MODULE_12__["SignaturePad"])
    ], IniciarServicioComponent.prototype, "signaturePad", void 0);
    IniciarServicioComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-iniciar-servicio',
            template: __webpack_require__(/*! ./iniciar-servicio.component.html */ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.html"),
            styles: [__webpack_require__(/*! ./iniciar-servicio.component.css */ "./src/app/tecnicos-components/iniciar-servicio/iniciar-servicio.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_2__["ServiciosService"], src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_4__["UsuariosService"],
            src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_5__["EmgsService"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["DomSanitizer"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_7__["EmpresasService"], src_app_services_agreements_service__WEBPACK_IMPORTED_MODULE_8__["AgreementsService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_10__["FormBuilder"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"],
            src_app_services_prices_service__WEBPACK_IMPORTED_MODULE_13__["PricesService"], src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_14__["AlertService"]])
    ], IniciarServicioComponent);
    return IniciarServicioComponent;
}());



/***/ }),

/***/ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.css ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RlY25pY29zLWNvbXBvbmVudHMvbWlzLXNlcnZpY2lvcy10ZWMvbWlzLXNlcnZpY2lvcy10ZWMuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h2 class=\"text-left\">Ver servicios registrados</h2>\r\n    </div>\r\n    <div class=\"col text-right\">\r\n      <button class=\"btn btn-primary\" (click)=\"gotoNew()\">Programar nuevo servicio</button>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h5 class=\"text-center\">Filtrar</h5>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Por equipo</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <select id=\"inputState\" class=\"form-control form-control-sm\" *ngIf=\"true\" [(ngModel)]=\"id_emg\" [ngModelOptions]=\"{standalone: true}\" (change)=\"findByEmg()\">\r\n            <option value=\"todos\">Ver todos</option>\r\n            <option *ngFor=\"let emg of emgs\" value=\"{{emg._id}}\">{{emg.info.name}}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <h6 class=\"text-left\">Buscar por id</h6>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Id del servicio\" [(ngModel)]=\"busqById\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busquedaById()\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <div class=\"row text-center\">\r\n        <div class=\"col-12\">\r\n          <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr> \r\n                  <th scope=\"col\">Id</th>\r\n                  <th scope=\"col\">Equipo</th>\r\n                  <th scope=\"col\">Técnico</th>\r\n                  <th scope=\"col\">Fecha progamada</th>\r\n                  <th scope=\"col\">Estatus</th>\r\n                  <th scope=\"col\">Detalle</th>\r\n                  <th scope=\"col\">Calificación</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let servicio of servicios\">\r\n                  <td scope=\"row\">{{getId(servicio._id)}}</td>\r\n                  <td>{{getEmg(servicio.emg)}}</td>\r\n                  <td>{{getTecnico(servicio.tecnico)}}</td>\r\n                  <td>{{getDate(servicio.date)}}</td>\r\n                  <td>{{getStatus(servicio.status)}}</td>\r\n                  <td>{{getScore(servicio.score,servicio.status)}}</td>\r\n                  <td>\r\n                    <button mat-mini-fab class=\"bg-primary\" (click)=\"viewService(servicio._id)\">\r\n                        <mat-icon>pageview</mat-icon>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n          <br>\r\n          <hr>\r\n          <br>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.ts ***!
  \**************************************************************************************/
/*! exports provided: MisServiciosTecComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MisServiciosTecComponent", function() { return MisServiciosTecComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/emgs.service */ "./src/app/services/emgs.service.ts");
/* harmony import */ var src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/servicios.service */ "./src/app/services/servicios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);








var MisServiciosTecComponent = /** @class */ (function () {
    function MisServiciosTecComponent(userServices, emgServices, serviciosService, router, auth) {
        this.userServices = userServices;
        this.emgServices = emgServices;
        this.serviciosService = serviciosService;
        this.router = router;
        this.auth = auth;
        this.busqById = "";
        this.id_tec = "";
        this.id_emg = "";
    }
    MisServiciosTecComponent.prototype.ngOnInit = function () {
        this.loadTecnicos();
        this.loadEmgs();
        this.loadServices();
    };
    MisServiciosTecComponent.prototype.loadTecnicos = function () {
        var _this = this;
        this.userServices.gettec().subscribe(function (res) {
            _this.tecnicos = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    MisServiciosTecComponent.prototype.loadEmgs = function () {
        var _this = this;
        this.emgServices.getAll().subscribe(function (res) {
            _this.emgs = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    MisServiciosTecComponent.prototype.loadServices = function () {
        var _this = this;
        this.serviciosService.getByTec(this.auth.getId()).subscribe(function (res) {
            _this.servicios = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    MisServiciosTecComponent.prototype.getTecnico = function (id) {
        if (id == null) {
            return "Por asignar";
        }
        else {
            var n = this.tecnicos.find(function (tec) {
                return tec._id == id;
            });
            return n.info.name;
        }
    };
    MisServiciosTecComponent.prototype.getEmg = function (id) {
        var n = this.emgs.find(function (tec) {
            return tec._id == id;
        });
        return n.info.name;
    };
    /*
   0. Solicitado por cliente(Falta asignar tecnico)
   1. Programado
   2. En proceso
   3. Realizado
   */
    MisServiciosTecComponent.prototype.getStatus = function (n) {
        switch (n) {
            case 0:
                return "Solicitado (Asignar Tec)";
                break;
            case 1:
                return "Programado";
                break;
            case 2:
                return "En proceso";
                break;
            case 3:
                return "Realizado";
                break;
            default:
                break;
        }
    };
    MisServiciosTecComponent.prototype.getId = function (id) {
        return id.substring(id.length - 10, id.length);
    };
    MisServiciosTecComponent.prototype.getDate = function (date) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_7__(date.replace('T', ' ').slice(0, 16)).locale('es');
        var temp = registro.format('dddd, MMMM Do YYYY');
        return temp.charAt(0).toUpperCase() + temp.slice(1);
    };
    MisServiciosTecComponent.prototype.gotoNew = function () {
        this.router.navigateByUrl('misservicios-tec/nuevo');
    };
    MisServiciosTecComponent.prototype.viewService = function (id) {
        this.router.navigateByUrl('misservicios-tec/' + id);
    };
    MisServiciosTecComponent.prototype.busquedaById = function () {
        this.id_emg = "";
        this.id_tec = "";
        if (this.busqById == "") {
            this.loadServices();
        }
        else {
            var regex_1 = new RegExp(this.busqById.toLowerCase());
            var temp = this.servicios;
            this.servicios = temp.filter(function (servicio) { return servicio._id.toLowerCase().match(regex_1); });
        }
    };
    MisServiciosTecComponent.prototype.findByTec = function () {
        var _this = this;
        this.id_emg = "";
        if (this.id_tec == "todos") {
            this.loadServices();
        }
        else {
            this.serviciosService.getByTec(this.id_tec).subscribe(function (res) {
                _this.servicios = res.detail;
            }, function (err) {
                console.error(err);
            });
        }
    };
    MisServiciosTecComponent.prototype.findByEmg = function () {
        var _this = this;
        this.id_tec = "";
        if (this.id_emg == "todos") {
            this.loadServices();
        }
        else {
            this.serviciosService.getByEmg(this.id_emg).subscribe(function (res) {
                _this.servicios = res.detail;
            }, function (err) {
                console.error(err);
            });
        }
    };
    MisServiciosTecComponent.prototype.getScore = function (score, status) {
        if (status != 3) {
            return 'No Calificado';
        }
        else {
            switch (score) {
                case 0:
                    return 'Mala';
                case 1:
                    return 'Buena';
                case 2:
                    return 'Excelente';
            }
        }
    };
    MisServiciosTecComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-mis-servicios-tec',
            template: __webpack_require__(/*! ./mis-servicios-tec.component.html */ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.html"),
            styles: [__webpack_require__(/*! ./mis-servicios-tec.component.css */ "./src/app/tecnicos-components/mis-servicios-tec/mis-servicios-tec.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__["UsuariosService"], src_app_services_emgs_service__WEBPACK_IMPORTED_MODULE_3__["EmgsService"], src_app_services_servicios_service__WEBPACK_IMPORTED_MODULE_4__["ServiciosService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"]])
    ], MisServiciosTecComponent);
    return MisServiciosTecComponent;
}());



/***/ }),

/***/ "./src/app/usuarios-components/add-empresa/add-empresa.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/usuarios-components/add-empresa/add-empresa.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzdWFyaW9zLWNvbXBvbmVudHMvYWRkLWVtcHJlc2EvYWRkLWVtcHJlc2EuY29tcG9uZW50LmNzcyJ9 */"

/***/ }),

/***/ "./src/app/usuarios-components/add-empresa/add-empresa.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/usuarios-components/add-empresa/add-empresa.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr> \r\n<div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">Agregar empresa</h5>\r\n            </div>\r\n            <form class=\"container\" [formGroup]=\"empresaForm\" (ngSubmit)=\"save()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name\"><span class=\"text-danger\">*</span>Nombre empresa</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Ejemplo: AHMSA\" formControlName=\"name\">\r\n                      <div *ngIf=\"empresaForm.get('name').errors&&empresaForm.get('name').dirty\">\r\n                        <p *ngIf=\"empresaForm.get('name').hasError('required')\" class=\"text-danger\">Nombre requerido</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                          <label for=\"name\"><span class=\"text-danger\">*</span>Nombre largo ó descripción</label>\r\n                          <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Ejemplo: Altos hornos de México SA.\" formControlName=\"description\">\r\n                          <div *ngIf=\"empresaForm.get('description').errors&&empresaForm.get('description').dirty\">\r\n                            <p *ngIf=\"empresaForm.get('description').hasError('required')\" class=\"text-danger\">Nombre requerido</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"empresaForm.invalid\">Guardar</button>                    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <br>\r\n        </div>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/usuarios-components/add-empresa/add-empresa.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/usuarios-components/add-empresa/add-empresa.component.ts ***!
  \**************************************************************************/
/*! exports provided: AddEmpresaComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddEmpresaComponent", function() { return AddEmpresaComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");







var AddEmpresaComponent = /** @class */ (function () {
    function AddEmpresaComponent(router, fb, empresaService, location, alert) {
        this.router = router;
        this.fb = fb;
        this.empresaService = empresaService;
        this.location = location;
        this.alert = alert;
        this.empresaForm = fb.group({
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]],
            description: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]],
        });
    }
    AddEmpresaComponent.prototype.ngOnInit = function () {
    };
    AddEmpresaComponent.prototype.regresar = function () {
        this.location.back();
    };
    AddEmpresaComponent.prototype.save = function () {
        var _this = this;
        this.empresaService.save(this.empresaForm.value).subscribe(function (res) {
            _this.alert.success("Empresa registrada exitosamente, sera redireccionado en unos segundos.");
            setTimeout(function () {
                _this.regresar();
            }, 4000);
        }, function (err) {
            _this.alert.error("Ocurrio un error");
            console.log(err);
        });
    };
    AddEmpresaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-add-empresa',
            template: __webpack_require__(/*! ./add-empresa.component.html */ "./src/app/usuarios-components/add-empresa/add-empresa.component.html"),
            styles: [__webpack_require__(/*! ./add-empresa.component.css */ "./src/app/usuarios-components/add-empresa/add-empresa.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"]])
    ], AddEmpresaComponent);
    return AddEmpresaComponent;
}());



/***/ }),

/***/ "./src/app/usuarios-components/add-user/add-user.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/usuarios-components/add-user/add-user.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".bot1{\r\n    margin-left: 30px;\r\n}\r\n.pad1{\r\n    padding-bottom: 15px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXN1YXJpb3MtY29tcG9uZW50cy9hZGQtdXNlci9hZGQtdXNlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxvQkFBb0I7QUFDeEIiLCJmaWxlIjoic3JjL2FwcC91c3Vhcmlvcy1jb21wb25lbnRzL2FkZC11c2VyL2FkZC11c2VyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm90MXtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG59XHJcbi5wYWQxe1xyXG4gICAgcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/usuarios-components/add-user/add-user.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/usuarios-components/add-user/add-user.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n<div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">Añadir nuevo usuario</h5>\r\n            </div>\r\n            <form class=\"container\" [formGroup]=\"userForm\" (ngSubmit)=\"guardarUsuario()\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                          <label for=\"name\"><span class=\"text-danger\">*</span>Nombre</label>\r\n                          <input type=\"text\" class=\"form-control form-control-sm\" id=\"name\" placeholder=\"Nombre del nuevo\" formControlName=\"name\">\r\n                          <div *ngIf=\"userForm.get('name').errors&&userForm.get('name').dirty\">\r\n                            <p *ngIf=\"userForm.get('name').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                          <label for=\"email\"><span class=\"text-danger\">*</span>Email</label>\r\n                          <input type=\"email\" class=\"form-control form-control-sm\" id=\"email\" placeholder=\"Email de usuario\" formControlName=\"email\">\r\n                          <div *ngIf=\"userForm.get('email').errors&&userForm.get('email').dirty\">\r\n                            <p *ngIf=\"userForm.get('email').hasError('required')\" class=\"text-danger\">El email es requerido</p>\r\n                            <p *ngIf=\"userForm.get('email').hasError('email')\" class=\"text-danger\">Debe ser un email</p>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                          <label for=\"inputState\"><span class=\"text-danger\">*</span>Rol</label>\r\n                          <select id=\"inputState\" class=\"form-control form-control-sm\" formControlName=\"role\" (change)=\"isClientToggle()\">\r\n                            <option *ngFor=\"let o of options\" value=\"{{o.id}}\">{{o.name}}</option>\r\n                          </select>\r\n                          <div *ngIf=\"userForm.get('role').errors&&userForm.get('role').dirty\">\r\n                            <p *ngIf=\"userForm.get('role').hasError('required')\" class=\"text-danger\">El nombre es requerido</p>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"col\" *ngIf=\"isClient\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"inputState\"><span class=\"text-danger\">*</span>Empresa a la que pertenece</label>\r\n                            <select id=\"inputState\" class=\"form-control form-control-sm\" formControlName=\"empresa\">\r\n                              <option *ngFor=\"let empresa of empresas\" value=\"{{empresa._id}}\">{{empresa.name}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"gen\"><span class=\"text-danger\">*</span>Generar</label>\r\n                        <button class=\"btn btn-primary w-100\" type=\"button\" (click)=\"genUsuCon()\" id=\"gen\">Generar usuario y contraseña</button>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                          <label for=\"username\"><span class=\"text-danger\">*</span>Usuario</label>\r\n                          <input type=\"text\" class=\"form-control form-control-sm\" id=\"username\" placeholder=\"Usuario\" [(ngModel)]=\"u\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                      <div class=\"form-group\">\r\n                          <label for=\"pass\"><span class=\"text-danger\">*</span>Contraseña</label>\r\n                          <input type=\"text\" class=\"form-control form-control-sm\" id=\"pass\" placeholder=\"Contraseña\" [(ngModel)]=\"u\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <br><br>\r\n                <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-4\">\r\n                        <div class=\"pad1 w-100\">\r\n                            <button type=\"submit\" class=\"btn btn-primary w-100\" [disabled]=\"userForm.invalid\">Guardar</button>                    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/usuarios-components/add-user/add-user.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/usuarios-components/add-user/add-user.component.ts ***!
  \********************************************************************/
/*! exports provided: AddUserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddUserComponent", function() { return AddUserComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");








var AddUserComponent = /** @class */ (function () {
    function AddUserComponent(usuarios, auth, fb, empresaService, location, alert) {
        this.usuarios = usuarios;
        this.auth = auth;
        this.fb = fb;
        this.empresaService = empresaService;
        this.location = location;
        this.alert = alert;
        this.options = [
            { name: "Administrador", id: 0 },
            { name: "Técnico", id: 1 },
            { name: "Cliente", id: 2 }
        ];
        this.isClient = false;
        this.userForm = fb.group({
            name: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            email: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].email]],
            role: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            empresa: ['5ce73f462b1fdc4040de8003', []]
        });
    }
    AddUserComponent.prototype.ngOnInit = function () {
        this.loadEmpresas();
    };
    AddUserComponent.prototype.regresar = function () {
        this.location.back();
    };
    AddUserComponent.prototype.genUsuCon = function () {
        this.u = "" + (Math.floor(Math.random() * 1000000));
    };
    AddUserComponent.prototype.getRol = function (id) {
        this.options.forEach(function (e) {
            if (e.id = id) {
                return e.name;
            }
        });
    };
    AddUserComponent.prototype.guardarUsuario = function () {
        var _this = this;
        var values = this.userForm.value;
        this.usuarios.newUser({ "info": {
                "name": values.name,
                "email": values.email
            },
            "permissions": {
                "emg": true,
                "tecnicos": true,
                "clientes": true
            },
            "meta": {
                "registred_by": this.auth.getId()
            },
            "cliente": values.empresa,
            "username": this.u,
            "password": this.u,
            "role": values.role
        }).subscribe(function (res) {
            _this.alert.success("Usuario registrado exitosamente, será redireccionado en unos segundos.");
            _this.sendMail({
                "email": res.detail.info.email,
                "username": _this.u,
                "password": _this.u,
                "name": values.name,
                "id": res.detail._id
            });
            setTimeout(function () {
                _this.regresar();
            }, 4000);
        }, function (err) {
            console.log(err);
            _this.alert.error("Ocurrio un error durante el registro");
        });
    };
    AddUserComponent.prototype.sendMail = function (data) {
        var _this = this;
        this.usuarios.sendMailNewUser(data).subscribe(function (res) {
            console.log(res);
        }, function (err) {
            console.log(err);
            _this.alert.error("Ocurrio un error al enviar correo de notificación.");
        });
    };
    AddUserComponent.prototype.isClientToggle = function () {
        var temp = this.userForm.value.role;
        if (temp == 2) {
            this.isClient = !this.isClient;
        }
    };
    AddUserComponent.prototype.loadEmpresas = function () {
        var _this = this;
        this.empresaService.get().subscribe(function (res) {
            _this.empresas = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    AddUserComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-add-user',
            template: __webpack_require__(/*! ./add-user.component.html */ "./src/app/usuarios-components/add-user/add-user.component.html"),
            styles: [__webpack_require__(/*! ./add-user.component.css */ "./src/app/usuarios-components/add-user/add-user.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__["UsuariosService"],
            _services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"],
            src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_5__["EmpresasService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_6__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_7__["AlertService"]])
    ], AddUserComponent);
    return AddUserComponent;
}());



/***/ }),

/***/ "./src/app/usuarios-components/usuarios/usuarios.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/usuarios-components/usuarios/usuarios.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table{\r\n    width: 100%;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXN1YXJpb3MtY29tcG9uZW50cy91c3Vhcmlvcy91c3Vhcmlvcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvdXN1YXJpb3MtY29tcG9uZW50cy91c3Vhcmlvcy91c3Vhcmlvcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGV7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/usuarios-components/usuarios/usuarios.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/usuarios-components/usuarios/usuarios.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\" *ngIf=\"load\">\r\n  <hr>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <h2 class=\"text-left\">Usuarios registrados</h2>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n  <ul class=\"nav nav-tabs\" id=\"tabsUsers\" role=\"tablist\">\r\n    <li class=\"nav-item\">\r\n      <p class=\"nav-link active\"  id=\"usuarios-tab\" data-toggle=\"tab\" href=\"#usuarios\" role=\"tab\" aria-controls=\"usuarios\" aria-selected=\"true\">Usuarios</p>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <p class=\"nav-link\" id=\"empresa_clientes-tab\" data-toggle=\"tab\" href=\"#empresa_clientes\" role=\"tab\" aria-controls=\"empresa_clientes\" aria-selected=\"false\">Empresas clientes</p>\r\n    </li>\r\n  </ul>\r\n  <div class=\"tab-content\" id=\"myTabContent\">\r\n    <div class=\"tab-pane fade show active\"  id=\"usuarios\" role=\"tabpanel\" aria-labelledby=\"usuarios-tab\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <h5 class=\"text-center\">Filtrar</h5>\r\n        </div>\r\n      </div>  \r\n      <div class=\"row\">\r\n        <div class=\"col-3\">\r\n          <h6 class=\"text-left\">Buscar por nombre</h6>\r\n        </div>\r\n        <div class=\"col-3 text-right\">\r\n          <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Nombre del usuario\" [(ngModel)]=\"busq\" [ngModelOptions]=\"{standalone: true}\" (keyup)=\"busqueda()\">\r\n        </div>\r\n        <div class=\"col-6 text-right\">\r\n          <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewuser()\">\r\n            Nuevo usuario\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n            <table class=\"table table-striped\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">Nombre</th>\r\n                    <th scope=\"col\">Usuario</th>\r\n                    <th scope=\"col\">Email</th>\r\n                    <th scope=\"col\">Rol</th>\r\n                    <th scope=\"col\">Estatus</th>\r\n                    <th scope=\"col\">Detalle</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor=\"let user of users\">\r\n                    <td scope=\"row\">{{user.info.name}}</td>\r\n                    <td>{{user.username}}</td>\r\n                    <td>{{user.info.email}}</td>\r\n                    <td>{{getRol(user.role)}}</td>\r\n                    <td>{{getStatus(user.active)}}</td>\r\n                    <td>\r\n                        <button mat-mini-fab class=\"bg-primary\" (click)=\"usuarioDet(user._id)\">\r\n                            <mat-icon>pageview</mat-icon>\r\n                        </button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"tab-pane fade\"  id=\"empresa_clientes\" role=\"tabpanel\" aria-labelledby=\"empresa_clientes-tab\">\r\n      <br>\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n        </div>\r\n        <div class=\"col-6 text-right\">\r\n          <button class=\"btn btn-primary\" type=\"button\" (click)=\"goNewEmpresa()\">\r\n            Nueva empresa\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Descripción</th>\r\n                <th scope=\"col\">Estatus</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let empresa of empresas\">\r\n                <td scope=\"row\">{{empresa.name}}</td>\r\n                <td>{{empresa.description}}</td>\r\n                <td>{{getStatus(empresa.status)}}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr><hr>\r\n</div>\r\n<div class=\"container\" *ngIf=\"!load\">\r\n  <div class=\"row\">\r\n    <p class=\"lead mx-auto\">CARGANDO DATOS</p>\r\n  </div>\r\n  <div class=\"row\">\r\n    <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n  </div>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/usuarios-components/usuarios/usuarios.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/usuarios-components/usuarios/usuarios.component.ts ***!
  \********************************************************************/
/*! exports provided: UsuariosComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsuariosComponent", function() { return UsuariosComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/empresas.service */ "./src/app/services/empresas.service.ts");





var UsuariosComponent = /** @class */ (function () {
    function UsuariosComponent(usuarios, router, empresasService) {
        this.usuarios = usuarios;
        this.router = router;
        this.empresasService = empresasService;
        this.load = false;
    }
    UsuariosComponent.prototype.ngOnInit = function () {
        this.loadUsers();
        this.loadEmpresas();
    };
    UsuariosComponent.prototype.loadUsers = function () {
        var _this = this;
        this.usuarios.getAllUsers().subscribe(function (data) {
            _this.users = data.detail;
            _this.load = true;
        }, function (err) {
            console.log(err);
        });
    };
    UsuariosComponent.prototype.loadEmpresas = function () {
        var _this = this;
        this.empresasService.get().subscribe(function (res) {
            _this.empresas = res.detail;
        }, function (err) {
            console.error(err);
        });
    };
    UsuariosComponent.prototype.getRol = function (r) {
        switch (r) {
            case 0:
                return "Administrador";
                break;
            case 1:
                return "Técnico";
                break;
            case 2:
                return "Cliente";
                break;
        }
    };
    UsuariosComponent.prototype.getStatus = function (s) {
        if (s) {
            return "Activo";
        }
        else {
            return "Inactivo";
        }
    };
    UsuariosComponent.prototype.usuarioDet = function (id) {
        this.router.navigateByUrl('usuarios/' + id);
    };
    UsuariosComponent.prototype.goNewuser = function () {
        this.router.navigateByUrl('usuarios/nuevo');
    };
    UsuariosComponent.prototype.goNewEmpresa = function () {
        this.router.navigateByUrl('usuarios/nuevaempresa');
    };
    UsuariosComponent.prototype.busqueda = function () {
        if (this.busq == "") {
            this.loadUsers();
        }
        else {
            var regex = new RegExp(this.busq.toLowerCase());
            var temp = this.users;
            this.users = temp.filter(function (pln) { return pln.info.name.toLowerCase().match(regex); });
        }
    };
    UsuariosComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-usuarios',
            template: __webpack_require__(/*! ./usuarios.component.html */ "./src/app/usuarios-components/usuarios/usuarios.component.html"),
            styles: [__webpack_require__(/*! ./usuarios.component.css */ "./src/app/usuarios-components/usuarios/usuarios.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_usuarios_service__WEBPACK_IMPORTED_MODULE_2__["UsuariosService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], src_app_services_empresas_service__WEBPACK_IMPORTED_MODULE_4__["EmpresasService"]])
    ], UsuariosComponent);
    return UsuariosComponent;
}());



/***/ }),

/***/ "./src/app/usuarios-components/view-user/view-user.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/usuarios-components/view-user/view-user.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".bot1{\r\n    margin-left: 30px;\r\n}\r\n.pad1{\r\n    padding-bottom: 15px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXN1YXJpb3MtY29tcG9uZW50cy92aWV3LXVzZXIvdmlldy11c2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7QUFDckI7QUFDQTtJQUNJLG9CQUFvQjtBQUN4QiIsImZpbGUiOiJzcmMvYXBwL3VzdWFyaW9zLWNvbXBvbmVudHMvdmlldy11c2VyL3ZpZXctdXNlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvdDF7XHJcbiAgICBtYXJnaW4tbGVmdDogMzBweDtcclxufVxyXG4ucGFkMXtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxNXB4O1xyXG59Il19 */"

/***/ }),

/***/ "./src/app/usuarios-components/view-user/view-user.component.html":
/*!************************************************************************!*\
  !*** ./src/app/usuarios-components/view-user/view-user.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-navbar></app-navbar>\r\n<div class=\"container\">\r\n<hr>\r\n<hr>\r\n<div class=\"row\" *ngIf=\"load\">\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\" *ngIf=\"!im\">\r\n                <h5 class=\"card-title\">Ver usuario a detalle</h5>\r\n                <h6 class=\"card-subtitle mb-2 text-muted\">{{user.info.name}}</h6>\r\n                <ul>\r\n                    <li class=\"card-text\"><b>Registrado por: </b> {{reg_bystr}}</li>\r\n                    <li class=\"card-text\"><b>Día de registro: </b> {{reg_date}}</li>\r\n                    <li class=\"card-text\"><b>Rol: </b> <span>{{getRol(user.role)}}</span></li>\r\n                    <li class=\"card-text\"><b>Estatus:  </b> {{getStatus(user.active)}}</li>\r\n                </ul>\r\n                <form class=\"container\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"username\">Nombre de usuario <span *ngIf=\"usEx\" class=\"text-danger\"><b>¡Este usuario ya existe!</b></span></label>\r\n                        <input type=\"text\" [(ngModel)]=\"nUser\" class=\"form-control form-control-sm\" id=\"username\" placeholder=\"{{user.username}}\" [ngModelOptions]=\"{standalone: true}\" (focusout)=\"existeUsuario()\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"password\">Contraseña</label>\r\n                        <input type=\"text\" [(ngModel)]=\"nPass\" class=\"form-control form-control-sm\" id=\"password\" placeholder=\"(Cambiar contraseña usuario)\" [ngModelOptions]=\"{standalone: true}\" (focusout)=\"existeUsuario()\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"nombre\">Nombre</label>\r\n                        <input type=\"text\" [(ngModel)]=\"nName\" class=\"form-control form-control-sm\" id=\"nombre\" placeholder=\"{{user.info.name}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"email\">Email</label>\r\n                        <input type=\"email\" [(ngModel)]=\"nEmail\" class=\"form-control form-control-sm\" id=\"email\" placeholder=\"{{user.info.email}}\" [ngModelOptions]=\"{standalone: true}\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <small class=\"text-danger\">***Campos disponibles para actualizar los datos del usuario***</small>\r\n                    </div>\r\n                    <div class=\"row pad1\">\r\n                        <div class=\"col\">\r\n                            <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <button type=\"button\" class=\"btn btn-warning w-100\" (click)=\"actDes()\">{{isActivatedStr(user.active)}}</button>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <button type=\"submit\" class=\"btn btn-primary w-100\" (click)=\"updClick()\" [disabled]=\"enbuts()\">Actualizar</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"card-body\" *ngIf=\"im\">\r\n                <h5 class=\"card-title\">El usuario que quieres visualizar te pertenece</h5>\r\n                <h6 class=\"card-subtitle mb-2 text-muted\">Si deseas modificar tus datos da click <a [routerLink]=\"['../../micuenta']\">aqui</a></h6>\r\n                <div class=\"row pad1\">\r\n                    <div class=\"col-4\">\r\n                        <button type=\"button\" class=\"btn btn-info w-100\" (click)=\"regresar()\">Regresar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div *ngIf=\"!load\">\r\n    <div class=\"row\">\r\n        <p class=\"lead mx-auto\">CARGANDO</p>\r\n    </div>\r\n    <div class=\"row\">\r\n        <mat-spinner class=\"mx-auto\"></mat-spinner>\r\n    </div>\r\n</div>\r\n<hr>\r\n<hr>\r\n</div>\r\n<app-footer></app-footer>"

/***/ }),

/***/ "./src/app/usuarios-components/view-user/view-user.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/usuarios-components/view-user/view-user.component.ts ***!
  \**********************************************************************/
/*! exports provided: ViewUserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewUserComponent", function() { return ViewUserComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/usuarios.service */ "./src/app/services/usuarios.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/alert.service */ "./src/app/services/alert.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);








var ViewUserComponent = /** @class */ (function () {
    function ViewUserComponent(activatedRoute, usuarios, router, auth, location, alert) {
        this.activatedRoute = activatedRoute;
        this.usuarios = usuarios;
        this.router = router;
        this.auth = auth;
        this.location = location;
        this.alert = alert;
        this.load = false;
        this.usEx = false;
        this.im = false;
        this.nUser = "";
        this.nName = "";
        this.nEmail = "";
        this.nPass = "";
    }
    ViewUserComponent.prototype.ngOnInit = function () {
        this.loadUser();
    };
    ViewUserComponent.prototype.loadUser = function () {
        var _this = this;
        this.usuarios.getUser(this.activatedRoute.snapshot.paramMap.get("id")).subscribe(function (data) {
            _this.user = data.detail;
            _this.getName(_this.user.meta.registred_by);
            _this.getDate(_this.user.meta.registred_date);
            _this.iM();
            _this.load = true;
        }, function (err) {
            console.log(err);
        });
    };
    ViewUserComponent.prototype.getRol = function (r) {
        switch (r) {
            case 0:
                return "Administrador";
                break;
            case 1:
                return "Técnico";
                break;
            case 2:
                return "Cliente";
                break;
        }
    };
    ViewUserComponent.prototype.iM = function () {
        if (this.user._id == this.auth.getId()) {
            this.im = true;
        }
        else {
            this.im = false;
        }
    };
    ViewUserComponent.prototype.getStatus = function (s) {
        if (s) {
            return "Activo";
        }
        else {
            return "Inactivo";
        }
    };
    ViewUserComponent.prototype.isActivatedStr = function (s) {
        if (s) {
            return "Desactivar";
        }
        else {
            return "Activar";
        }
    };
    ViewUserComponent.prototype.regresar = function () {
        this.location.back();
    };
    ViewUserComponent.prototype.updClick = function () {
        if (this.nUser == "") {
            this.nUser = this.user.username;
        }
        if (this.nPass == "") {
            this.nPass = this.user.password;
        }
        if (this.nName == "") {
            this.nName = this.user.info.name;
        }
        if (this.nEmail == "") {
            this.nEmail = this.user.info.email;
        }
        this.actualizar(this.nUser, this.nPass, this.nName, this.nEmail);
    };
    ViewUserComponent.prototype.actualizar = function (u, p, n, e) {
        var _this = this;
        var uUsr = {
            '_id': this.user._id,
            'username': u,
            'password': p,
            'info': {
                'name': n,
                'email': e
            }
        };
        this.alert.confirm("¿Seguro que quiere actualizar el registro?", function () {
            _this.load = false;
            _this.usuarios.updateUser(uUsr).subscribe(function (data) {
                _this.loadUser();
                _this.nName = "";
                _this.nEmail = "";
                _this.nUser = "";
                _this.load = true;
                _this.alert.success("Actualizado");
            }, function (err) {
                console.log(err);
                _this.alert.error("Ocurrio un error");
            });
        }, function () {
            _this.alert.error("No se registraron cambios");
        });
    };
    ViewUserComponent.prototype.actDes = function () {
        var _this = this;
        this.alert.confirm('Al realizar esta acción alterará el inicio de sesíon al usuario.', function () {
            _this.load = false;
            _this.usuarios.actDes(_this.activatedRoute.snapshot.paramMap.get("id"), _this.user.active).subscribe(function (data) {
                _this.loadUser();
                _this.alert.success("Actualizado");
                _this.load = true;
            }, function (err) {
                console.log(err);
                _this.alert.error("Ocurrio un error");
            });
        }, function () { _this.alert.error("No se registraron cambios"); });
    };
    ViewUserComponent.prototype.getName = function (id) {
        var _this = this;
        this.usuarios.getUser(id).subscribe(function (res) {
            _this.reg_by = res.detail;
            _this.reg_bystr = _this.reg_by.info.name;
        }, function (err) {
            console.error(err);
            return "No definido";
        });
    };
    ViewUserComponent.prototype.getDate = function (ut) {
        var registro = moment__WEBPACK_IMPORTED_MODULE_7__(ut.replace('T', ' ').slice(0, 16)).locale('es');
        this.reg_date = registro.format('dddd, MMMM Do YYYY');
        this.reg_date = this.reg_date.charAt(0).toUpperCase() + this.reg_date.slice(1);
    };
    ViewUserComponent.prototype.enbuts = function () {
        if (this.nUser != "" || this.nEmail != "" || this.nName != "") {
            return false;
        }
        return true;
    };
    ViewUserComponent.prototype.goToMiCuenta = function () {
        this.router.navigateByUrl('micuenta');
    };
    ViewUserComponent.prototype.existeUsuario = function () {
        var _this = this;
        this.usuarios.userExists(this.nUser).subscribe(function (res) {
            if (res.detail != null) {
                _this.usEx = true;
            }
            else {
                _this.usEx = false;
            }
        }, function (err) {
            console.log(err);
        });
    };
    ViewUserComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-view-user',
            template: __webpack_require__(/*! ./view-user.component.html */ "./src/app/usuarios-components/view-user/view-user.component.html"),
            styles: [__webpack_require__(/*! ./view-user.component.css */ "./src/app/usuarios-components/view-user/view-user.component.css")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _services_usuarios_service__WEBPACK_IMPORTED_MODULE_3__["UsuariosService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"],
            src_app_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"]])
    ], ViewUserComponent);
    return ViewUserComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");





if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! D:\PROJECTS\emg\emg_web\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map